(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[302,672],{"+b91":function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var i=n("1dBE");const{Provider:s,useHook:o}=Object(i.c)("UnauthHeaderContext")},"0WZX":function(e,t,n){n.d(t,"a",(function(){return rt}));var i=n("q1tI"),s=n("/MKj"),o=n("gxu6"),a=n("clxp"),r=n("i2lo"),l=n("28DW"),c=n("4kAQ"),d=n("6adH"),u=n("ANjH"),h=n("EC67"),p=n("nKUr");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const j=[501181];class g extends i.PureComponent{constructor(...e){super(...e),b(this,"completeExperience",()=>{const{experience:e,completeExperience:t}=this.props;e&&t&&t(e.placement_id,e.experience_id)}),b(this,"onTouch",()=>{this.completeExperience(),Object(l.a)("mweb_unauth_toast_upsell.tap");const{history:e,location:t}=this.props;t.pathname.startsWith("/search/")?e.push({pathname:"/",state:{from:`${t.pathname}${t.search}`,next:`${t.pathname}${t.search}`}}):e.push({pathname:"/",state:{from:t.pathname,next:t.pathname}})})}componentDidMount(){Object(l.a)("mweb_unauth_toast_upsell.shown")}render(){return this.props.experience?Object(p.jsx)(r.a,{experience:this.props.experience,eligibleIds:j,children:Object(p.jsx)(d.a,{persistent:!0,text:this.props.experience.display_data.toast_text,icon:"arrow-circle-forward",onTouch:this.onTouch})}):null}}var O=Object(u.compose)(h.l,Object(s.connect)(null,(e,t)=>({completeExperience:(t,n)=>e(Object(c.a)(t,n))})))(g),m=n("FDmi"),f=n("hLPq"),x=n("bcHz"),S=n("fs0a"),_=n("7w6Q"),w=n("kmwA"),y=n("tCfZ"),v=n("qpbZ"),T=n("yweb"),E=n("n6mq");function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const I={visible:{transform:"translateY(0)",transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1)"},hiding:{transform:"translateY(350px)",transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1)"},wash:{backgroundColor:"rgba(0, 0, 0, 0.5)",height:"100%",touchAction:"none",width:"100%",zIndex:10001,position:"fixed",top:0,left:0},mask:{baseStyles:{backgroundColor:"rgba(0,0,0, .5)",height:"100%",touchAction:"none",width:"100%",zIndex:1}}},D=1e3;class M extends i.PureComponent{constructor(...e){super(...e),C(this,"state",{visible:!1,hiding:!1,showWash:!1}),C(this,"getTitle",()=>{const{invite:e}=this.props,t=e&&e.sender,n=t&&t.first_name;return this.props.i18n._("Join {{ name }} on Pinterest for more ideas","Prompt user to signup to access all Pinterest features","Prompt user to signup to access all Pinterest features").replace("{{ name }}",n||"")}),C(this,"getAvatar",()=>{const{invite:e}=this.props,t=e&&e.sender,n=t&&t.image_medium_url,i=t&&t.full_name;return Object(p.jsx)(m.a,{src:n||"",name:i||"",size:"sm"})}),C(this,"handleHide",()=>{const{onDismiss:e}=this.props;_.a.increment("mweb_facebook_social_upsell.close"),this.setState({hiding:!0,showWash:!1}),this.slideInAnimation=window.requestAnimationFrame(()=>{setTimeout(()=>{e&&e()},D)})}),C(this,"handleHideOutsideTap",()=>{const{onDismiss:e}=this.props;_.a.increment("mweb_facebook_social_upsell.close.outside.modal"),this.setState({hiding:!0,showWash:!1}),this.slideInAnimation=window.requestAnimationFrame(()=>{setTimeout(()=>{e&&e()},D)})}),C(this,"handleFBConnect",e=>{_.a.increment("mweb_facebook_social_upsell.fb_connect_button_click."+e)}),C(this,"handleSignupClick",()=>{_.a.increment("mweb_facebook_social_upsell.signup_button_click"),this.props.history.push({pathname:"/",state:{from:this.props.location.pathname,next:this.props.location.pathname}})}),C(this,"initializeShowAnimation",()=>{_.a.increment("mweb_facebook_social_upsell.shown"),this.slideInAnimation=window.requestAnimationFrame(()=>{setTimeout(()=>{this.setState({visible:!0})},D)})})}componentDidMount(){_.a.increment("mweb_facebook_social_upsell.land");const{invite:e}=this.props,t=e?e.invite_channel:null;t&&_.a.increment("mweb_social_unauth.invite_channel."+t),this.initializeShowAnimation()}componentWillUnmount(){window.cancelAnimationFrame(this.slideInAnimation)}renderDefaultLoginHeader(){return Object(p.jsxs)(E.f,{flex:"grow",display:"flex",alignItems:"center",marginBottom:2,justifyContent:"center",children:[Object(p.jsxs)(E.f,{alignItems:"center",display:"flex",direction:"column",marginBottom:5,children:[Object(p.jsx)(E.f,{children:Object(p.jsx)(E.bb,{align:"start",weight:"bold",children:Object(p.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._("Sign up to see more","Title on mobile web signup modal to prompt users to signup for Pinterest.","Title on mobile web signup modal to prompt users to signup for Pinterest.")})})}),Object(p.jsx)(E.f,{marginBottom:1}),Object(p.jsx)(E.f,{alignItems:"center",display:"flex",direction:"column",children:Object(p.jsx)(E.bb,{align:"start",children:this.props.i18n._("Free, unlimited access to ideas","First value prop on mobile web sign up modal","First value prop on mobile web sign up modal")})})]}),Object(p.jsx)(E.q,{})]})}renderInviterHeader(){return Object(p.jsxs)(E.f,{flex:"grow",display:"flex",alignItems:"center",marginBottom:2,children:[Object(p.jsxs)(E.f,{alignItems:"center",direction:"row",display:"flex",paddingY:3,children:[Object(p.jsx)(E.f,{children:Object(p.jsx)(E.bb,{align:"start",weight:"bold",children:Object(p.jsx)("span",{className:"deprecatedTextSizeXL",children:this.getTitle()})})}),Object(p.jsx)(E.f,{dangerouslySetInlineStyle:{__style:{marginLeft:"26%"}},children:this.getAvatar()})]}),Object(p.jsx)(E.q,{})]})}render(){const{location:e,invite:t}=this.props,{visible:n,hiding:i,showWash:s}=this.state,o=w.a.settings.LOGIN_URL,a=t?t.sender:null,r=n&&!i?I.visible:I.hiding;return Object(p.jsxs)(E.f,{dangerouslySetInlineStyle:{__style:s?I.wash:{}},children:[n&&!i?Object(p.jsx)(x.a,{onTouch:this.handleHideOutsideTap,pressState:"none",children:Object(p.jsx)(E.f,{position:"fixed",top:!0,left:!0,opacity:1,dangerouslySetInlineStyle:{__style:I.mask.baseStyles}})}):null,Object(p.jsx)(E.f,{position:"fixed",bottom:!0,color:"white",paddingX:6,width:"100%",dangerouslySetInlineStyle:{__style:{...r,boxShadow:"0 1px 5px 0 rgba(0,0,0,0.25)",paddingBottom:"5%",paddingTop:"2%",touchAction:"none",zIndex:10001}},children:Object(p.jsxs)(E.f,{maxWidth:400,marginStart:"auto",marginEnd:"auto",children:[Object(p.jsx)(E.f,{paddingY:2}),Object(p.jsx)(E.f,{position:"absolute",left:!0,top:!0,marginStart:4,marginTop:2,children:Object(p.jsx)(f.a,{accessibilityLabel:this.props.i18n._("Close modal","Close the modal for facebook upsell","Close the modal for facebook upsell"),icon:"cancel",onTouch:this.handleHide,size:"sm"})}),Object(p.jsx)(E.f,{paddingY:2}),a?this.renderInviterHeader():this.renderDefaultLoginHeader(),Object(p.jsx)(E.f,{marginBottom:1,height:40,children:Object(p.jsx)(S.a,{facebookText:this.props.i18n._("Continue with Facebook","Button to login or signup with FB on Facebook","Button to login or signup with FB on Facebook"),from:e.pathname,next:e.pathname,fbButtonType:"continue",fbUseContinueAs:!0,fbConnectHandler:this.handleFBConnect})}),Object(p.jsx)(E.f,{marginBottom:1,marginTop:2,children:Object(p.jsx)(E.g,{fullWidth:!0,onClick:this.handleSignupClick,color:"gray",text:this.props.i18n._("Sign Up","Button to redirect user to Signup Page on mweb","Button to redirect user to Signup Page on mweb")})}),Object(p.jsx)(E.f,{marginTop:3,children:Object(p.jsx)(E.bb,{color:"gray",align:"center",size:"sm",children:Object(v.b)(this.props.i18n._("Have an account? {{ logIn }}","Asking users if they already have an account","Asking users if they already have an account"),{logIn:Object(p.jsx)(E.C,{href:o,inline:!0,onClick:({disableOnNavigation:e})=>e(),children:Object(p.jsx)(E.bb,{color:"gray",inline:!0,size:"sm",weight:"bold",children:this.props.i18n._("Log in","Mobile web link to log in page","Mobile web link to log in page")})})})})}),Object(p.jsx)(E.f,{marginTop:3,children:Object(p.jsx)(y.a,{size:"xs"})})]})})]})}}var U=Object(h.l)((function(e){const t=Object(T.c)();return Object(p.jsx)(M,{...e,i18n:t})})),A=n("mp1x"),P=n("eyT9");const k={border:Object(P.e)()?void 0:"1px solid #efefef",bottom:0,boxShadow:"0 0 16px rgba(0,0,0, 0.16)",left:0,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1};var L=({children:e,isOpen:t,onDismiss:n,type:i})=>Object(p.jsx)(A.a,{allowScrolling:!0,childPaddingX:4,childPaddingY:4,disableMask:!0,hideCloseIcon:!0,isOpen:t,modalStyle:k,onCloseIconDismiss:n,onDismiss:n,type:i,children:e}),B=n("/8nX"),H=n("OadL");class R extends i.PureComponent{constructor(...e){var t,n,i;super(...e),i=({event:e})=>{e&&e.stopPropagation&&e.stopPropagation();const{history:t,socialCollabGroupBoardPath:n}=this.props,i=n||"";_.a.increment("mweb.social.group_board.public.modal.display"),t.push({pathname:"/signup/step1/",state:{next:i,isFromGroupBoardsInvite:!0}})},(n="handleJoinBoardClick")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){const{inviteObject:e}=this.props,t=e?e.invite_channel:null;_.a.increment("mweb.social.group_board.public.modal.display"),t&&_.a.increment("mweb.social.group_board.public.invite_channel."+t)}componentWillUnmount(){const{onDismiss:e}=this.props;e&&e()}render(){const{viewType:e,viewParameter:t,isOpen:n,inviteObject:i,onDismiss:s,board:o}=this.props,a=i?i.sender:null,r=a?a.first_name:"",l=a?a.image_medium_url:"",c=a?a.full_name:"",d=r?this.props.i18n._("{{ name }} invited you to join their board","Mobile Modal prompting users to join a friends({{ name }}) board","Mobile Modal prompting users to join a friends({{ name }}) board").replace("{{ name }}",r):this.props.i18n._("Your friends invited you to join their board","Mobile Modal prompting users to join a friends board","Mobile Modal prompting users to join a friends board"),u=this.props.i18n._("Join board","Join Board Button","Join Board Button");return Object(p.jsx)(B.a,{viewType:e||202,viewParameter:t,component:13196,children:Object(p.jsx)(L,{isOpen:n,onDismiss:s,type:"groupboard_join",children:o?Object(p.jsxs)(E.f,{padding:3,children:[Object(p.jsxs)(E.f,{children:[Object(p.jsxs)(E.f,{alignItems:"center",direction:"row",display:"flex",children:[Object(p.jsx)(E.f,{dangerouslySetInlineStyle:{__style:{marginRight:"5%"}},width:"48px",children:Object(p.jsx)(m.a,{src:l||"",name:c||""})}),Object(p.jsx)(E.f,{maxWidth:"74%",children:Object(p.jsx)(E.bb,{align:"start",overflow:"normal",weight:"bold",children:d})})]}),Object(p.jsx)(E.f,{marginBottom:4})]}),Object(p.jsx)(E.g,{fullWidth:!0,text:u,color:"red",type:"button",onClick:this.handleJoinBoardClick})]}):Object(p.jsx)(E.f,{padding:3,children:Object(p.jsx)(E.U,{show:!0,accessibilityLabel:this.props.i18n._("Loading Board","Accessiblity label for Spinner searching for board","Accessiblity label for Spinner searching for board")})})})})}}var z=Object(s.connect)((e,t)=>{const n=e&&e.session&&e.session.socialCollabGroupBoardPath&&e.session.socialCollabGroupBoardPath.split("?")[0]||"",i=Object(H.b)(e)[n];return{viewParameter:e.currentPage.viewParameter,viewType:e.currentPage.viewType,country:e.session.country,board:i,socialCollabGroupBoardPath:e.session.socialCollabGroupBoardPath}},()=>({}))((function(e){const t=Object(T.c)();return Object(p.jsx)(R,{...e,i18n:t})})),F=n("75Yz"),W=n("G5lw"),N=n("rYoy"),G=n("QtD7"),q=n("ulr2"),Y=n("wMN6"),$=n("E/Zv"),J=n("QAzJ"),X=n("UIBZ");function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Q=()=>{document.body&&(document.body.style.overflow="hidden",document.body.style.touchAction="none")},Z=()=>{document.body&&(document.body.style.overflow="visible",document.body.style.touchAction="auto")};class V extends i.Component{constructor(...e){super(...e),K(this,"state",{hasScrollSignupDisplayed:!1,scrollingModalEnabled:!1,scrollThreshold:0,isIdleTimerDeactivated:!1}),K(this,"inactiveTime",0),K(this,"handleIdleInactivity",()=>{const e=this.inactiveTime+500;_.a.increment("mweb_unauth.idle_time."+e),this.inactiveTime=e,e>=6e5&&this.handleIdleDeactivate()}),K(this,"handleIdleDeactivate",()=>{const{isIdleTimerDeactivated:e}=this.state;e||(clearInterval(this.idleId),this.setState({isIdleTimerDeactivated:!0}),window.removeEventListener("touchstart",this.handleIdleDeactivate),window.removeEventListener("touchend",this.handleIdleDeactivate),window.removeEventListener("touchcancel",this.handleIdleDeactivate),window.removeEventListener("touchmove",this.handleIdleDeactivate))}),K(this,"handleThrottledScrollForSignupModal",Object(Y.n)(e=>{const{mobileSignupModalDispatch:t,toggleSignupScrollControllerDisplay:n}=this.props,{scrollingModalEnabled:i}=this.state;!(null==t||!t({type:"UNAUTH_UPDATE_SIGNUP_SCROLL_CONTROLLER_SCROLL_POSITION",signupScrollControllerScrollPosition:e}))&&(Q(),i||(this.setState({scrollingModalEnabled:!0}),n(!0)))},500)),K(this,"handleScroll",()=>{const{isSignupModalShown:e,showSignupModal:t,isUnauthSharingModalsShown:n,toggleSignupScrollControllerDisplay:i,activateMWebFMASignupScrollControllerExperiment:s}=this.props,{hasScrollSignupDisplayed:o,scrollingModalEnabled:a}=this.state,r=this.getScrollPos();this.handleScrollLogging(r),this.handleIdleDeactivate();const{anyEnabled:l}=s();l?this.handleThrottledScrollForSignupModal(r):r>400&&!o&&!n&&!e&&(Q(),a||(this.setState({scrollingModalEnabled:!0}),i(!0)),this.setState({hasScrollSignupDisplayed:!0}),t($.a.SOCIAL_INVITE))}),K(this,"handleScrollLogging",e=>{let t=this.state.scrollThreshold,n=0,i=0,s=0;e>=10500||(e>250&&e<500&&0==(1&t)?(n=250,s=1):e>500&&e<750&&0==(2&t)?(n=500,s=2):e>750&&e<1e3&&0==(4&t)?(n=750,s=3):e>=1e3&&e<1500&&0==(8&t)?(n=1e3,s=4):e>=1500&&e<2e3&&0==(16&t)?(n=1500,s=5):e>=2e3&&e<2500&&0==(32&t)?(n=2e3,s=6):e>=2500&&e<3e3&&0==(64&t)?(n=2500,s=7):e>=3e3&&e<3500&&0==(128&t)?(n=3e3,s=8):e>=3500&&e<4e3&&0==(256&t)?(n=3500,s=9):e>=4e3&&e<4500&&0==(512&t)?(n=4e3,s=10):e>=4500&&e<5e3&&0==(1024&t)?(n=4500,s=11):e>=5e3&&e<6e3&&0==(2048&t)?(n=5e3,s=12):e>=6e3&&e<7e3&&0==(4096&t)?(n=6e3,s=13):e>=7e3&&e<8e3&&0==(8192&t)?(n=7e3,s=14):e>=8e3&&e<9e3&&0==(16384&t)?(n=8e3,s=15):e>=9e3&&e<1e4&&0==(32768&t)?(n=9e3,s=16):e>=1e4&&0==(65536&t)&&(n=1e4,s=17),n&&(i=1<<s-1,_.a.increment("mweb_unauth_scroll_depth."+n),t|=i,this.setState({scrollThreshold:t})))}),K(this,"handleSignupDismiss",()=>{const{hideSignupModal:e,isSignupModalShown:t,toggleSignupScrollControllerDisplay:n,mobileSignupModalDispatch:i}=this.props;t&&e(),null==i||i({type:"DISMISS_MOBILE_SIGNUP_MODAL"}),n&&n(!1),this.setState({scrollingModalEnabled:!1}),Z()})}componentDidMount(){this.idleId=setInterval(this.handleIdleInactivity,500),window.addEventListener("scroll",this.handleScroll),window.addEventListener("touchstart",this.handleIdleDeactivate),window.addEventListener("touchend",this.handleIdleDeactivate),window.addEventListener("touchcancel",this.handleIdleDeactivate),window.addEventListener("touchmove",this.handleIdleDeactivate)}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll),this.handleIdleDeactivate(),Z()}getScrollPos(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}render(){const{scrollingModalEnabled:e}=this.state,{isSignupModalShown:t,isMobileSignupModalShown:n,invite:i,renderSignupModal:s,renderOnActionUpsell:o}=this.props,a=e?s({closeVariant:"enabled_background_icon_only",onDismiss:this.handleSignupDismiss,invite:i,isScrollingModal:!0,isOpen:e}):o(),r=n||t?a:null;return Object(p.jsx)(E.f,{children:r})}}var ee=Object(s.connect)((e,t)=>({isSignupModalShown:e.session.isSignupModalShown,isGoogleOneTapShown:e.session.isGoogleOneTapShown,isUnauthSharingModalsShown:e.session.isUnauthSharingModalsShown}),e=>({hideSignupModal:()=>e(Object(q.l)()),showSignupModal:t=>Object($.l)(e,t),activateExperiment:t=>e(Object(G.a)(t))}))(e=>{const t=!!Object(X.b)(),n=Object(X.c)(),i=Object(J.b)("mweb_fma_signupscrollcontroller");return Object(p.jsx)(V,{...e,isMobileSignupModalShown:t,activateMWebFMASignupScrollControllerExperiment:i,mobileSignupModalDispatch:n})}),te=n("T/RA"),ne=n("2NiC");function ie({onLoginClick:e,onSignupClick:t}){const n=Object(T.c)();return Object(p.jsxs)(E.f,{alignItems:"center",direction:"column",display:"flex",paddingX:2,paddingY:4,children:[Object(p.jsx)(E.f,{flex:"grow",maxWidth:220,children:(()=>{const e=n._("You are signed out","Heading on the bottom right upsell suggesting user is not signed in","Heading on the bottom right upsell suggesting user is not signed in");return Object(p.jsxs)(E.f,{marginBottom:6,children:[Object(p.jsx)(E.f,{marginBottom:2,children:Object(p.jsx)(E.v,{overflow:"normal",size:"sm",align:"center",children:e})}),Object(p.jsx)(E.bb,{overflow:"normal",align:"center",children:n._("Sign in to get the best experience","Subheader value prop on the bottom right upsell","Subheader value prop on the bottom right upsell")})]})})()}),Object(p.jsxs)(E.f,{display:"flex",direction:"row",justifyContent:"center",minWidth:"100%",children:[Object(p.jsx)(E.f,{marginEnd:2,children:Object(p.jsx)(E.g,{fullWidth:!0,size:"md",text:n._("Log in","Text on the button on the bottom banner that leads unauthorized users to login.","Text on the button on the bottom banner that leads unauthorized users to login."),onClick:()=>{e(),Object(l.j)("unauth.tablet.conversion_upsell.login.button_click")}})}),Object(p.jsx)(E.f,{children:Object(p.jsx)(E.g,{fullWidth:!0,size:"md",text:n._("Sign up","sign up button on the bottom banner","sign up button on the bottom banner"),color:"red",onClick:()=>{t(),Object(l.j)("unauth.tablet.conversion_upsell.signup.button_click")}})})]})]})}var se=n("eQwl"),oe=n("AGnR");var ae=()=>{const e=Object(h.i)(),{viewType:t,viewParameter:n}=Object(s.useSelector)(e=>e.currentPage);return({event:i,navigateToDeepLink:s})=>{const o=i;Object(l.k)("mweb_unauth.interstitial_app_upsell.install_tap",{x:o&&o.pageX||-1,y:o&&o.pageY||-1}),Object(se.f)(),Object(l.h)("press_open_app",!0),Object(oe.h)({component:13198,element:10308,view_type:t,view_parameter:n}),s&&s(e.pathname.substr(1))}},re=n("DzJC"),le=n.n(re);var ce=()=>{const[e,t]=Object(i.useState)(0);return Object(i.useEffect)(()=>{const e=le()(()=>t(window.scrollY),10);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),e},de=n("EfoL"),ue=n("ntEp");var he=({onDismiss:e})=>{const t=Object(T.c)(),n=ae(),o=Object(s.useSelector)(({session:e})=>e.isTablet),a=Object(h.i)(),r=Object(h.h)(),c=ce(),[d,u]=Object(i.useState)(!1),{viewType:b,viewParameter:j}=Object(s.useSelector)(e=>e.currentPage),g=(()=>{const e=Object(h.i)(),t=Object(h.j)();return Object(s.useSelector)(n=>{var i;const s=t.id&&n.pins[t.id],o=Object(H.b)(n)[e.pathname],a=null==o||null===(i=o.cover_pin)||void 0===i?void 0:i.pin_id,r=a&&s&&n.pins[a],l=s||r,c=Object(de.d)(l)||o&&o.image_cover_url||"";return c?{color:(l||{}).dominant_color,src:c}:null})})(),{anyEnabled:O}=Object(J.b)("mweb_floating_app_upsell_right_side_cancel")(),m=Object(J.b)("mweb_unauth_jp_clickthru_imageviewer2"),x=Object(ue.b)(),S=(null==x?void 0:x.userHasExitedFromImageViewer)&&m().group.startsWith("enabled_image_viewer_overlay");Object(i.useEffect)(()=>{S&&u(!0)},[S]),Object(i.useEffect)(()=>{c>200?d||u(!0):o&&d&&u(!1)},[c,o]);const _=t._("Download app","unauth.mweb.floating_app_modal","CTA on the app upsell modal"),w=t._("Get the free Pinterest app to see more","unauth.mweb.floating_app_modal.main_text","Top text on the floating app install modal prompting the users to download the app"),y=t._("Loving these ideas?","unauth.mweb.floating_app_modal.main_text","Top text on the floating app install modal prompting the users to download the app"),v=t=>{const n=t;Object(l.k)("mweb_unauth.float_app_upsell.dismiss_tap",{x:n&&n.pageX||-1,y:n&&n.pageY||-1}),Object(l.h)("click_dismiss_float_app_upsell"),Object(oe.h)({component:13198,element:75,view_type:b,view_parameter:j}),e()};return Object(p.jsx)(B.a,{viewType:b||202,viewParameter:j,component:13130,children:Object(p.jsxs)(E.f,{"data-test-id":"floating-app-upsell",rounding:o?6:8,paddingY:o?4:2,paddingX:o?4:2,display:"flex",direction:"column",top:!o||!o,bottom:!!o&&!!o,left:!o||!o,right:!0,marginStart:o?0:"auto",marginEnd:o?4:"auto",maxWidth:o?250:360,color:"white",opacity:1,zIndex:new E.t(1e4),dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",transition:"transform 225ms ease-in-out",transform:(()=>{let e=d?0:o?145:120;return e=o?e:-1*e,`translateY(${e}%)`})(),marginBottom:o?84:void 0}},position:"fixed",children:[!o&&!O&&Object(p.jsx)(E.f,{"data-test-id":"cancel-button",children:Object(p.jsx)(f.a,{icon:"cancel",onTouch:v,size:"sm"})}),!o&&O&&Object(p.jsx)(E.f,{"data-test-id":"cancel-button",display:"flex",alignSelf:"end",children:Object(p.jsx)(f.a,{icon:"cancel",padding:1,onTouch:v,size:"sm"})}),o?Object(p.jsx)(ie,{onSignupClick:()=>{r.push("/signup",a.state)},onLoginClick:()=>{r.push("/login",a.state)}}):Object(p.jsxs)(E.f,{children:[Object(p.jsxs)(E.f,{"data-test-id":"interest-image",display:"flex",margin:2,children:[g&&Object(p.jsx)(E.f,{minWidth:48,height:64,overflow:"hidden",rounding:2,marginEnd:4,children:Object(p.jsx)(E.y,{src:g.src,fit:"cover",naturalWidth:48,naturalHeight:64,color:g.color||"white",alt:"image"})}),Object(p.jsxs)(E.f,{display:"flex",direction:"column",children:[Object(p.jsx)(E.f,{children:Object(p.jsx)(E.bb,{weight:"bold",children:y})}),Object(p.jsx)(E.bb,{children:w})]})]}),Object(p.jsx)(E.f,{alignItems:"center",alignSelf:"center","data-test-id":"download-button",display:"flex",direction:"row",justifyContent:"center",marginBottom:3,marginStart:4,marginEnd:4,wrap:!0,children:Object(p.jsx)(ne.a,{children:e=>Object(p.jsx)(E.g,{color:"red",onClick:({event:t})=>{n({event:t,navigateToDeepLink:e}),Object(l.j)("unauth.mweb.phone.app_upsell.button_click")},size:"md",text:_})})})]})]})})},pe=n("pLLR"),be=n("vtuW"),je=n("isp9");var ge=e=>{const{isBot:t}=Object(pe.d)(),n=Object(h.i)(),i=Object(J.b)("mweb_instagram_browser_switch"),s=Object(be.a)("msmrsfda");return!t&&!e&&(Object(je.M)(n)||Object(je.f)(n))&&!s&&!(()=>{const e=Object(je.A)()&&i().anyEnabled;return e&&!Object(be.a)("ufausfiiab")&&(_.a.increment("unauth.floating_app_upsell.suppress_for_instagram_in_app_browser"),Object(be.c)("ufausfiiab","1")),e})()};function Oe({showLiteUpsell:e}){Object(i.useEffect)(()=>{Object(se.g)()},[]);const{viewType:t,viewParameter:n}=Object(s.useSelector)(e=>e.currentPage),[o,a]=Object(i.useState)(!1),r=ge(e);return Object(p.jsx)(B.a,{viewType:t||202,viewParameter:n,component:13198,children:Object(p.jsx)(E.f,{children:r&&!o&&Object(p.jsx)(he,{onDismiss:()=>a(!0)})})})}var me=n("MH4Q"),fe=n("g6r8"),xe=n("+b91");function Se({setRef:e,showDesktopSignupModal:t}){const n=Object(T.c)(),i=Object(fe.a)(),o=Object(h.h)(),a=Object(h.i)(),r=Object(s.useSelector)(e=>e),{currentPage:c}=r,d=c.viewParameter,u=c.viewType,b=()=>{Object(l.a)("unauth.login_button.click"),Object(l.h)("mweb_press_header_login"),t?t("login"):o.push("/login")},j="desktop"===i,g=j?"signup":"download",O="signup"===g?n._("Sign up","Text on button on the top bar that leads users to signing up.","Text on button on the top bar that leads users to signing up."):n._("Download app","mweb.unauth_header.download_app","CTA on the app interstitial upsell to install the app");return Object(p.jsx)(E.f,{"data-test-id":"unauth-header",position:"relative",top:!0,zIndex:new E.t(9999),width:"100%",children:Object(p.jsx)(ne.a,{children:n=>Object(p.jsx)(xe.a,{value:{emptySearchSuggestions:[],headerOffsetTop:0,searchBoxType:j?"full":"simple"},children:Object(p.jsx)(me.b,{enableSettingsFlyout:j,primaryButtonText:O,onLoginButtonClick:b,onPrimaryButtonClick:e=>{"signup"===g?(Object(l.a)("unauth.signup_button.click"),Object(l.h)("mweb_press_header_signup"),t?t("signup"):o.push("/signup")):((e,t)=>{Object(l.h)("press_open_app",!0),Object(oe.h)({component:13198,element:10308,view_type:u,view_parameter:d}),t&&t(a.pathname.substr(1))})(0,n)},ref:e})})})})}var _e=n("Lr1Z"),we=n("lsgW"),ye=n("HuSE"),ve=n("1Qfp");var Te=({children:e,fallback:t})=>(()=>{const e=Object(s.useSelector)(e=>{var t;return!(null==e||null===(t=e.session)||void 0===t||!t.isSeoBot)}),t=Object(ve.a)();return!e&&!t})()?t||null:e,Ee=n("5ks/"),Ce=n("2JgW");const Ie=()=>{const e=Object(h.i)(),t=Object(J.b)("mweb_unauth_loading_ssr_pin_page"),n=Object(J.b)("mweb_unauth_ssr_board_page");return Object(Ee.a)()&&(Object(je.q)(e)&&t().anyEnabled||Object(je.f)(e)&&n().anyEnabled)?Object(p.jsxs)(E.u,{gap:1,children:[Object(p.jsx)(ye.a,{width:80,height:40,rounding:6}),Object(p.jsx)(ye.a,{width:80,height:40,rounding:6})]}):null};function De({isShowing:e,setRef:t,showLiteUpsell:n}){const i=Object(T.c)(),o=Object(h.i)(),a=Object(h.h)(),{viewType:r,viewParameter:l}=Object(s.useSelector)(e=>e.currentPage),c=ae(),d=ge(n),u=Object(J.b)("mweb_creator_access_upsell")().anyEnabled;if(Object(s.useSelector)(({marketingCampaign:e})=>u&&e.params.utm_campaign))return null;const b=Object(je.y)(o)||Object(je.Z)(o),j=i._("Log in","Label for log in button","Label for log in button"),g=i._("Sign up","Text on button on the top bar that leads users to signing up.","Text on button on the top bar that leads users to signing up."),O=i._("Download","mweb.unauth.interstitial_upsell.download_button_text","CTA on the app interstitial upsell to install the app"),m=(n?O.length:(d||Object(je.y)(o)?g:O).length+j.length)>=18;return Object(p.jsx)(E.f,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 0 0 rgba(0, 0, 0, 0.08)",backgroundColor:Object(P.e)()?"#333":"white",transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:e?"translateY(-100vh)":"translateY(0)",zIndex:o.hash==="#"+Ce.a?void 0:99}},top:!0,left:!0,width:"100vw",position:"relative",paddingX:3,children:Object(p.jsx)(E.f,{ref:t,children:Object(p.jsxs)(E.f,{alignItems:"center",display:"flex",direction:"row",justifyContent:"between","data-test-id":"unauth-header",children:[Object(p.jsx)(E.ab,{accessibilityLabel:i._("Pinterest App","Pinterest icon for app upsell","Pinterest icon for app upsell"),children:Object(p.jsxs)(E.f,{alignItems:"center",display:"flex",direction:"row",marginEnd:3,children:[Object(p.jsx)(E.f,{alignItems:"center",display:"flex",height:56,justifyContent:"center",rounding:2,children:Object(p.jsx)(_e.a,{pressState:"none",to:"/",children:n?Object(p.jsx)(we.a,{size:24}):Object(p.jsx)(E.w,{color:"red",icon:"pinterest",accessibilityLabel:i._("Pinterest App","Pinterest icon for app upsell","Pinterest icon for app upsell"),size:24})})}),Object(p.jsx)(E.f,{paddingY:2,paddingX:1,children:!m&&Object(p.jsxs)(E.f,{children:[Object(p.jsx)(E.v,{color:"red",size:"sm",overflow:"normal",children:n?i._("Pinterest Lite","Pinterest lite brand for the app upsell","Pinterest lite brand for the app upsell"):i._("Pinterest","Pinterest brand for the app upsell","Pinterest brand for the app upsell")}),n&&Object(p.jsx)(E.f,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:Object(p.jsx)(E.f,{children:Object(p.jsx)(E.bb,{inline:!0,size:"sm",color:"gray",children:i._("Save space on your device","Unauth app upsell copy that describe Pinterest product core value to users","Unauth app upsell copy that describe Pinterest product core value to users")})})})]})})]})}),Object(p.jsx)(Te,{fallback:Object(p.jsx)(Ie,{}),children:Object(p.jsxs)(E.f,{marginEnd:0,flex:"none",alignItems:"center",display:"flex",direction:"row","data-test-id":"UnauthAppUpsellButton",children:[!n&&!Object(je.B)(o)&&Object(p.jsx)(E.f,{"data-test-id":"AppUpsellLoginButton",children:Object(p.jsx)(E.g,{fullWidth:!0,color:"white",onClick:()=>{Object(oe.h)({component:13198,element:30,view_type:r,view_parameter:l}),a.push("/login",o.state)},size:"md",text:j})}),d||b?Object(p.jsx)(E.f,{"data-test-id":"AppUpsellSignupButton",children:Object(p.jsx)(E.g,{fullWidth:!0,color:b?"red":"gray",onClick:()=>{Object(oe.h)({component:13198,element:31,view_type:r,view_parameter:l}),a.push("/signup",o.state)},size:"md",text:g})}):Object(p.jsx)(E.f,{"data-test-id":"AppUpsellDownloadButton",children:Object(p.jsx)(ne.a,{redirectToLite:n,children:e=>Object(p.jsx)(E.g,{fullWidth:!0,color:Object(je.db)(o)?"gray":"red",onClick:({event:t})=>c({event:t,navigateToDeepLink:e}),size:"md",text:O})})})]})})]})})})}var Me=n("snfI");var Ue=Object(h.l)(({invite:e,location:t,showLiteUpsell:n=!1})=>{var s;const o=Object(T.c)(),[a,r]=Object(i.useState)(!0);Object(i.useEffect)(()=>{Object(l.a)("mweb_unauth_toast_upsell.shown")},[]);const c=({event:e},n)=>{Object(l.a)("mweb_unauth_toast_upsell.tap"),Object(l.h)("press_upsell");const{pathname:i,search:s}=t;n&&n(i.concat(s).substr(1))},d=(null==e||null===(s=e.sender)||void 0===s?void 0:s.first_name)||"",u=o._("Join {{ name }} on Pinterest for more ideas","Prompt user to signup to access all Pinterest features","Prompt user to signup to access all Pinterest features").replace("{{ name }}",d),{isNavFooterHiddenAfterScroll:h}=Object(Me.b)();return Object(p.jsx)(L,{isOpen:h&&a,onDismiss:()=>{r(!1)},type:"unauth_toast_upsell",children:Object(p.jsxs)(E.f,{padding:2,children:[d&&Object(je.U)(t,!0,!0)&&Object(p.jsx)(E.f,{marginBottom:4,children:Object(p.jsx)(E.bb,{overflow:"normal",weight:"bold",align:"center",children:u})}),Object(p.jsx)(ne.a,{redirectToLite:n,children:e=>Object(p.jsx)(E.g,{fullWidth:!0,color:"red",onClick:t=>{c(t,e)},size:"md",text:o._("Open in app","Opens the Pin in the Pinterest app","Opens the Pin in the Pinterest app")})})]})})}),Ae=n("ARZW"),Pe=n("bUAJ"),ke=n("ke5A"),Le=n("zRck"),Be=n("RNo4"),He=n("Q5BC"),Re=n("J8m7"),ze=n("c50B");const Fe="keychainAutologinDisabled",We="mweb.unauth.ios_keychain_autologin";function Ne(){const[e,t]=Object(i.useState)(""),[n,o]=Object(i.useState)(""),a=Object(i.useRef)(!1),r=!!e&&!!n,c=Object(i.useRef)(),d=Object(s.useDispatch)(),u=Object(h.h)(),b=Object(h.i)();Object(i.useEffect)(()=>{c.current&&c.current.focus()},[]);const j=e=>{e&&Object(l.j)(`${We}.${e}`),Object(be.c)(Fe,!0),u.push("/login")},g=e=>{Object(oe.e)({event_type:e,view_type:9,view_parameter:63,aux_data:{signup_login_method:1}})};Object(i.useEffect)(()=>{a.current!==r&&(a.current=r,Object(ze.u)(e,[Object(ze.e)({message:"Not a valid email."})])&&j("failure.invalid_email"),n.length<6&&j("failure.invalid_password"),Object(be.c)(Fe,!0),d(Object(He.b)({username_or_email:e,password:n},u,b.pathname,{isAutologin:!0})).then(()=>{Object(l.j)(We+".login_success"),g(7536)}).catch(e=>{g(7535),e.apiErrorCode===Re.n&&Object(l.j)(We+".failure.invalid_password"),e.apiErrorCode===Re.m&&Object(l.j)(We+".failure.invalid_email"),j("failure.login")}))});const O=({value:e,type:n})=>{1!==e.length?"email"===n?t(e):o(e):j("manual_input_attempt")},m=()=>{r||Object(l.j)(We+".failure.user_dismissed_prompt"),Object(be.c)(Fe,!0)};return Object(p.jsx)(E.f,{position:"absolute",top:!0,opacity:0,dangerouslySetInlineStyle:{__style:{zIndex:-100}},children:Object(p.jsxs)("form",{onSubmit:e=>{e.preventDefault()},autoComplete:"on","aria-hidden":"true",children:[Object(p.jsx)(E.db,{autoComplete:"username",id:"username",onChange:({value:e})=>O({value:e,type:"email"}),ref:c,size:"lg",type:"email",value:e,onBlur:m}),Object(p.jsx)(E.db,{autoComplete:"current-password",id:"current-password",onChange:({value:e})=>O({value:e,type:"password"}),size:"lg",type:"password",value:n,onBlur:m})]})})}var Ge=n("AYc3"),qe=n("0G5S"),Ye=n("fsjD"),$e=n("2y2F"),Je=n("PmFr"),Xe=n("YWST");function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Qe=Object(i.lazy)(()=>n.e(586).then(n.bind(null,"4aTO"))),Ze=Object(i.lazy)(()=>n.e(565).then(n.bind(null,"57M6"))),Ve=Object(i.lazy)(()=>n.e(587).then(n.bind(null,"Lajh"))),et=Object(i.lazy)(()=>n.e("SignupModal").then(n.bind(null,"yi9W"))),tt=[5,18,17],nt=[6,19],it=()=>"undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&(window.navigator.userAgent.includes(Je.d)||window.navigator.userAgent.includes(Je.a)),st=()=>{try{const{count:e,time:t}=JSON.parse(Object(qe.a)("unauthRevisitation"));return"number"==typeof e&&"number"==typeof t?{count:e,time:t}:null}catch(e){return null}},ot=e=>{Object(qe.c)("unauthRevisitation",JSON.stringify(e))};class at extends i.Component{constructor(...e){super(...e),Ke(this,"state",{fbSocialUpsellDismissed:!1,mwebHeaderHeight:0,inviteCode:"",isBoardToastDisplayed:!1,isDefaultToastDisplayed:!0,isClientMounted:!1,isProfileToastDisplayed:!1,isScrollControllerDisplayed:!1,referrer:"",shouldShowGoogleOneTap:!0,showWashOnly:!1}),Ke(this,"appInstallBannerIsEnabled",()=>{const{appInstallBannerAlongRegister:e,canUpsellNativeApp:t,location:n,routeMatch:i}=this.props;return(t||this.shouldShowLiteUpsell())&&(Object(je.M)(n)||Object(je.f)(n)||Object(je.Z)(n)||Object(je.bb)(n)||Object(je.y)(n)||Object(je.R)(n)||"/unauth-profile"===i.path||"/:username/:slug/:section_slug"===i.path||Object(je.B)(n)||e()&&Object(je.T)(!1,n)&&!Object(je.x)(n))}),Ke(this,"setMwebHeaderHeight",e=>{e&&e.offsetHeight!==this.state.mwebHeaderHeight&&this.setState({mwebHeaderHeight:e.offsetHeight})}),Ke(this,"toggleSignupScrollControllerDisplay",e=>{this.setState({isScrollControllerDisplayed:e})}),Ke(this,"renderMobileSignupModal",({closeVariant:e,onDismiss:t,invite:n,isScrollingModal:i,isOpen:s})=>{var o,r;const{deviceType:l,locale:c}=this.props,{showWashOnly:d}=this.state,u=(null===(o=window)||void 0===o||null===(r=o.screen)||void 0===r?void 0:r.width)||0;return Object(p.jsx)(a.a,{name:"SafeSuspense_UnauthPageWrapper_SignupModal",children:Object(p.jsx)(N.a,{fallback:Object(p.jsx)("div",{}),children:Object(p.jsx)(et,{closeVariant:e,inviteObject:n,isOpen:s,isScrollingModal:i,isTablet:"tablet"===l,isWashOnly:d,onDismiss:t,toggleSignupScrollControllerDisplay:this.toggleSignupScrollControllerDisplay,thinnerModal:!["es-419","es-MX","es-US","fr","ms-MY","sk-SK","uk-UA"].includes(c)&&u>=345})})})}),Ke(this,"renderOnLandingUpsell",e=>{const{canUpsellNativeApp:t,experience:n,location:i}=this.props,{isBoardToastDisplayed:s,isProfileToastDisplayed:o}=this.state;return!t||Object(je.O)(i)||e||Object(je.U)(i,s,o)||Object(je.y)(i)||Object(je.cb)(i)?null:n?Object(p.jsx)(O,{experience:n}):this.props.shouldShowUpsell&&Object(p.jsx)(Ue,{shouldShowLiteUpsell:this.shouldShowLiteUpsell()})}),Ke(this,"renderMobileOnActionUpsell",()=>this.renderMobileSignupModal({onDismiss:()=>{const{mobileSignupModalDispatch:e}=this.props;null==e||e({type:"DISMISS_MOBILE_SIGNUP_MODAL"}),Object($.f)()}})),Ke(this,"renderMobileFacebookSocialUpsell",(e,t)=>{const{location:n}=this.props,{fbSocialUpsellDismissed:i}=this.state,s=t?t.invite_channel:null;if(!Object(je.U)(n,!0,!0)||!s)return null;return!tt.includes(s)&&!nt.includes(s)||i?e:Object(p.jsx)(U,{invite:t,onDismiss:()=>{this.state.fbSocialUpsellDismissed||this.setState({fbSocialUpsellDismissed:!0})}})}),Ke(this,"renderMobileInviteUpsells",(e,t,n)=>{const{location:i,history:s,deprecatedIsSignupModalShown:o,socialCollabGroupBoardPath:r,setSessionData:l,isUnauthToastUpsellDisplayed:c}=this.props,{isBoardToastDisplayed:d,isProfileToastDisplayed:u,shouldShowGoogleOneTap:h,isDefaultToastDisplayed:b}=this.state,j=e?e.invite_channel:null,g=e?e.sender:null,O=Object(je.f)(i)&&Object(je.U)(i,!0)&&g,m=e&&4===e.invite_category&&O;m&&!r&&l({socialCollabGroupBoardPath:i.pathname+i.search});const f=Object(je.q)(i)&&r,x=m||f;d||!O||x||this.setState({isBoardToastDisplayed:!0});const S=Object(je.P)(i)&&Object(je.U)(i,!1,!0)&&g;!u&&S&&this.setState({isProfileToastDisplayed:!0});const _=d||u,w=h||o||b||!Object(je.U)(i)&&!_||!c||!this.props.shouldShowUpsell?null:Object(p.jsx)(Ue,{invite:e,showAvatar:_}),y=!tt.includes(j)&&!nt.includes(j)&&!x&&Object(je.U)(i);return Object(p.jsxs)(E.f,{children:[n,y?Object(p.jsx)(ee,{history:s,invite:e,location:i,renderOnActionUpsell:this.renderMobileOnActionUpsell,renderSignupModal:this.renderMobileSignupModal,toggleSignupScrollControllerDisplay:this.toggleSignupScrollControllerDisplay}):t,this.renderMobileFacebookSocialUpsell(w,e),x&&Object(p.jsx)(a.a,{name:"SafeSuspense_UnauthPageWrapper_GroupBoardsJoinModal",children:Object(p.jsx)(N.a,{children:Object(p.jsx)(z,{history:s,inviteObject:e,isOpen:!0,location:i,onDismiss:()=>{}})})})]})}),Ke(this,"shouldShowLiteUpsell",()=>{const{activeExperiments:e,country:t,platform:n,userAgent:i}=this.props;return Object(se.e)({country:t,platform:n,userAgent:i,upsellLiteAppExp:((null==e?void 0:e.mweb_targeted_lite_app_upsell)||"").startsWith("enabled")})}),Ke(this,"headerHeight",e=>{const{interstitialUpsellDismissed:t,location:n}=this.props,{isClientMounted:i,mwebHeaderHeight:s}=this.state;return i&&e&&Object(je.w)(n)&&!t&&s||0}),Ke(this,"renderMobileUpsell",e=>{const{deprecatedIsSignupModalShown:t,isMobileSignupModalShown:n,isUnauthBoardPickerShown:i,location:s}=this.props,{inviteCode:o}=this.state,a=Object($.d)(this.props)&&!Object(je.P)(s)?this.renderOnLandingUpsell(e):null,r=i?Object(p.jsx)(te.b,{}):(t||n)&&Object($.b)(s)?this.renderMobileOnActionUpsell():null;return Object(p.jsx)(Ye.a,{children:e=>{const t=e||o;return t?Object(p.jsx)(F.default,{invite_code:t,children:e=>this.renderMobileInviteUpsells(e,r,a)}):Object(p.jsxs)(E.f,{children:[a,r]})}})})}componentDidMount(){const{country:e,fetchExperiencesForPlacements:t,isBot:n,location:i,setLoggedOutUserInfo:s,showUnauthToastUpsell:a,unauthId:r}=this.props;this.setState({isClientMounted:!0}),t([1000180]);const c=i&&i.search?Object(Be.k)(i.search):"";this.setState({inviteCode:c&&c.invite_code||""});if((i.search||"").includes("amp_client_id")&&Object(l.a)("amp_duplo_redirect"),!n){Object(Pe.f)().then(e=>{s(e)},e=>{s()});let e=st();!e||e.count<1||!e.time?(e={count:1,time:0},ot(e)):(new Date).getTime()-e.time>6e5&&(e={...e,count:e.count+1},ot(e)),Object(oe.e)({event_type:7686,view_type:51,aux_data:{unauth_revisitation:e.count,unauth_previously_logged_out:o.a("fba")}}),window.addEventListener("unload",()=>{var e,t;ot({count:null!==(e=null===(t=st())||void 0===t?void 0:t.count)&&void 0!==e?e:1,time:(new Date).getTime()})})}Object($e.a)(e)&&Object(Ge.a)({id:Ae.h,eventName:"Mobile"}),Object($e.f)(e)&&Object(Ge.e)({id:"flashtalking-m-ses",eventName:"Mobile"}),Object($e.c)(e)&&r&&Object(Ge.l)({unauthId:r}),Object($e.d)(e)&&r&&Object(Ge.m)({unauthId:r}),it()&&Object(be.c)("openUnauthType",Je.m),Object($.d)(this.props)&&!Object(je.P)(i)&&this.setState({isDefaultToastDisplayed:!1}),a(),Object($.k)()}static getDerivedStateFromProps(e,t){const{isGoogleOneTapShown:n,location:i,referrer:s,showWashOnly:o,fbSocialUpsellDismissed:a}=t,{location:r,isMobileSignupModalShown:l,mobileSignupModalDispatch:c}=e;let d={};if(e.isGoogleOneTapShown!==t.isGoogleOneTapShown&&(d={...d,isGoogleOneTapShown:e.isGoogleOneTapShown}),e.referrer!==t.referrer&&(d={...d,referrer:e.referrer}),e.location!==t.location&&(d={...d,location:e.location}),!i)return d;if(n!==e.isGoogleOneTapShown&&(d={...d,shouldShowGoogleOneTap:e.isGoogleOneTapShown}),!Object($.j)(i,r)){!(null==c||!c({type:"UNAUTH_ROUTE_CHANGED",oldLocation:i,newLocation:r,referrer:s}))&&!a&&(d={...d,fbSocialUpsellDismissed:!0})}d={...d,showWashOnly:e.isGoogleOneTapShown&&!!l&&!o};return Object($.h)(r,i,e.deprecatedIsSignupModalShown,o,a,e.isGoogleOneTapShown,s).hideSignupModal&&e.hideSignupModal(),d}render(){const{children:e,deviceType:t,inAutologinRefactorTreatment:n,interstitialUpsellDismissed:s,locale:o,location:r,platform:l,userHasExitedFromImageViewer:c,showDesktopSignupModal:d}=this.props,{isScrollControllerDisplayed:u,shouldShowGoogleOneTap:h}=this.state,b=this.appInstallBannerIsEnabled(),j="desktop"!==t&&b&&!s&&!it()&&(!(o.includes("ar")&&"ios"===l)||this.shouldShowLiteUpsell()),g=this.headerHeight(b),{isBot:O,isMobileSafari:m,activateiOSKeychainAutologinExp:f}=this.props,x=!O&&m&&(Object(je.b)(r)||Object(je.y)(r)||Object(je.M)(r))&&!Object(be.a)(Fe,!1)&&f().anyEnabled,S="phone"===t?j:!Object(je.R)(r)&&!Object(je.B)(r)&&!Object(je.T)(!1,r);return Object(p.jsx)(E.f,{children:Object(p.jsxs)(ue.a,{value:{headerHeight:g,userHasExitedFromImageViewer:c},children:[S&&("phone"===t?Object(p.jsx)(De,{isShowing:u,setRef:this.setMwebHeaderHeight,showLiteUpsell:this.shouldShowLiteUpsell()}):Object(p.jsx)(Se,{showDesktopSignupModal:d&&(e=>d(e,{source:"login"===e?"login":"defaultSource",container:Le.m}))})),j&&Object(p.jsx)(Oe,{showLiteUpsell:this.shouldShowLiteUpsell()}),Object(p.jsx)(E.f,{dangerouslySetInlineStyle:{__style:{paddingTop:g}},id:"mweb-unauth-container",children:e}),n?Object(p.jsx)(a.a,{name:"SafeSuspense_UnauthPageWrapper_AutologinManager",children:Object(p.jsx)(N.a,{children:Object(p.jsx)(Ze,{})})}):Object(p.jsxs)(i.Fragment,{children:[Object(p.jsx)(a.a,{name:"SafeSuspense_UnauthPageWrapper_AutoLogin",children:Object(p.jsx)(N.a,{children:Object(p.jsx)(Qe,{crossDomain:!0,fb:!0,google:!0,history:this.props.history,location:this.props.location,smartlock:!0})})}),!h||Object(je.G)(r)||Object(je.v)(r)||Object(je.o)(r)?null:Object(p.jsx)(a.a,{name:"SafeSuspense_UnauthPageWrapper_GoogleOneTap",children:Object(p.jsx)(N.a,{children:Object(p.jsx)(Ve,{handleEmptyCredentials:()=>Object(q.g)(),handleLoginError:()=>Object(q.g)(),handleSignupError:()=>Object(q.g)()})})})]}),x&&Object(p.jsx)(Ne,{}),"desktop"!==t&&this.renderMobileUpsell(b)]})})}}function rt({children:e,showDesktopSignupModal:t}){const n=Object(fe.a)(),o=Object(s.useDispatch)(),a=Object(h.h)(),r=Object(h.i)(),l=Object(Xe.b)(),d=Object(h.k)(),u=function(e){const{userAgentPlatform:t,browserType:n}=Object(s.useSelector)(({session:e})=>e);return!("android"===t&&(1!==n||Object(je.A)())&&e.startsWith("/discover/article"))}(r.pathname),{anyEnabled:b}=Object(J.b)("mweb_lex_autologin_refactor_aa")(),j=Object(J.b)("mweb_unauth_ios_keychain_autologin"),g=Object(s.useSelector)(e=>"Mobile Safari"===e.session.browser);Object(i.useEffect)(()=>{l&&setTimeout(()=>{l.load(new URL("login.js","file://"))},500)},[]);const O=Object(s.useSelector)(e=>e.experiments.active),m=Object(s.useSelector)(e=>e.session.country),f=Object(s.useSelector)(e=>e.session.canUseNativeApp&&"android-twa"!==e.session.pwaType),x=Object(s.useSelector)(e=>e.session.locale),S=Object(s.useSelector)(e=>e.session.userAgentPlatform),_=Object(s.useSelector)(e=>e.session.isSeoBot),w=Object(s.useSelector)(e=>e.session.unauthInterstitialDismissed),y=Object(s.useSelector)(e=>e.session.isSignupModalShown),v=Object(s.useSelector)(e=>e.session.isUnauthBoardPickerShown),T=Object(s.useSelector)(e=>e.session.isUnauthToastUpsellDisplayed),E=Object(s.useSelector)(e=>e.session.isGoogleOneTapShown),C=Object(s.useSelector)(e=>Object(ke.b)(e.session.referrer)),I=Object(s.useSelector)(e=>e.session.unauthId),D=Object(s.useSelector)(e=>e.session.socialCollabGroupBoardPath),M=Object(s.useSelector)(e=>e.session.userAgent),U=Object(s.useSelector)(e=>e.session.unauthSavePinId),A=Object(i.useCallback)(()=>o(Object(q.l)()),[o]),P=Object(i.useCallback)(e=>o(Object(q.u)(e)),[o]),k=Object(i.useCallback)(e=>o(Object(q.y)(e)),[o]),L=Object(i.useCallback)(()=>o(Object(q.q)()),[o]),B=Object(i.useCallback)(()=>o(Object(q.R)()),[o]),H=Object(i.useCallback)(()=>o(Object(q.g)()),[o]),R=Object(i.useCallback)(e=>o(Object(c.h)(e)),[o]),z=Object(i.useCallback)(()=>(o(Object(G.a)("mweb_app_install_banner_along_registration"))||"").startsWith("enabled"),[o]),F=Object(X.b)(),N=Object(X.c)(),[Y,$]=Object(i.useState)(!1),K=Object(i.useRef)(r);Object(i.useEffect)(()=>{$(Object(je.z)(K.current)&&!Object(je.z)(r)),K.current=r},[r]),Object(i.useEffect)(()=>{const e=r&&r.search?Object(Be.k)(r.search):"";e&&"1"===e.ur&&(null==N||N({type:"START_DISMISSIBLE_MODAL_EXPERIENCE"}))},[N,r]);const Q=Object(Ye.c)();return Object(i.useEffect)(()=>{null==N||N({type:"UNAUTH_SESSION_STARTED",location:r,userLandedWithSharingInviteCode:!!Q})},[]),Object(p.jsx)(W.a,{id:1000180,children:({experience:i})=>Object(p.jsx)(at,{activeExperiments:O,appInstallBannerAlongRegister:z,canUpsellNativeApp:f,country:m,deviceType:n,experience:i,fetchExperiencesForPlacements:R,hideGoogleOneTap:H,hideSignupModal:A,hideUnauthToastUpsell:L,history:a,interstitialUpsellDismissed:w,inAutologinRefactorTreatment:b,isBot:_,isGoogleOneTapShown:E||!1,deprecatedIsSignupModalShown:y||!1,isUnauthBoardPickerShown:v||!1,isUnauthToastUpsellDisplayed:T||!1,loader:l,locale:x,location:r,platform:S,referrer:C,routeMatch:d,setLoggedOutUserInfo:P,setSessionData:k,showDesktopSignupModal:t,shouldShowUpsell:u,showUnauthToastUpsell:B,socialCollabGroupBoardPath:D,userAgent:M,showUnauthSaveSignupModal:!!U,isMobileSignupModalShown:F,mobileSignupModalDispatch:N,unauthId:I,userHasExitedFromImageViewer:Y,activateiOSKeychainAutologinExp:j,isMobileSafari:g,children:e})})}},"75Yz":function(e,t,n){n.r(t),n.d(t,"default",(function(){return a}));var i=n("q1tI"),s=n("eOdZ");const o={};class a extends i.Component{constructor(...e){var t,n,i;super(...e),t=this,n="state",i={invite:o[this.props.invite_code]||null,loaded:this.props.invite_code in o},n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){const{invite_code:e}=this.props;s.a.create("InviteCodeMetadataResource",{invite_code:e}).callGet().then(t=>{if(t&&t.resource_response){const n=t.resource_response.data;o[e]=n,this.setState({invite:n,loaded:!0})}}).catch(()=>{this.setState({invite:null,loaded:!0})})}render(){const{invite:e,loaded:t}=this.state;return t?this.props.children(e):null}}},DzJC:function(e,t,n){var i=n("sEfC"),s=n("GoyQ");e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return s(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),i(e,t,{leading:o,maxWait:t,trailing:a})}},J6c4:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));const i=["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto","Oxygen-Sans","Ubuntu","Cantarell",'"Fira Sans"','"Droid Sans"','"Helvetica Neue"',"Helvetica",'"ヒラギノ角ゴ Pro W3"','"Hiragino Kaku Gothic Pro"',"メイリオ","Meiryo",'"ＭＳ Ｐゴシック"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),s=["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto","Oxygen-Sans","Ubuntu","Cantarell",'"Fira Sans"','"Droid Sans"','"Helvetica Neue Bold"',"Helvetica",'"ヒラギノ角ゴ Pro W3"','"Hiragino Kaku Gothic Pro"',"メイリオ","Meiryo",'"ＭＳ Ｐゴシック"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},MH4Q:function(e,t,n){n.d(t,"a",(function(){return D}));var i=n("q1tI"),s=n("/MKj"),o=n("clxp"),a=n("jZDM"),r=n("28DW"),l=n("yweb"),c=n("n6mq"),d=n("QAzJ"),u=n("pLLR"),h=n("EC67"),p=n("F2ZA"),b=n("nKUr");function j(){const e=Object(l.c)(),t=Object(h.k)(),{country:n,isAuthenticated:i,isBot:s,locale:o,origin:j}=Object(u.d)(),g=Object(a.a)(j,!0).hostname||"",O=s?Object(p.f)(g)||"US":n,m=Object(p.h)(O,o),f=Object(d.b)("mweb_jp_bug_audit_unauth"),x=[];m&&x.push({text:e._("Today","unauth.header.tabs.today","label for today tab"),href:"/today/"}),x.push({text:!i&&f().anyEnabled?e._("Explore ideas","unauth.header.tabs.ideas.jp","label for jp ideas hub"):e._("Explore","unauth.header.tabs.ideas","label for ideas hub"),href:"/ideas/"});let S=-1;return t.path.startsWith("/today/")?S=x.findIndex(e=>"/today/"===e.href):t.path.startsWith("/ideas/")&&(S=x.findIndex(e=>"/ideas/"===e.href)),Object(b.jsx)(c.Y,{activeTabIndex:S,onChange:({activeTabIndex:e})=>{e>-1&&("/today/"===x[e].href?Object(r.a)("unauth.header.hubtabs.today.click"):"/ideas/"===x[e].href&&Object(r.a)("unauth.header.hubtabs.explore.click"))},tabs:x})}var g=n("rYoy"),O=n("GI6b"),m=n("TPPM"),f=n("E8d4"),x=n("XTA5"),S=n("+b91"),_=n("Zswh"),w=n("Rfw2");function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v=Object(i.lazy)(()=>n.e(446).then(n.bind(null,"ehTd")));function T({pathname:e,search:t}){const n=e.includes("/password/reset");if(!t||n)return"";const i=t.substring(1);try{const e=JSON.parse('{"'+i.replace(/&/g,'","').replace(/=/g,'":"')+'"}',(e,t)=>""===e?t:decodeURIComponent(t));if(e.q)return e.q}catch(s){return""}return""}class E extends i.PureComponent{constructor(e){super(e),y(this,"onResize",()=>{this.setState({windowHeight:window.innerHeight})}),y(this,"handleTypeaheadItemHover",e=>{this.setState({hoverItem:e})}),y(this,"handleTypeaheadItemSelected",(e,t)=>{const n=Object(w.e)(t),i=e.query||"";let s=e.url;if(s){const t={eq:n,etslf:Date.now()-this._lastFocused};s=Object(O.a)(s,t);const o=e.type,a=Object(w.d)({type:o,query:i,index:e.resultIndex});this.setState({focused:!1,hoverItem:void 0,text:i,query:i}),s+=Object(w.b)({queryStates:a}),this.navigate(i,s)}}),y(this,"handleTypeaheadMouseOut",()=>{this.setState({hoverItem:void 0})}),y(this,"handleBlur",()=>{this.props.onBlur&&this.props.onBlur(),this.setState({focused:!1})}),y(this,"handleClick",()=>{this.setState({focused:!0})}),y(this,"handleFocus",()=>{Object(r.a)("unauth.search_box.click.focus"),Object(r.h)("focus_search_box",!0),this._lastFocused=Date.now(),this.setState({focused:!0})}),y(this,"handleKeyDown",e=>{const t=this.state.hoverItem;switch(e.key){case"Enter":this.handleSubmit(e);break;case"Escape":this.handleBlur();break;case"ArrowUp":case"ArrowDown":e.preventDefault();const n="ArrowUp"===e.key,i=this.state.emptySuggestions,s=!this.state.text&&i&&i?i:this.state.typeaheadSuggestions;let o;o=t?s.indexOf(t)+(n?-1:1):n?s.length-1:0,this.handleTypeaheadItemHover(s[o])}}),y(this,"handleSubmit",e=>{e.preventDefault(),this.state.hoverItem?this.handleTypeaheadItemSelected(this.state.hoverItem,this.state.text):this.handleTypedSubmission(e)}),y(this,"handleTypeaheadSuggestionsChange",e=>{this.setState({typeaheadSuggestions:e})}),y(this,"handleTypedSubmission",e=>{const t=this.state.text.trim();if(""===t)return;const n=encodeURIComponent(t),i=this.state.currentScope||"pins";let s="recent_week"===this.state.currentBoost?"/search/pins/recent/?q="+n:`/search/${i}/?q=${n}`;const o=Object(w.d)({type:w.a.USER_INPUT,query:t,index:0});s+="&rs=typed",s+=Object(w.b)({queryStates:o});const a=Object(w.e)(t);this.setState({text:a,query:a}),this.handleBlur(),this.navigate(t,s)}),y(this,"handleTextChange",e=>{this.state.hoverItem?this.setState({hoverItem:void 0,text:e}):this.setState({text:e})}),y(this,"updateEmptySuggestions",e=>{this.setState({emptySuggestions:e})}),y(this,"clearAndFocusSearchBox",()=>{this.setState({text:"",query:"",focused:!0})});const t=T(e.location);this.state={currentBoost:"",currentScope:"",emptySuggestions:[],focused:!!e.initialFocus,hoverItem:void 0,prevOriginalQuery:e.initialText||t,query:t,text:t||e.initialText||"",typeaheadSuggestions:[],windowHeight:void 0}}componentDidMount(){this.onResize(),window.addEventListener("resize",this.onResize)}static getDerivedStateFromProps({initialText:e,location:t},{prevOriginalQuery:n}){const i=e||T(t);return i!==n?{prevOriginalQuery:i,currentBoost:"",text:i,query:i,currentScope:"",hoverItem:void 0}:{}}componentWillUnmount(){window.removeEventListener("resize",this.onResize)}logSearchPinNavigateClick(){this.props.logContextEvent({component:43,element:227,event_type:101,view_type:2,view_parameter:43}),Object(r.a)("unauth.search_box.search")}navigate(e,t){this.logSearchPinNavigateClick(),Object(m.a)(t,!1),setTimeout(()=>{Object(r.h)("searchbox_query",!0)},0)}render(){const{headerOffsetTop:e,i18n:t}=this.props,{focused:n,hoverItem:i,query:s,text:a,windowHeight:r}=this.state,l=n&&s?"":t._("Search for easy dinners, fashion, etc.");let d;if(r&&this._form&&this._form.getBoundingClientRect){d=r-14-this._form.getBoundingClientRect().bottom}const u=D+e;return Object(b.jsx)(c.f,{display:"flex",flex:"grow",children:Object(b.jsxs)(c.f,{display:"flex",flex:"grow",children:[n&&Object(b.jsx)(c.f,{position:"fixed",right:!0,bottom:!0,left:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,0.4)",top:u+"px"}}}),Object(b.jsx)("form",{action:"/search/pins/",method:"get",name:"search",onSubmit:this.handleSubmit,ref:e=>{this._form=e},style:{flexGrow:"1"},children:Object(b.jsxs)(c.f,{display:"block",position:"relative",width:"100%",children:[Object(b.jsxs)(c.f,{alignItems:"center",borderStyle:"lg",color:"white",display:"flex",height:48,position:"relative",rounding:6,children:[Object(b.jsx)("em",{}),Object(b.jsx)(c.f,{flex:"none",marginStart:4,marginEnd:2,children:Object(b.jsx)(c.w,{accessibilityLabel:t._("search","accessible label for search icon","accessible label for search icon"),icon:"search",size:16})}),Object(b.jsxs)(c.f,{alignItems:"center",display:"flex",flex:"grow",overflow:"hidden",children:[Object(b.jsx)(x.a,{dataTestId:"search-input",isFocused:n,name:"q",onBlur:this.handleBlur,onChange:this.handleTextChange,onClick:this.handleClick,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,placeholder:l,value:i&&i.label||a}),a&&Object(b.jsx)(c.f,{marginEnd:1,children:Object(b.jsx)(c.x,{accessibilityLabel:t._("cancel","accessible label for cancel icon","accessible label for cancel icon"),icon:"clear",onClick:this.clearAndFocusSearchBox,size:"md"})})]})]}),Object(b.jsx)(o.a,{name:"SafeSuspense_UnauthHeaderSearchBox_SearchTypeahead",children:Object(b.jsx)(f.a,{children:Object(b.jsx)(v,{focused:n,hoverItem:this.state.hoverItem,maxHeight:d,onHover:this.handleTypeaheadItemHover,onTypeaheadItemSelected:this.handleTypeaheadItemSelected,onTypeaheadMouseOut:this.handleTypeaheadMouseOut,onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,typeaheadSuggestions:this.state.typeaheadSuggestions,updateEmptySuggestions:this.updateEmptySuggestions,value:a})})})]})})]})})}}function C(e){const t=Object(_.a)(),n=Object(l.c)(),{headerOffsetTop:i=0}=Object(S.b)(),s=Object(h.i)();return Object(b.jsx)(E,{...e,headerOffsetTop:i,i18n:n,location:s,logContextEvent:t})}var I=n("isp9");const D=80,M=Object(i.lazy)(()=>n.e(590).then(n.bind(null,"+gsX"))),U=Object(i.forwardRef)(({enableSettingsFlyout:e,onPrimaryButtonClick:t,onLoginButtonClick:n,primaryButtonText:a},d)=>{const[u,p]=Object(i.useState)(!1),O=Object(l.c)(),m=Object(s.useSelector)(({session:e})=>e&&e.isTablet),f=Object(s.useSelector)(({session:e})=>e&&e.isMobile),x=Object(i.useRef)(null),S=Object(i.useRef)(null);Object(i.useEffect)(()=>{if(e){const e=e=>{var t,n;null!==(t=x.current)&&void 0!==t&&t.contains(e.target)||null!==(n=S.current)&&void 0!==n&&n.contains(e.target)||p(!1)};return window.addEventListener("mousedown",e),function(){window.removeEventListener("mousedown",e)}}},[]);const _=Object(h.i)(),w=!Object(s.useSelector)(({session:e})=>e&&e.isAuthenticated)&&Object(I.M)(_)&&!f;return Object(b.jsxs)(c.f,{alignItems:"center",color:"white",direction:"row",display:"flex",height:D,justifyContent:"between",padding:4,ref:d,width:"100%",children:[Object(b.jsxs)(c.f,{alignItems:"center",direction:"row",display:"flex",children:[Object(b.jsx)(c.C,{href:"/",target:"self",inline:!0,tapStyle:"compress",rounding:"pill",hoverStyle:"none",onClick:({disableOnNavigation:e})=>e(),children:Object(b.jsxs)(c.f,{display:"flex",alignItems:"center",direction:"row",paddingX:3,children:[Object(b.jsx)(c.w,{accessibilityLabel:O._("Pinterest","Pinterest logo","Pinterest logo"),icon:"pinterest",size:24,color:"red"}),!m&&Object(b.jsx)(c.f,{marginStart:1,dangerouslySetInlineStyle:{__style:{letterSpacing:"-1px"}},children:Object(b.jsx)(c.v,{size:"sm",color:"red",overflow:"normal",accessibilityLevel:2,children:O._("Pinterest","Company name","Company name")})})]})}),Object(b.jsx)(j,{})]}),Object(b.jsx)(c.f,{display:"none",mdDisplay:"block",flex:"grow",paddingX:2,children:Object(b.jsx)(C,{})}),Object(b.jsxs)(c.f,{display:"flex",alignItems:"center",direction:"row",flex:"none",children:[Object(b.jsx)(c.f,{marginEnd:2,"data-test-id":"loginButton",children:Object(b.jsx)(c.g,{text:O._("Log in","Label for log in button","Label for log in button"),onClick:e=>{n(e.event)},size:"lg",color:w?"transparent":"gray"})}),Object(b.jsx)(c.f,{"data-test-id":"signupButton",children:Object(b.jsx)(c.g,{text:a,onClick:e=>{t(e.event)},color:w?"gray":"red",size:"lg"})}),e&&Object(b.jsxs)(i.Fragment,{children:[Object(b.jsx)(c.f,{ref:S,children:Object(b.jsx)(c.f,{display:"flex",marginStart:2,marginTop:3,marginBottom:3,justifyContent:"center","data-test-id":"setting-button",children:Object(b.jsx)(c.x,{accessibilityLabel:O._("Setting button","Text for the setting button in the header","Text for the setting button in the header"),icon:"arrow-down",size:"xs",onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),Object(r.a)("unauth_web.unauth_header.setting_button.click"),Object(r.h)("click_header_setting"),p(!u)}})})}),u&&Object(b.jsx)(o.a,{name:"SafeSuspense_UnauthHeader_UnauthSettingFlyout",children:Object(b.jsx)(g.a,{fallback:Object(b.jsx)("div",{}),children:Object(b.jsx)(c.f,{ref:x,children:Object(b.jsx)(M,{anchor:S.current})})})})]},"settingButton")]})]})});U.displayName="UnauthHeader";t.b=U},Rfw2:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d}));var i=n("T0g9");const s=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except","the","a","an","san","for","in","with"],o={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function a(e){return(e||"").trim().replace(/\s+/g," ")}function r({type:e,term:t="",index:n}){switch(e){case o.USER_INPUT:case o.AUTO_COMPLETE_HASHTAG:case o.TYPO_AUTO_CORRECT_ORIGINAL:return`${t}|${e}`;case o.AUTO_COMPLETE_DEFAULT:return`${t}|autocomplete|${n}`;case o.AUTO_COMPLETE_RECENT_SEARCH:return`${t}|recentsearch|${n}`;case o.AUTO_COMPLETE_TRENDING:return`${t}|trending|${n}`;case o.AUTO_COMPLETE_RECOMMENDED_SEARCH:return`${t}|recommended|${n}`;case o.SEARCH_GUIDE:return`${t}|guide|word|${n}`;default:return""}}function l({queryStates:e}){return 0===e.length?"":"&"+Object(i.a)({term_meta:e.map(e=>r(e))})}function c(e){if(e){const t=e.trim().split(/\s+/);return t.find(e=>s.includes(e.toLowerCase()))?[e]:t}return[]}function d({type:e,query:t="",index:n}){switch(e){case o.USER_INPUT:case o.AUTO_COMPLETE_HASHTAG:case o.TYPO_AUTO_CORRECT_ORIGINAL:return c(t).map(t=>({index:n,term:t,type:e}));case o.AUTO_COMPLETE_RECENT_SEARCH:case o.AUTO_COMPLETE_RECOMMENDED_SEARCH:case o.AUTO_COMPLETE_TRENDING:case o.AUTO_COMPLETE_DEFAULT:return c(t).map(t=>({term:t,type:e,index:n}));default:return[]}}},XTA5:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("q1tI"),s=n("yweb"),o=n("n6mq"),a=n("J6c4"),r=n("nKUr");function l({dataTestId:e,focusOptionId:t,isFocused:n,name:l,onBlur:c,onChange:d,onClick:u=(()=>{}),onFocus:h,onKeyDown:p,onSearchTrigger:b,placeholder:j,value:g}){const O=Object(s.c)(),m=Object(i.useRef)(null);return Object(i.useEffect)(()=>{m.current&&b&&m.current.addEventListener("searchTrigger",b)},[]),Object(i.useEffect)(()=>{if(!m.current)return;document.activeElement===m.current!==n&&(n?m.current.focus():m.current.blur())},[n]),Object(r.jsxs)(o.f,{height:"100%",flex:"grow",children:[Object(r.jsx)("input",{autoCapitalize:"off",autoCorrect:"off",autoComplete:"off","aria-activedescendant":t,"aria-autocomplete":"list","aria-controls":"SuggestionsMenu","aria-describedby":"searchBoxAccessibleText","aria-label":O._("Search","searchBox.searchInput.placeholder","placeholder text for the search box"),"aria-expanded":n,"data-test-id":e,name:l,onBlur:c,onChange:e=>{d(e.target.value)},onClick:u,onFocus:h,onKeyDown:p,placeholder:j||O._("Search","searchBox.searchInput.placeholder","placeholder text for the search box"),ref:m,role:"combobox",style:{backgroundColor:"transparent",border:"none",color:"#333",fontFamily:a.b,fontSize:16,fontWeight:"normal",height:"100%",outline:"none",padding:"0",width:"100%"},type:"text",value:g}),Object(r.jsx)(o.f,{display:"none",id:"searchBoxAccessibleText",children:O._("When autocomplete results are available use up and down arrows to\n                review and enter to select. Touch device users, explore by touch or\n                with swipe gestures.","searchBox.searchInput.accessibleText","Accessible text for search input")})]})}},lsgW:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("nKUr");function s({size:e,noCircle:t}){return Object(i.jsxs)("svg",{height:e,style:{display:"block"},viewBox:t?"3 3 70 70":"-3 -3 82 82",width:e,children:[t?null:Object(i.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),Object(i.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})}},ntEp:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var i=n("1dBE");const{Provider:s,Consumer:o,useHook:a}=Object(i.b)("unauthPageWrapperContext")}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/302-ccb2bf2f054491272fe6.mjs.map