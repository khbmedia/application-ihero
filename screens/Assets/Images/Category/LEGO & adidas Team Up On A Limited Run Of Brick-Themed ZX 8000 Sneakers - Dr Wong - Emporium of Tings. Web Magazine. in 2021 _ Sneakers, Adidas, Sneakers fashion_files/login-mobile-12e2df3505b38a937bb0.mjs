(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["www/login-mobile",104,"www/following-mobile"],{"+wdc":function(e,t,n){var o,i,r,s;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,l=c.now();t.unstable_now=function(){return c.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,d=null,h=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(n){throw setTimeout(h,0),n}};o=function(e){null!==u?setTimeout(o,0,e):(u=e,setTimeout(h,0))},i=function(e,t){d=setTimeout(e,t)},r=function(){clearTimeout(d)},t.unstable_shouldYield=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,g=window.clearTimeout;if("undefined"!=typeof console){var b=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var f=!1,m=null,j=-1,w=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<e?Math.floor(1e3/e):5};var O=new MessageChannel,y=O.port2;O.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();_=e+w;try{m(!0,e)?y.postMessage(null):(f=!1,m=null)}catch(n){throw y.postMessage(null),n}}else f=!1},o=function(e){m=e,f||(f=!0,y.postMessage(null))},i=function(e,n){j=p((function(){e(t.unstable_now())}),n)},r=function(){g(j),j=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var o=n-1>>>1,i=e[o];if(!(void 0!==i&&0<k(i,t)))break e;e[o]=t,e[n]=i,n=o}}function v(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var o=0,i=e.length;o<i;){var r=2*(o+1)-1,s=e[r],a=r+1,c=e[a];if(void 0!==s&&0>k(s,n))void 0!==c&&0>k(c,s)?(e[o]=c,e[a]=n,o=a):(e[o]=s,e[r]=n,o=r);else{if(!(void 0!==c&&0>k(c,n)))break e;e[o]=c,e[a]=n,o=a}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],E=[],T=1,L=null,P=3,A=!1,R=!1,B=!1;function I(e){for(var t=v(E);null!==t;){if(null===t.callback)S(E);else{if(!(t.startTime<=e))break;S(E),t.sortIndex=t.expirationTime,x(C,t)}t=v(E)}}function F(e){if(B=!1,I(e),!R)if(null!==v(C))R=!0,o(D);else{var t=v(E);null!==t&&i(F,t.startTime-e)}}function D(e,n){R=!1,B&&(B=!1,r()),A=!0;var o=P;try{for(I(n),L=v(C);null!==L&&(!(L.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=L.callback;if("function"==typeof s){L.callback=null,P=L.priorityLevel;var a=s(L.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?L.callback=a:L===v(C)&&S(C),I(n)}else S(C);L=v(C)}if(null!==L)var c=!0;else{var l=v(E);null!==l&&i(F,l.startTime-n),c=!1}return c}finally{L=null,P=o,A=!1}}var U=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||A||(R=!0,o(D))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return v(C)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,n,s){var a=t.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:T++,callback:n,priorityLevel:e,startTime:s,expirationTime:c=s+c,sortIndex:-1},s>a?(e.sortIndex=s,x(E,e),null===v(C)&&e===v(E)&&(B?r():B=!0,i(F,s-a))):(e.sortIndex=c,x(C,e),R||A||(R=!0,o(D))),e},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},"+zvl":function(e,t,n){var o=n("q1tI"),i=n("n6mq"),r=n("nKUr");t.a=function({pin:{image:e,pinDescription:t,dominantColor:n,bannerCopy:s},showPinImage:a}){var c;return Object(r.jsx)(o.Fragment,{children:Object(r.jsxs)(i.f,{display:"flex",alignItems:"center",justifyContent:"center",margin:a?0:4,children:[a&&Object(r.jsx)(i.f,{width:30,height:40,margin:4,children:Object(r.jsx)(i.D,{width:"100%",height:"100%",rounding:2,children:Object(r.jsx)(i.y,{src:null!==(c=(e||{}).url)&&void 0!==c?c:"",alt:t||"",naturalHeight:(e||{}).height||1,naturalWidth:(e||{}).width||1,color:n||"",fit:"cover"})})}),Object(r.jsx)(i.bb,{children:s})]})})}},"0K1N":function(e,t,n){t.a=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},"2hay":function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"i",(function(){return h})),n.d(t,"h",(function(){return p})),n.d(t,"c",(function(){return g}));var o=n("0K1N"),i=n("37no");const r="274266067164",s=["picture.type(large)","id","first_name","last_name","email","gender","birthday"],a=["public_profile","email","user_likes","user_birthday","user_friends"],c=()=>{"undefined"!=typeof window&&window.FB&&window.FB.init({appId:r,status:!0,xfbml:!0,version:"v2.7"})},l=e=>Object(i.c)(Object(o.a)(e),i.a.FACEBOOK).then(c),u=()=>new Promise(e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)}),d=(e,t={},n)=>new Promise((o,i)=>{if("connected"===e.status){n&&n("success");const{authResponse:{userID:i,accessToken:r}}=e,a={facebook_id:i,facebook_token:r,facebook_autologin:t.autologin||!1},c="/me?fields="+s.join(",");window.FB.api(c,e=>{o({creds:a,data:{...e,...a,...e.picture&&!e.picture.data.is_silhouette?{image_url:e.picture.data.url}:{}}})})}else{const t=e.status||"unknown";n&&n("failure."+t),i({status:t})}}),h=(e,t)=>{const n=e.data;e.isTrusted&&"string"==typeof n&&0===n.indexOf("_FB_")&&-1!==n.indexOf("type=login_button_dialog_open")&&t&&t("facebook_connect.login_button_dialog_open")},p=()=>new Promise(e=>{window.FB.login(e,{scope:a.join(",")})}).then(d),g=e=>new Promise((t,n)=>{window.FB.api("/me/permissions",o=>{const i=o.data;if(i){const n=i.find(t=>t.permission===e&&"granted"===t.status);return t({hasPerm:!!n})}return n(Error("Failed to call facebook to get permission"))})})},"2mql":function(e,t,n){var o=n("r36Y"),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(e){return o.isMemo(e)?s:a[e.$$typeof]||i}a[o.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[o.Memo]=s;var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,g=Object.prototype;e.exports=function e(t,n,o){if("string"!=typeof n){if(g){var i=p(n);i&&i!==g&&e(t,i,o)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=c(t),b=c(n),f=0;f<s.length;++f){var m=s[f];if(!(r[m]||o&&o[m]||b&&b[m]||a&&a[m])){var j=h(n,m);try{l(t,m,j)}catch(w){}}}}return t}},"351Y":function(e,t,n){n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var o=n("7w6Q"),i=n("RNo4"),r=n("vtuW");const s="adcredits",a=()=>{if(!window)return!1;const e=Object(i.k)(window.location.search).utm_medium;return!!e&&e===s};class c{constructor(){this.key="paid.campaign.adcredits"}markEligible(){Object(r.c)(this.key,"true"),o.a.increment("partner.paid.ad_credits.seen",1,{platform:"mobile"})}isEligible(){return"true"===Object(r.a)(this.key)}claim(){Object(r.c)(this.key,"false"),o.a.increment("partner.paid.ad_credits.claimed",1,{platform:"mobile"})}}class l{constructor(){this.key="paid.marketingoffer"}markEligible(e){Object(r.c)(this.key,e),o.a.increment(`partner.paid.marketingoffer.${e}.seen`,1,{platform:"mobile"})}isEligible(){return null!=Object(r.a)(this.key)}getOfferId(){return Object(r.a)(this.key)}claim(){if(this.isEligible()){const e=Object(r.a)(this.key);Object(r.c)(this.key,null),o.a.increment(`partner.paid.marketingoffer.${e}.claimed`,1,{platform:"mobile"})}}}},"37no":function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a}));var o=n("7w6Q");const i=.01,r=Object.freeze({OTHER:0,FACEBOOK:1,GPLUS_ONE:2,GSI:3});function s(e){return new Promise((t,n)=>{if(document.querySelector(`script[src="${e}"]`))return void t();const o=document.createElement("script");o.src=e,o.async=!0,o.addEventListener("load",t),o.addEventListener("error",n),document.getElementsByTagName("head")[0].appendChild(o)})}function a(e,t=r.OTHER,n=!1){const s=n?"web":"mweb";return new Promise((n,a)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if(t===r.GPLUS_ONE)if(window.gapi)n();else{const t=setInterval(()=>{window.gapi||20===e?(clearInterval(t),n()):(e+=1,o.a.increment(`${s}.loadScript.gplus_one.tries_${e}`,i))},100)}else if(t===r.FACEBOOK)if(window.FB)n();else{const t=setInterval(()=>{window.FB||20===e?(clearInterval(t),n()):(e+=1,o.a.increment(`${s}.loadScript.facebook.tries_${e}`,i))},100)}else if(t===r.GSI)if(window.google)n();else{const t=setInterval(()=>{window.google||20===e?(clearInterval(t),n()):(e+=1,o.a.increment(`${s}.loadScript.gsi.tries_${e}`,i))},100)}else n()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",n),t.addEventListener("error",a),document.getElementsByTagName("head")[0].appendChild(t)}})}},"38yB":function(e,t,n){n.r(t);var o=n("/MKj"),i=n("JGxo"),r=n("q1tI"),s=n("FDmi"),a=n("PaNI"),c=n("yeqU"),l=n("y6dK"),u=n("kerF"),d=n("k1Bv"),h=n("Lr1Z"),p=n("fs0a"),g=n("oAcf"),b=n("eOdZ"),f=n("bcHz"),m=n("28DW"),j=n("yweb"),w=n("n6mq"),_=n("nKUr");function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends r.PureComponent{constructor(...e){super(...e),O(this,"handleBackToLoginClick",()=>{const{method:e,backToLogin:t}=this.props;Object(m.a)("unauth_mweb.login.no_account_found_screen.back_to_login."+e),t()}),O(this,"handleContinueSignupClick",()=>{const{method:e,continueSignup:t}=this.props;Object(m.a)("unauth_mweb.login.no_account_found_screen.account_created."+e),t()})}componentDidMount(){Object(m.a)("unauth_mweb.login.no_account_found_screen.shown."+this.props.method)}render(){const{email:e,method:t}=this.props;let n=this.props.i18n._("Hmm, it looks like there’s no Pinterest account that matches this email. Try logging in again?","Short text informing users the email they tried to log in with does not belong to an existing account","Short text informing users the email they tried to log in with does not belong to an existing account");return"facebook"===t?n=this.props.i18n._("Hmm, it looks like the Facebook account associated with this email isn’t on Pinterest yet.  Try logging in with a different method.","Short text informing users the Facebook account they tried to log in with is not linked to an existing account","Short text informing users the Facebook account they tried to log in with is not linked to an existing account"):"google"===t&&(n=this.props.i18n._("Hmm, it looks like the Google account associated with this email isn’t on Pinterest yet.  Try logging in with a different method.","Short text informing users the Google account they tried to log in with is not linked to an existing account","Short text informing users the Google account they tried to log in with is not linked to an existing account")),Object(_.jsxs)(w.f,{flex:"grow",children:[Object(_.jsx)(w.v,{overflow:"normal",children:this.props.i18n._("Couldn't find your Pinterest account","Heading for the page informing users the account they tried to log in to does not exist","Heading for the page informing users the account they tried to log in to does not exist")}),Object(_.jsxs)(w.f,{marginTop:10,marginBottom:3,children:[e&&Object(_.jsx)(w.bb,{weight:"bold",children:e}),Object(_.jsx)(w.f,{marginTop:4,children:Object(_.jsx)(w.bb,{children:n})}),Object(_.jsx)(w.f,{marginTop:4,children:Object(_.jsx)(w.g,{fullWidth:!0,color:"red",text:this.props.i18n._("Back to login","Text on button taking users back to login page","Text on button taking users back to login page"),onClick:this.handleBackToLoginClick})})]}),Object(_.jsx)(f.a,{onTouch:this.handleContinueSignupClick,pressState:"none",children:Object(_.jsx)(w.f,{position:"fixed",bottom:!0,left:!0,right:!0,paddingX:4,paddingY:8,children:Object(_.jsx)(w.bb,{align:"center",weight:"bold",children:this.props.i18n._("Create new account","Text button to take users to complete sign up after attempting to log in with non-existent account","Text button to take users to complete sign up after attempting to log in with non-existent account")})})},"signupConfirmationLink")]})}}var x=function(e){const t=Object(j.c)();return Object(_.jsx)(y,{...e,i18n:t})},v=n("6adH"),S=n("QtD7"),k=n("ANjH"),C=n("bUAJ"),E=n("qpbZ"),T=n("TXO6"),L=n("Q5BC"),P=n("351Y"),A=n("qEYz"),R=n("RNo4"),B=n("ulr2"),I=n("5SBu"),F=n("J8m7"),D=n("EUPR"),U=n("c50B"),N=n("AGnR"),z=n("EC67");function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const M=e=>{const t=new P.b;if(t.isEligible()){return"/business/offer/"+t.getOfferId()}return Object(R.k)(e.search).next||e.state&&e.state.next||"/"},$=e=>e._("Continue with Facebook","Text on the facebook button on the mobile web log in modal","Text on the facebook button on the mobile web log in modal"),W=e=>e._("Continue with Google","Text on the google button on the mobile web log in modal","Text on the google button on the mobile web log in modal"),q=e=>e._("Continue with LINE","Text on the Line button on the mobile web log in modal","Text on the Line button on the mobile web log in modal");class V extends r.PureComponent{constructor(...e){var t,n;super(...e),t=this,G(this,"state",{apiErrorCode:0,email:(n=this.props.location,n.state&&n.state.email||""),isLoading:!1,isValid:!1,loggedInWith:null,password:"",recaptchaV3Token:"default",emailValidationError:"",passwordValidationError:"",shouldShowSignupConfirmation:!1,registerCallback:()=>{},socialEmail:"",optOutFromPersonalizedForm:!1,shouldShowSignUpButton:!1}),G(this,"clearPersonalizedLoginFromEmail",e=>{const{history:t,location:n}=this.props;if(n.state&&n.state.userInfo){const{userInfo:o,...i}=n.state;t.replace({pathname:e?"/":"/login",state:i})}}),G(this,"onLoginClick",()=>{this.trackButtonTap(30)}),G(this,"onSignUpClick",()=>{const{history:e,location:t}=this.props;this.trackButtonTap(31),e.push({pathname:"/signup/step1/",state:{email:this.state.email,password:this.state.password,isSignUpFromLoginError:!0,...t.state}})}),G(this,"trackLoginEvent",e=>{const{isAuthenticated:t,isLimitedLoginUser:n}=this.props;Object(N.e)({event_type:e,view_type:9,view_parameter:63,aux_data:{...t?{login_state:n?2:1}:{},signup_login_method:1}})}),G(this,"trackButtonTap",e=>{const{isAuthenticated:t,isLimitedLoginUser:n}=this.props;Object(N.h)({view_type:9,element:e,aux_data:{...t?{login_state:n?2:1}:{}}})}),G(this,"handleNotYouClick",()=>{this.clearPersonalizedLoginFromEmail(),this.trackButtonTap(10879),this.setState({email:"",optOutFromPersonalizedForm:!0}),Object(m.h)("click_change_signin_account")}),G(this,"handleNoAccountClick",()=>{this.clearPersonalizedLoginFromEmail(!0),this.trackButtonTap(10880),Object(m.h)("click_toggle_signup")}),G(this,"handlePasswordReset",e=>{const{resetPasswordExpActiveAndEnabled:t,showResetPasswordSentModal:n}=this.props,{email:o}=this.state;this.trackButtonTap(10881),b.a.create("UserResetPasswordResource",{username_or_email:o}).callCreate({showError:!1}).then(()=>this.setState({apiErrorCode:0}));const i=Object(U.u)(o,this.emailValidators());o&&!i&&t()&&(e.preventDefault(),n(o))}),G(this,"validateEmail",(async function(e){const{email:n}=t.state,{checkEmailExistExp:o}=t.props;let i=Object(U.u)(n,t.emailValidators());if(!i&&e){const e=await t.props.validateEmailExists(n).then(e=>e&&e.resource_response&&!e.resource_response.data?t.props.i18n._("There is no account with this email","Email not found error message","Email not found error message"):"").catch(e=>"");e&&o()&&(i=e)}const r=!i&&!t.state.passwordValidationError;e||r?t.setState({emailValidationError:i,isValid:r}):t.setState({isValid:r})})),G(this,"validatePassword",e=>{const{password:t}=this.state,n=Object(U.u)(t,[Object(U.p)({message:this.props.i18n._("The password you entered is incorrect.","Password validation error","Password validation error")})]),o=!n&&!this.state.emailValidationError;e||o?this.setState({passwordValidationError:n,isValid:o}):this.setState({isValid:o})}),G(this,"validateEmailOnBlur",()=>{setTimeout(()=>{this.validateEmail(!0)},0)}),G(this,"validatePasswordOnBlur",()=>{const{password:e}=this.state;e&&setTimeout(()=>{this.validatePassword(!0)},0)}),G(this,"emailValidators",()=>[Object(U.e)({message:this.props.i18n._("Not a valid email.","Email field validation error message","Email field validation error message")}),Object(U.p)({message:this.props.i18n._("You missed a spot! Don't forget to add your email.","Email validation error","Email validation error")})]),G(this,"handleChangeEmail",({value:e})=>{this.setState({email:e,shouldShowSignUpButton:!1},()=>{this.validateEmail()})}),G(this,"handleChangePassword",({value:e})=>this.setState({password:e},this.validatePassword)),G(this,"handleLogin",e=>{e&&e.preventDefault();const{history:t,location:n,login:o,showToast:i,isSignupConfirmationExpEnabled:r,noImmediateLoginRedirect:s}=this.props,{email:a,password:c,recaptchaV3Token:l}=this.state,u=n.state&&"true"===n.state.switch_account,d=u?{isSwitchAccount:u,recaptchaV3Token:l}:{recaptchaV3Token:l,noImmediateRedirect:s};let h=!1;this.trackLoginEvent(7534),o({username_or_email:a,password:c},t,M(n),d).then(()=>{this.trackLoginEvent(7536)}).catch(e=>{this.trackLoginEvent(7535);let t=e.apiErrorCode===F.n||e.message?{passwordValidationError:e.message}:{};e.apiErrorCode===F.o?(i({color:"orange",text:e.message}),t={}):e.apiErrorCode===F.m&&(a?r&&r()?h=!0:t={emailValidationError:e.message,shouldShowSignUpButton:!0}:t={emailValidationError:e.message}),this.setState({isLoading:!1,shouldShowSignupConfirmation:h,apiErrorCode:e.apiErrorCode,...t}),Object(D.h)(e=>{this.setState({recaptchaV3Token:e})},D.b)}),this.setState({isLoading:!0})}),G(this,"handleLoginTouch",e=>{this.setState({loggedInWith:e}),"Facebook"===e?Object(m.a)("unauth_mweb.facebook_connect.manual.attempt"):"Google"===e&&Object(m.a)("unauth_mweb.google_connect.manual.attempt")}),G(this,"renderPersonalizedLogin",e=>{const{i18n:t,isLimitedLoginUser:n,location:o,noImmediateLoginRedirect:i}=this.props,{emailValidationError:c,passwordValidationError:d,isValid:g,password:b,shouldShowSignUpButton:f}=this.state,{connectedToFacebook:m,connectedToGoogle:j,email:O,firstName:y,hasPassword:x,avatarSrc:v}=(e=>{const t={connectedToFacebook:e.connected_to_facebook,connectedToGoogle:e.connected_to_google,email:e.email,firstName:e.first_name,hasPassword:e.has_password,avatarSrc:""};return void 0!==e.gplus_url&&(t.connectedToGoogle=e.connected_to_google||!!e.gplus_url),e.image_medium_url?t.avatarSrc=e.image_medium_url:e.medium_image_url&&(t.avatarSrc=e.medium_image_url),t})(e),S=!!o.state&&!!o.state.userInfo,k=!x&&!m&&!j,C=x||k,T=m||k,L=j||k,P=C&&(T||L),A=y?Object(E.b)(this.props.i18n._("Welcome back, {{name}}!","Heading on personalized login page, followed by user's name","Heading on personalized login page, followed by user's name"),{name:y}):this.props.i18n._("Welcome back!","Welcome message on user login page","Welcome message on user login page"),R=e=>C&&Object(_.jsx)(l.a,{email:null!=O?O:"",handleChangeEmail:this.handleChangeEmail,handleChangePassword:this.handleChangePassword,handlePasswordReset:this.handlePasswordReset,hideEmailField:e,emailValidationError:c,passwordValidationError:d,validatePasswordOnBlur:this.validatePasswordOnBlur,validateEmailOnBlur:this.validateEmailOnBlur,isValid:g,onLoginClick:this.onLoginClick,onSignUpClick:this.onSignUpClick,onSubmit:this.handleLogin,password:b,shouldShowSignUpButton:f,showEmailAsText:!e}),B=e=>Object(_.jsx)(p.a,{fbButtonType:"continue",facebookText:T?$(t):null,googleText:L?W(t):null,lineText:k?q(t):null,next:M(o),beforeRegister:this.onSocialLoginFailure,onGoogleTouch:()=>this.handleLoginTouch("Google"),onFacebookTouch:()=>this.handleLoginTouch("Facebook"),inSocialBeforeEmailExp:e,noImmediateLoginRedirect:i});return Object(_.jsxs)(r.Fragment,{children:[S&&Object(_.jsx)(a.a,{}),Object(_.jsx)(u.a,{name:"mweb_limited_login_social_before_email",isEligible:n&&P,activate:!1,children:({anyEnabled:e})=>Object(_.jsxs)(r.Fragment,{children:[Object(_.jsxs)(w.f,{display:"flex",direction:"column",justifyContent:"center",alignItems:"center",marginTop:5,marginBottom:C&&!e?-3:5,children:[Object(_.jsx)(w.f,{justifyContent:"center",display:"flex",children:Object(_.jsx)(w.v,{overflow:"normal",size:"sm",children:A})}),Object(_.jsx)(w.f,{marginTop:3,marginBottom:3,children:Object(_.jsx)(s.a,{size:"lg",src:v,name:y||""})}),(e||!C)&&Object(_.jsx)(w.f,{children:Object(_.jsx)(w.bb,{align:"center",children:O})})]}),Object(_.jsxs)(w.f,{marginStart:"auto",marginEnd:"auto",marginTop:3,marginBottom:6,maxWidth:400,children:[e?B(e):R(e),P&&Object(_.jsx)(w.f,{marginTop:3,marginBottom:3,children:Object(_.jsx)(w.bb,{align:"center",size:"sm",weight:"bold",children:this.props.i18n._("OR","Separator for email login button and social login button","Separator for email login button and social login button")})}),e?R(e):B(e)]})]})}),Object(_.jsxs)(w.f,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginTop:2,children:[Object(_.jsxs)(w.f,{display:"flex",justifyContent:"center","data-test-id":"login-switch-account",children:[Object(_.jsx)(w.f,{marginEnd:1,children:Object(_.jsx)(w.bb,{align:"center",children:this.props.i18n._("Not you?","Short message on the bottom of the login modal that prompts a user to log in to a different account","Short message on the bottom of the login modal that prompts a user to log in to a different account")})}),Object(_.jsx)(h.a,{to:{pathname:"/login",state:o.state},pressState:"background",onTouch:this.handleNotYouClick,children:Object(_.jsx)(w.bb,{color:"darkGray",weight:"bold",align:"center",children:this.props.i18n._("Log in with a different account","Short message on the bottom of the login modal that prompts a user to log in to a different account","Short message on the bottom of the login modal that prompts a user to log in to a different account")})})]}),Object(_.jsxs)(w.f,{display:"flex",justifyContent:"center",marginTop:4,children:[Object(_.jsx)(w.f,{marginEnd:1,"data-test-id":"signup-modal-personalized",children:Object(_.jsx)(w.bb,{children:this.props.i18n._("No Account?","Prompt for signing up","Prompt for signing up")})}),Object(_.jsx)(h.a,{to:{pathname:"/signup/step1/",state:o.state},pressState:"background",onTouch:this.handleNoAccountClick,children:Object(_.jsx)(w.bb,{color:"darkGray",weight:"bold",children:this.props.i18n._("Sign up","Prompt for signing up","Prompt for signing up")})})]})]})]})}),G(this,"onSocialLoginFailure",(e,t)=>{this.setState({shouldShowSignupConfirmation:!0,registerCallback:t,socialEmail:e})}),G(this,"handleCreateAccountClick",()=>{const{registerCallback:e}=this.state;e?e():this.onSignUpClick()}),G(this,"renderLoginButtons",e=>{const{i18n:t,location:n,noImmediateLoginRedirect:o}=this.props,i=Object(_.jsx)(p.a,{fbButtonType:"continue",facebookText:$(t),googleText:W(t),lineText:q(t),next:M(n),beforeRegister:this.onSocialLoginFailure,onGoogleTouch:()=>this.handleLoginTouch("Google"),onFacebookTouch:()=>this.handleLoginTouch("Facebook"),noImmediateLoginRedirect:o}),r=Object(_.jsx)(w.f,{marginTop:e?0:-2,marginBottom:e?2:0,children:Object(_.jsx)(w.bb,{align:"center",size:"md",weight:"bold",children:this.props.i18n._("OR","Separator for email login button and social login button","Separator for email login button and social login button")})});return e?Object(_.jsxs)(w.f,{children:[r,i]}):Object(_.jsxs)(w.f,{children:[i,r]})})}componentDidMount(){const{history:e,isAuthenticated:t,isLimitedLoginUser:n,location:o,showToast:i}=this.props,r=o.state&&"true"===o.state.switch_account;if(o.state&&o.state.shouldShowAccountExistsToast&&(i({text:this.props.i18n._("Looks like you already have a Pinterest account. Please log in.","Toast showing that a user already has a Pinterest account and can login normally","Toast showing that a user already has a Pinterest account and can login normally")}),o.state)){const{shouldShowAccountExistsToast:t,...n}=o.state;e.replace("/login/",n)}!t||n||r||Object(A.b)({history:e,next:M(o)});"permanent_account_closure"===Object(R.k)(o.search).message&&i({duration:7e3,text:this.props.i18n._("Your account has been closed. We're sad to see you go","unauthLoginPage.accountClosedToast.message","Confirmation message after a user has successfully closed their account")});const s=()=>{Object(D.h)(e=>{this.setState({recaptchaV3Token:e})},D.b)};s(),setInterval(s,D.f);const a=Object(C.h)(o);a&&e.replace("/login",{isRedirectToNextParamAfterSignup:!0,next:a})}static getDerivedStateFromProps(e,t){const{isAuthenticated:n,isLimitedLoginUser:o,location:i,loggedOutUserInfo:r,viewingUser:s}=e;return i.state&&i.state.userInfo?{email:i.state.userInfo.email}:n||!r||t.optOutFromPersonalizedForm?o&&s&&!t.optOutFromPersonalizedForm?{email:s.email}:null:{email:r.email}}render(){const{isLimitedLoginUser:e,location:t,loggedOutUserInfo:n,viewingUser:o,showPLPBanner:i,plpBannerPin:s}=this.props,a=t.state&&t.state.shouldShowLoginBelow||!1,{apiErrorCode:u,email:p,emailValidationError:b,passwordValidationError:f,shouldShowSignupConfirmation:m,isLoading:j,isValid:O,loggedInWith:y,optOutFromPersonalizedForm:v,password:S,shouldShowSignUpButton:k,socialEmail:C}=this.state;let E=e?o:n;t.state&&t.state.userInfo&&(E=t.state.userInfo);const T=u>0&&u===F.q,L=Object(_.jsxs)(r.Fragment,{children:[Object(_.jsxs)(w.f,{marginStart:"auto",marginEnd:"auto",marginTop:3,marginBottom:6,maxWidth:400,children:[!a&&this.renderLoginButtons(a),Object(_.jsx)(l.a,{email:p,handleChangeEmail:this.handleChangeEmail,handleChangePassword:this.handleChangePassword,handlePasswordReset:this.handlePasswordReset,emailValidationError:b,passwordValidationError:f,validatePasswordOnBlur:this.validatePasswordOnBlur,validateEmailOnBlur:this.validateEmailOnBlur,isSIWAError:T,isValid:O,onLoginClick:this.onLoginClick,onSignUpClick:this.onSignUpClick,onSubmit:this.handleLogin,password:S,shouldShowSignUpButton:k}),a&&this.renderLoginButtons(a)]}),Object(_.jsxs)(w.f,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginTop:2,children:[Object(_.jsxs)(w.f,{display:"flex",justifyContent:"center",children:[Object(_.jsx)(w.f,{marginEnd:1,"data-test-id":"signup-link",children:Object(_.jsx)(w.bb,{children:this.props.i18n._("No Account?","Prompt for signing up","Prompt for signing up")})}),Object(_.jsx)(h.a,{to:{pathname:"/signup/step1/",state:{...t.state,email:p}},pressState:"background",onTouch:this.handleNoAccountClick,children:Object(_.jsx)(w.bb,{color:"darkGray",weight:"bold",children:this.props.i18n._("Sign up","Prompt for signing up","Prompt for signing up")})})]}),Object(_.jsx)(c.a,{})]})]});return m?Object(_.jsx)(x,{email:y?C:p,method:y?y.toLowerCase():"email",backToLogin:()=>this.setState({loggedInWith:null,registerCallback:void 0,shouldShowSignupConfirmation:!1,socialEmail:""}),continueSignup:this.handleCreateAccountClick}):Object(_.jsxs)(r.Fragment,{children:[i&&s&&Object(_.jsx)(g.a,{pin:s}),Object(_.jsxs)(w.f,{paddingX:i?4:0,children:[E&&!v?this.renderPersonalizedLogin(E):L,j&&Object(_.jsx)(d.a,{})]})]})}}var K=Object(k.compose)(z.l,v.b,Object(o.connect)(({session:e,users:t={},experiments:n})=>({canUpsellNativeApp:e.canUseNativeApp&&"unknown"===e.pwaType,isAuthenticated:e.isAuthenticated,isLimitedLoginUser:Object(T.b)(t[e.userId]),loggedOutUserInfo:e.loggedOutUserInfo,viewingUser:t[e.userId]}),e=>({login:(t,n,o,i)=>e(Object(L.b)(t,n,o,i)),isSignupConfirmationExpEnabled:()=>["enabled","employees"].includes(e(Object(S.a)("mweb_unauth_signup_confirmation"))),resetPasswordExpActiveAndEnabled:()=>["enabled","employees"].includes(e(Object(S.a)("mweb_reset_password_lite"))),showResetPasswordSentModal:t=>e(Object(B.M)(t)),validateEmailExists:t=>e(Object(I.n)(t)),checkEmailExistExp:()=>["enabled","employees"].includes(e(Object(S.a)("mweb_check_email_exist_v5")))})))((function(e){const t=Object(j.c)();return Object(_.jsx)(V,{...e,i18n:t})})),H=n("Bb4+"),Y=n("o+5w"),J=n("tCfZ"),X=n("0G5S"),Q=n("PmFr"),Z=n("QAzJ"),ee=n("JJAz");const te=(e,t=!1)=>{const n=new P.b;if(!t&&n.isEligible()){return"/business/offer/"+n.getOfferId()}return Object(R.k)(e.search).next||e.state&&e.state.next||"/"};t.default=function(){const e=Object(j.c)(),t=Object(z.i)(),n=Object(z.h)(),{showPLPBanner:r,pinForBanner:s}=Object(C.i)({i18n:e,location:t}),a=Object(o.useSelector)(({marketingCampaign:e})=>e.params),c=Object(Z.b)("mweb_creator_access_upsell")().anyEnabled&&a.utm_campaign,l="undefined"!=typeof window&&Object(ee.a)(window)&&Object(ee.c)(window),u=!c&&!l;return u&&Object(X.a)(Q.e)?Object(_.jsx)(H.b,{children:Object(_.jsx)(w.f,{top:!0,bottom:!0,left:!0,right:!0,width:"100%",height:"100%",display:"flex",alignItems:"center",direction:"column",position:"absolute",paddingX:5,children:Object(_.jsx)(i.a,{handleContinueInBrowser:()=>{Object(m.a)("login_app_install_step.click_continue_in_browser"),n.push(Object(A.a)(te(t)))},handleOpenAppClick:()=>Object(m.a)("login_app_install_step.click_open_in_app"),InAppDeeplinkUrl:Object(A.a)(te(t,!0))})})}):Object(_.jsx)(Y.a,{viewType:9,children:Object(_.jsx)(H.b,{hasGutter:!r,children:Object(_.jsxs)(w.f,{height:"120vh",children:[Object(_.jsx)(K,{showPLPBanner:r,plpBannerPin:s,noImmediateLoginRedirect:u}),Object(_.jsx)(w.f,{marginTop:6,paddingX:2,children:Object(_.jsx)(J.a,{})})]})})})}},"4NNh":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r}));n("kmwA");const o="https://accounts.google.com/gsi/client",i=e=>{e&&e.cancelLastOperation&&e.cancelLastOperation().then(()=>{})},r=e=>{return JSON.parse(decodeURIComponent(atob((t=e.split(".")[1],(t||"").replace(/-/g,"+").replace(/_/g,"/"))).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")));var t}},"4NbJ":function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return g})),n.d(t,"b",(function(){return b}));var o=n("kmwA"),i=n("bKKl"),r=n("37no"),s=n("nKUr");const a="postmessage",c="profile email",l=e=>Object(r.c)("https://accounts.google.com/gsi/client",r.a.GSI).then(()=>{const t=window.google,n=t&&t.accounts&&t.accounts.id;return n?new Promise((t,i)=>{n.initialize({client_id:o.a.settings.GPLUS_CLIENT_ID,auto_select:!0,callback:n=>e({resolve:t,reject:i,response:n}),cancel_on_tap_outside:!1,context:"use"}),n.prompt()}):Promise.reject(new Error("no_account_found"))});function u(e){const t={scope:c,client_id:"694505692171-31closf3bcmlt59aeulg2j81ej68j6hk.apps.googleusercontent.com",app_package_name:"com.pinterest",access_type:"offline",cookie_policy:"single_host_origin"},n=function(t){e&&e(t)};return new Promise((e,o)=>{Object(r.c)("https://apis.google.com/js/client:platform.js",r.a.GPLUS_ONE).then(()=>{n("google_script_load"),"undefined"!=typeof window&&window.gapi?window&&window.gapi&&window.gapi.auth2?(n("google_script_init_onuse"),window.gapi.auth2.init(t).then(t=>{n("google_init_success"),e(t)},({error:e})=>{n("google_init_error"),o("init_onuse_"+e)})):(n("google_script_init_exists"),window.gapi.load("auth2",{callback:()=>{n("google_auth2_load_complete"),window.gapi.auth2.init(t).then(t=>{n("google_init_success"),e(t)},({error:e})=>{n("google_init_error"),o("init_exists_"+e)})},onerror:({error:e})=>{n("google_auth2_script_load_error"),o(e)},timeout:15e3,ontimeout:()=>{n("google_auth2_script_load_timeout"),o("timeout")}})):n("google_init_error")})})}function d(e,t,n,o=!1){return function(e,t,n,o=!1){return new Promise((r,s)=>{if(o&&Object(i.a)())return void s();const l=function(e){n&&n(e)};l("google_button_init"),u(n).then(()=>{l("google_sdk_load"),"undefined"!=typeof window&&window.gapi?t.signin2.render(e,{scope:c,onsuccess:e=>{l("google_button_success");const t=e.getAuthResponse(!0),n={data:{gplus_id_token:t.id_token,gplus_access_token:t.access_token,gplus_expires_at:t.expires_at,gplus_autologin:o||!1},signupOptions:{gplus_code:"",gplus_id_token:t.id_token,gplus_redirect_uri:a}};r(n)},onfailure:()=>{l("google_button_failure"),s("gapi_signin2_render_error")}}):l("google_init_error")},e=>{l("google_auth2_sdk_init_error"),s(e)})})}(e,t,n,o)}function h(){if("undefined"==typeof window)return null;const e=window.google;return e&&e.accounts&&e.accounts.id}function p(e,t){if("undefined"==typeof window)return;const n=h();if(n&&e.current){const t=e.current.offsetWidth;n.renderButton(e.current,{size:"large",shape:"pill",text:"continue_with",theme:"outline",width:t+"px"})}else t("not_initialized")}function g(e,t,n,i){Object(r.b)("https://accounts.google.com/gsi/client").then(()=>{if("undefined"==typeof window)return;const r=h();r&&(r.initialize({client_id:o.a.settings.GPLUS_CLIENT_ID,callback:n,cancel_on_tap_outside:!1,context:"use",itp_support:i}),p(e,t))})}function b({size:e}){return Object(s.jsx)("svg",{height:e,viewBox:"0 0 512 512",width:e,xmlns:"http://www.w3.org/2000/svg",children:Object(s.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[Object(s.jsx)("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),Object(s.jsx)("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),Object(s.jsx)("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),Object(s.jsx)("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),Object(s.jsx)("path",{d:"M20 20h472v472H20V20z"})]})})}},AXUD:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));const o=412,i=429},"B/oJ":function(e,t,n){n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return f}));var o=n("q1tI"),i=n("/MKj"),r=n("9Hil"),s=n("CpRl"),a=n("k1Bv"),c=n("o+5w"),l=n("yweb"),u=n("ulr2"),d=n("PmFr"),h=n("n6mq"),p=n("nKUr");const g=e=>new Set([...d.c,...d.b,...d.p]).has(e),b={default:3e3,email:3e3,facebook:5e3,google:4e3,gtap:4500};function f({isReducedHeader:e,platform:t}){const n=Object(l.c)(),d=Object(i.useDispatch)(),f=Object(i.useSelector)(({session:e})=>e.country);Object(o.useEffect)(()=>{"gtap"!==t&&d(Object(u.g)())},[]);const m=g(f);return Object(p.jsx)(o.Fragment,{children:m?Object(p.jsx)(c.a,{viewType:10,viewParameter:259,children:Object(p.jsxs)(h.f,{position:"fixed",top:!0,left:!0,right:!0,bottom:!0,width:"100%",color:"white",children:[Object(p.jsx)(r.a,{color:"darkGray",duration:b[t],finalProgress:95}),Object(p.jsxs)(h.f,{direction:"column",display:"flex",height:"100%",children:[Object(p.jsxs)(h.f,{margin:10,children:[Object(p.jsx)(h.v,{overflow:"normal",size:e?"md":"lg",children:n._("Your account is being created!","account created heading","account created heading")}),Object(p.jsx)(h.bb,{overflow:"normal",children:n._("You can now save ideas, get personalized recommendations, and more","loading state description while waiting for any sign up registration to complete","loading state description while waiting for any sign up registration to complete")})]}),Object(p.jsx)(h.f,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",children:Object(p.jsx)(s.a,{delayOffset:-5,xRadiusAdjustment:40,yRadiusAdjustment:40,children:Object(p.jsx)(h.f,{alignItems:"center",color:"lightWash",direction:"column",display:"flex",height:120,justifyContent:"end",overflow:"hidden",rounding:"circle",width:120,children:Object(p.jsx)(h.w,{accessibilityLabel:n._("Loading","Loading state for any sign up registration","Loading state for any sign up registration"),color:"gray",icon:"person",size:"90"})})})})]})]})}):Object(p.jsx)(a.a,{})})}},Copi:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,r=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,a=o?Symbol.for("react.strict_mode"):60108,c=o?Symbol.for("react.profiler"):60114,l=o?Symbol.for("react.provider"):60109,u=o?Symbol.for("react.context"):60110,d=o?Symbol.for("react.async_mode"):60111,h=o?Symbol.for("react.concurrent_mode"):60111,p=o?Symbol.for("react.forward_ref"):60112,g=o?Symbol.for("react.suspense"):60113,b=o?Symbol.for("react.memo"):60115,f=o?Symbol.for("react.lazy"):60116;function m(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case h:case s:case c:case a:case g:return e;default:switch(e=e&&e.$$typeof){case u:case p:case l:return e;default:return t}}case f:case b:case r:return t}}}function j(e){return m(e)===h}t.typeOf=m,t.AsyncMode=d,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=l,t.Element=i,t.ForwardRef=p,t.Fragment=s,t.Lazy=f,t.Memo=b,t.Portal=r,t.Profiler=c,t.StrictMode=a,t.Suspense=g,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===h||e===c||e===a||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===b||e.$$typeof===l||e.$$typeof===u||e.$$typeof===p)},t.isAsyncMode=function(e){return j(e)||m(e)===d},t.isConcurrentMode=j,t.isContextConsumer=function(e){return m(e)===u},t.isContextProvider=function(e){return m(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return m(e)===p},t.isFragment=function(e){return m(e)===s},t.isLazy=function(e){return m(e)===f},t.isMemo=function(e){return m(e)===b},t.isPortal=function(e){return m(e)===r},t.isProfiler=function(e){return m(e)===c},t.isStrictMode=function(e){return m(e)===a},t.isSuspense=function(e){return m(e)===g}},CpRl:function(e,t,n){var o=n("q1tI"),i=n("ihsa"),r=n("n6mq"),s=n("4lNu");const a={yellow:"#FAB904",orange:"#FF6400",green:"#0FA573",blue:"#0074e8",purple:"#B469EB"},c="DelightfulBubbles__",l=["DelightfulBubbles__fadeIn {\n  to {\n    opacity: 1;\n  }\n}\n","DelightfulBubbles__growShrink {\n  0% {\n    transform: scale(0);\n  }\n  50% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(0);\n  }\n}\n","DelightfulBubbles__swirl {\n  0% {\n    transform: rotate(0deg) translateX(-50%);\n  }\n  100% {\n    transform: rotate(-360deg) translateX(-50%);\n  }\n}\n",...Object.keys(a).map(e=>{const t=((e,t)=>{const n=e.length,o=e.indexOf(t)+1>=n?0:e.indexOf(t)+1;return e[o]})(Object.keys(a),e);return`${c}colorChange_${e} {\n      0% {\n        background-color: ${a[e]};\n      }\n      50% {\n        background-color: ${a[t]};\n      }\n    }\n    `})],u=Object(s.a)(l);var d=n("nKUr");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=e=>{const{delay:t,diameter:n,height:o,initialColor:i,width:s,xOffset:l,yOffset:u}=e,h=((e,t,n,o,i,r,s,l)=>({bubblePositionStyles:{position:"absolute",marginLeft:r/2-i+"px",marginTop:n/2-i+"px",left:s+"px",top:l+"px"},bubbleSwirlStyles:{animation:`${c}swirl 6s ease-in-out ${e}s infinite forwards`,WebkitAnimation:`${c}swirl 6s ease-in-out ${e}s infinite forwards`},bubbleGrowShrinkStyles:{transform:"scale(0)",WebkitTransform:"scale(0)",animation:`${c}growShrink 6s ease-in-out ${e}s infinite alternate`,WebkitAnimation:`${c}growShrink 6s ease-in-out ${e}s infinite alternate`},bubbleShapeStyles:{height:t+"px",width:t+"px",borderRadius:"50%",backgroundColor:a[o],opacity:0,animation:`${c}colorChange_${o} 12s steps(1, start) ${e}s infinite forwards,\n      ${c}fadeIn 3s linear ${e}s 1 forwards`,WebkitAnimation:`${c}colorChange_${o} 12s steps(1, start) ${e}s infinite forwards,\n      ${c}fadeIn 3s linear ${e}s 1 forwards`}}))(t,n,o,i,Math.floor(n/2),s,l,u);return Object(d.jsx)(r.f,{dangerouslySetInlineStyle:{__style:h.bubblePositionStyles},children:Object(d.jsx)(r.f,{dangerouslySetInlineStyle:{__style:h.bubbleSwirlStyles},children:Object(d.jsx)(r.f,{dangerouslySetInlineStyle:{__style:h.bubbleGrowShrinkStyles},children:Object(d.jsx)(r.f,{dangerouslySetInlineStyle:{__style:h.bubbleShapeStyles}})})})})};class g extends o.Component{constructor(...e){super(...e),h(this,"state",{isInitialized:!1})}componentDidMount(){this.requestAnimationFrameId=window.requestAnimationFrame(()=>{this.setState({isInitialized:!0})})}shouldComponentUpdate(e,t){return!e.numBubbles===this.props.numBubbles||!t.isInitialized===this.state.isInitialized}getSize(){const{width:e,height:t}=this.props;return void 0!==e&&void 0!==t?{width:e,height:t}:this.containerElement?{height:this.containerElement.offsetHeight,width:this.containerElement.offsetWidth}:{height:void 0,width:void 0}}createBubbles(e,t){const{bubbleSize:n,delayFactor:o,delayOffset:i,numBubbles:r,xRadiusAdjustment:c,yRadiusAdjustment:l}=this.props,u=e+2*l,h=t+2*c,g=[],b=Object.keys(a);for(let a=0;a<r;a+=1){const r=n+Object(s.c)(-4,4),c=b[a%b.length],{x:l,y:f}=Object(s.b)(u,h);g.push(Object(d.jsx)(p,{delay:a*o+i,diameter:r,initialColor:c,xOffset:l,yOffset:f,height:e,width:t},a))}return g}render(){const{height:e,width:t}=this.getSize();return Object(d.jsxs)(r.f,{height:e,width:t,position:"relative",children:[Object(d.jsx)(i.a,{unsafeCSS:u}),Object(d.jsxs)(r.f,{position:"absolute",ref:e=>this.containerElement=e,children:[this.state.isInitialized&&this.createBubbles(e||0,t||0),Object(d.jsx)(r.f,{position:"relative",children:this.props.children})]})]})}}h(g,"defaultProps",{bubbleSize:16,numBubbles:10,xRadiusAdjustment:0,yRadiusAdjustment:0,delayFactor:1,delayOffset:0});t.a=g},EUPR:function(e,t,n){n.d(t,"h",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return b}));var o=n("7w6Q");const i="onloadRecaptchaJsCallback",r="6Ldx7ZkUAAAAAF3SZ05DRL2Kdh911tCa3qFP0-0r",s="recaptcha-enterprise-src",a=(e,t)=>{try{o.a.increment("recaptcha_v3.request_token.attempt",.1,{action:t}),window.grecaptcha.enterprise.ready(()=>{try{window.grecaptcha.enterprise.execute(r,{action:t}).then(e)}catch(n){o.a.increment("recaptcha_v3.request_token.exec_error",.1,{action:t})}})}catch(n){o.a.increment("recaptcha_v3.request_token.error",.1,{action:t})}},c=(e,t)=>{if(window[i]=function(){return a(e,t)},document.getElementById(s))a(e,t);else{const e=document.createElement("script");e.id=s,e.src=`https://www.google.com/recaptcha/enterprise.js?onload=${i}&render=${r}`;const t=document.getElementsByTagName("script")[0];t.parentNode&&t.parentNode.insertBefore(e,t)}},l=105e3,u=8e3,d="mweb_auth",h="mweb_login",p="mweb_signup",g="web_auth",b="web_unauth"},GCVb:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));var o=n("gxu6"),i=(n("kmwA"),n("RNo4"));const r=()=>o.a("csrftoken"),s=(e,t)=>!(e=>/^(GET|HEAD|OPTIONS|TRACE)$/.test(e))(e)&&Object(i.h)(t)},Hgxh:function(e,t,n){n.d(t,"a",(function(){return a}));var o=n("mp1x"),i=n("yweb"),r=n("n6mq"),s=n("nKUr");function a({type:e,onDismiss:t}){const n=Object(i.c)(),a="facebook"===e?n._("Oops! Facebook isn't available","socialAuthDisabled.facebook.title","Title for the modal shown when Facebook services are not working"):n._("Oops! Google isn't available","socialAuthDisabled.google.title","Title for the modal shown when Google services are not working"),c="facebook"===e?n._("Looks like Facebook isn't available right now.\n\nGive another option a try or refresh the page and try again later.","socialAuthDisabled.facebook.description","Description for the modal shown when Facebook services are not working"):n._("Looks like Google isn't available right now.\n\nGive another option a try or refresh the page and try again later.","socialAuthDisabled.google.description","Description for the modal shown when Google services are not working");return Object(s.jsx)(o.a,{accessibilityCloseIconLabel:n._("Close","Close modal window","Close modal window"),hideCloseIcon:!0,isOpen:!0,onDismiss:t,type:"social_auth_disabled_modal",children:Object(s.jsxs)(r.f,{padding:2,children:[Object(s.jsx)(r.f,{marginBottom:3,children:Object(s.jsx)(r.v,{size:"md",accessibilityLevel:1,children:a})}),Object(s.jsx)(r.f,{marginBottom:3,children:Object(s.jsx)(r.bb,{children:c})}),Object(s.jsx)(r.f,{display:"flex",direction:"column",children:Object(s.jsx)(r.f,{paddingY:1,children:Object(s.jsx)(r.g,{accessibilityLabel:n._("OK","socialAuthDisabled.okButton","Button that closes modal shown when Facebook or Google services are not working"),size:"lg",color:"red",text:n._("OK","socialAuthDisabled.okButton","Button that closes modal shown when Facebook or Google services are not working"),onClick:t})})})]})})}},IAo4:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const o=/^(0[1-9]|1[012])\/(0[1-9]|[12][0-9]|3[01])\/((19|20)[0-9]{2})$/,i=/^(19|20)[0-9]{2}$/,r=e=>{if(o.test(e)||i.test(e)){return new Date(e).getTime()/1e3}return-1},s=(e,t)=>{const n=new Date;if(o.test(e)){const o=new Date(n.getFullYear()-t,n.getMonth(),n.getDate());return new Date(e)<=o}if(i.test(e)){const o=n.getFullYear()-t-1;return new Date(e).getFullYear()<=o}return!1}},JGxo:function(e,t,n){var o=n("/MKj"),i=n("2NiC"),r=n("yweb"),s=n("n6mq"),a=n("nKUr");t.a=e=>{const t=Object(r.c)(),{handleContinueInBrowser:n,handleOpenAppClick:c,overrideAppValueProp:l,InAppDeeplinkUrl:u="/"}=e,d=Object(o.useSelector)(e=>e.session.isTablet),h=t._("Switch to the mobile app","mweb.nux.app_button_text","Text on app install button"),p=l||t._("Woohoo! You're ready to go.","mweb.nux.app_value_prop","Text that instructs user when user just finish registration");return Object(a.jsx)(s.f,{height:"90%",justifyContent:"center",display:"flex",direction:"column",maxWidth:440,margin:"auto",children:Object(a.jsxs)(s.f,{paddingX:2,paddingY:6,children:[Object(a.jsx)(s.f,{paddingY:6,justifyContent:"center",display:"flex",children:Object(a.jsx)(s.w,{color:"red",icon:"pinterest",accessibilityLabel:"Pinterest App",size:d?60:40})}),Object(a.jsxs)(s.f,{justifyContent:"center",display:"flex",direction:"column",children:[Object(a.jsx)(s.f,{paddingY:2,children:Object(a.jsx)(s.v,{align:"center",size:"sm",children:p})}),Object(a.jsx)(s.f,{marginTop:8,justifyContent:"center",alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}}}),Object(a.jsx)(s.f,{"data-test-id":"app-install-button",children:Object(a.jsx)(i.a,{children:e=>Object(a.jsx)(s.g,{fullWidth:!0,size:"lg",color:"red",onClick:()=>{c(),e&&e(u)},text:h})})}),Object(a.jsx)(s.f,{marginTop:2,"data-test-id":"skip-app-install-button",children:Object(a.jsx)(s.g,{fullWidth:!0,onClick:n,color:"white",size:"lg",text:t._("Continue in browser","mweb.unauth.app_upsell.continue_in_browser","App Upsell continue viewing in browser")})})]})]})})}},MKeS:function(e,t,n){n.d(t,"b",(function(){return C}));var o=n("q1tI"),i=n.n(o);function r(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=n("TOwV"),l=n("2mql"),u=n.n(l);function d(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}function h(e){console.warn("loadable: "+e)}var p=i.a.createContext();function g(e){return e+"__LOADABLE_REQUIRED_CHUNKS__"}var b={initialChunks:{}},f="PENDING",m="REJECTED";var j=function(e){return e};function w(e){var t=e.defaultResolveComponent,n=void 0===t?j:t,o=e.render,l=e.onLoad;function h(e,t){void 0===t&&(t={});var h=function(e){return"function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),g={};function j(e){return t.cacheKey?t.cacheKey(e):h.resolve?h.resolve(e):"static"}function w(e,o,i){var r=t.resolveComponent?t.resolveComponent(e,o):n(e);if(t.resolveComponent&&!Object(c.isValidElementType)(r))throw new Error("resolveComponent returned something that is not a React component!");return u()(i,r,{preload:!0}),r}var _,O=function(e){var n,i;function c(n){var o;return(o=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:j(n)},d(!n.__chunkExtractor||h.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?(!1===t.ssr||(h.requireAsync(n).catch((function(){return null})),o.loadSync(),n.__chunkExtractor.addChunk(h.chunkName(n))),a(o)):(!1!==t.ssr&&(h.isReady&&h.isReady(n)||h.chunkName&&b.initialChunks[h.chunkName(n)])&&o.loadSync(),o)}i=e,(n=c).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i,c.getDerivedStateFromProps=function(e,t){var n=j(e);return s({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var u=c.prototype;return u.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===m&&this.setCache(),this.state.loading&&this.loadAsync()},u.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},u.componentWillUnmount=function(){this.mounted=!1},u.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},u.getCacheKey=function(){return j(this.props)},u.getCache=function(){return g[this.getCacheKey()]},u.setCache=function(e){void 0===e&&(e=void 0),g[this.getCacheKey()]=e},u.triggerOnLoad=function(){var e=this;l&&setTimeout((function(){l(e.state.result,e.props)}))},u.loadSync=function(){if(this.state.loading)try{var e=w(h.requireSync(this.props),this.props,x);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:h.resolve(this.props),chunkName:h.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},u.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var n=w(t,e.props,{Loadable:x});e.safeSetState({result:n,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},u.resolveAsync=function(){var e=this,t=this.props,n=(t.__chunkExtractor,t.forwardedRef,r(t,["__chunkExtractor","forwardedRef"])),o=this.getCache();return o||((o=h.requireAsync(n)).status=f,this.setCache(o),o.then((function(){o.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:h.resolve(e.props),chunkName:h.chunkName(e.props),error:t?t.message:t}),o.status=m}))),o},u.render=function(){var e=this.props,n=e.forwardedRef,i=e.fallback,a=(e.__chunkExtractor,r(e,["forwardedRef","fallback","__chunkExtractor"])),c=this.state,l=c.error,u=c.loading,d=c.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===f)throw this.loadAsync();if(l)throw l;var h=i||t.fallback||null;return u?h:o({fallback:h,result:d,options:t,props:s({},a,{ref:n})})},c}(i.a.Component),y=(_=O,function(e){return i.a.createElement(p.Consumer,null,(function(t){return i.a.createElement(_,Object.assign({__chunkExtractor:t},e))}))}),x=i.a.forwardRef((function(e,t){return i.a.createElement(y,Object.assign({forwardedRef:t},e))}));return x.preload=function(e){h.requireAsync(e)},x.load=function(e){return h.requireAsync(e)},x}return{loadable:h,lazy:function(e,t){return h(e,s({},t,{suspense:!0}))}}}var _=w({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return i.a.createElement(t,n)}}),O=_.loadable,y=_.lazy,x=w({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),v=x.loadable,S=x.lazy,k="undefined"!=typeof window;function C(e,t){void 0===e&&(e=function(){});var n=(void 0===t?{}:t).namespace,o=void 0===n?"":n;if(!k)return h("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var i=null;if(k){var r=g(o),s=document.getElementById(r);if(s){i=JSON.parse(s.textContent);var a=document.getElementById(r+"_ext");if(!a)throw new Error("loadable-component: @loadable/server does not match @loadable/component");JSON.parse(a.textContent).namedChunks.forEach((function(e){b.initialChunks[e]=!0}))}}if(!i)return h("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var c=!1;return new Promise((function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,n=t.push.bind(t);function o(){i.every((function(e){return t.some((function(t){return t[0].indexOf(e)>-1}))}))&&(c||(c=!0,e()))}t.push=function(){n.apply(void 0,arguments),o()},o()})).then(e)}var E=O;E.lib=v,y.lib=S;t.a=E},MgzW:function(e,t,n){var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(e){o[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,a,c=s(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))i.call(n,u)&&(c[u]=n[u]);if(o){a=o(n);for(var d=0;d<a.length;d++)r.call(n,a[d])&&(c[a[d]]=n[a[d]])}}return c}},Ncr9:function(e,t,n){var o=n("TPPM"),i=n("XdLN"),r=n("28DW");t.a=e=>{Object(i.a)(e)||(e="/",Object(r.a)("url_reset")),Object(o.a)(e,!1)}},OadL:function(e,t,n){n.d(t,"s",(function(){return a})),n.d(t,"i",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"p",(function(){return u})),n.d(t,"k",(function(){return d})),n.d(t,"m",(function(){return h})),n.d(t,"l",(function(){return p})),n.d(t,"n",(function(){return g})),n.d(t,"e",(function(){return b})),n.d(t,"o",(function(){return f})),n.d(t,"r",(function(){return m})),n.d(t,"t",(function(){return j})),n.d(t,"q",(function(){return _})),n.d(t,"h",(function(){return O})),n.d(t,"j",(function(){return y})),n.d(t,"b",(function(){return x})),n.d(t,"f",(function(){return v})),n.d(t,"c",(function(){return S})),n.d(t,"g",(function(){return k})),n.d(t,"d",(function(){return C})),n.d(t,"v",(function(){return E})),n.d(t,"u",(function(){return T}));var o=n("peh1");const i=e=>(t,n)=>t.feeds[((e,t)=>"string"==typeof e?e:e(t))(e,n)],r=e=>e.boards,s=e=>e.invites,a=e=>e.users,c=e=>e.users[e.session.userId]||null,l=e=>i(e),u=Object(o.createSelector)(e=>e.feeds,e=>Object.keys(e).filter(e=>e.includes("share-suggestions")).reduce((t,n)=>({...t,[n]:e[n]}),{})),d=Object(o.createSelector)(s,e=>Object.keys(e).reduce((t,n)=>{const o=n.split(":")[0],i=t[o]||{notPendingOwnerAction:[],pendingOwnerAction:[]};return e[n]&&"not_invited"!==e[n].status&&("pending_approval"===e[n].status?i.pendingOwnerAction.push(n):i.notPendingOwnerAction.push(n),t[o]=i),t},{})),h=Object(o.createSelector)(s,e=>Object.keys(e).reduce((t,n)=>{const o=n.split(":"),i=t[o[0]]||[];return e[n]&&"not_invited"!==e[n].status&&(i.push(n),t[o[0]]=i),t},{})),p=Object(o.createSelector)(s,e=>Object.keys(e).reduce((t,n)=>{const o=e[n];return t[n]=o,t},{})),g=Object(o.createSelector)(c,s,(e,t)=>Object.keys(t).reduce((n,o)=>{const i=o.split(":"),r=i[0],s=i[1],a=e.id===s,c=t[o]&&["new","contact_request_not_approved"].includes(t[o].status);return a&&c&&(n[r]=o),n},{})),b=Object(o.createSelector)(a,s,(e,t)=>Object.keys(t).reduce((n,o)=>{const i=t[o]||{};return n[o]=e[i.invited_by_user],n},{})),f=Object(o.createSelector)(i("notifications"),e=>e.notifications,(e=[],t)=>e.map(({id:e})=>t[e])),m=Object(o.createSelector)(e=>e.topics,e=>Object.keys(e).reduce((t,n)=>{const o=e[n];return t[o.slug]=o,t[n]=o,t},{})),j=Object(o.createSelector)(a,e=>Object.keys(e).reduce((t,n)=>{const o=e[n];return t[o.username]=o,t},{})),w=Object(o.createSelector)(c,r,(e,t)=>Object.keys(t).reduce((n,o)=>{const i=t[o];return!i.archived_by_me_at&&(i.owner===e.id||i.collaborating_users&&i.collaborating_users.includes(e.id))&&i.cover_images?n.concat([i]):n},[])),_=Object(o.createSelector)(w,e=>e.sort((e,t)=>e.name.localeCompare(t.name))),O=Object(o.createSelector)((e,t)=>e.users[t.user_id]||null,r,(e,t)=>Object.keys(t).reduce((n,o)=>{const i=t[o];return!i.archived_by_me_at&&e&&(i.owner===e.id||i.collaborating_users&&i.collaborating_users.includes(e.id))&&n.push(i),n},[])),y=Object(o.createSelector)(a,i("suggested-creator-follows"),(e,t)=>t?t.filter(({id:t})=>{const n=e[t];return n&&n.explicitly_followed_by_me}):[]),x=Object(o.createSelector)(r,e=>Object.keys(e).reduce((t,n)=>{const o=e[n];return t[o.url]=o,o.oldSlugUrl&&(t[o.oldSlugUrl]=o),t},{})),v=Object(o.createSelector)(e=>e.boardsections,e=>Object.keys(e).reduce((t,n)=>{const o=e[n];return t[`${o.board}_${o.slug}`]=o,t},{})),S=Object(o.createSelector)(a,(e,t)=>t,(e,t)=>t?[t.owner,...t.collaborating_users||[]].map(t=>e[t]).filter(Boolean):[]),k=l(({boardId:e})=>"board-sections:"+e),C=l(({boardId:e})=>"board-collaborators:"+e),E=e=>e.experiences[40001]&&(40002===e.experiences[40001].experience_id||500450===e.experiences[40001].experience_id),T=e=>e.experiences[40001]&&500681===e.experiences[40001].experience_id},PaNI:function(e,t,n){n.d(t,"a",(function(){return u}));var o=n("/MKj"),i=n("hLPq"),r=n("yweb"),s=n("2oSX"),a=n("AGnR"),c=n("EC67"),l=n("nKUr");function u({alignIconLeft:e,bgColor:t,color:n,disableRedirect:u=!1,fallbackUrl:d,icon:h="arrow-back",onTouch:p,padding:g,placement:b,shouldUseFallbackUrl:f,size:m="lg",viewParameter:j,viewType:w}){const _=Object(r.c)(),O=Object(c.h)(),y=Object(c.i)(),x=Object(o.useSelector)(e=>e.session.isAuthenticated);return Object(l.jsx)(i.a,{accessibilityLabel:_._("Back","navigation button","navigation button"),bgColor:t,color:n,icon:h,onTouch:()=>{Object(s.d)({action:"back_button_click",placement:b,isAuthenticated:x}),w&&j&&Object(a.h)({view_type:w,view_parameter:j,element:34}),p&&p(),u||((!y.key||y.state&&"redirect"===y.state.referrer||f)&&d?O.replace(d):y.pathname.includes("/password/reset/")&&y.search&&y.search.includes("?nativeShouldDismiss=true")?O.push("/login/?dismissWebview=true"):O.goBack())},padding:g||2,size:m,containerStyle:e?{display:"flex",alignItems:"center",marginLeft:"cancel"===h?"-4px":"-8px",width:"48px",height:"48px"}:{}})}},Q5BC:function(e,t,n){n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return S}));var o=n("gxu6"),i=n("eOdZ"),r=n("lIBN"),s=n("QtD7"),a=n("ARZW"),c=n("jUT+"),l=n("GCVb"),u=n("sv3x"),d=n("qEYz"),h=n("2COb"),p=n("eyT9"),g=n("28DW"),b=n("A+Hl"),f=n("AYc3"),m=n("2y2F"),j=n("PmFr"),w=n("0G5S"),_=n("2oSX"),O=n("eNqV");const y=(e,t,n,o)=>({type:c.d,payload:{user:e,experiences:t,active:n,triggerable:o}}),x=(e,t,n="/",c={isAutologin:!1,isSwitchAccount:!1,noLocationReplace:!1,recaptchaV3Token:"default",noImmediateRedirect:!1,useAlternativeResourceCall:!1,trigger:"other"})=>async(p,g)=>{const{session:x}=g(),{country:v}=x,S=!x.isTablet&&!x.isMobile,{isAutologin:k,isSwitchAccount:C,noLocationReplace:E,recaptchaV3Token:T,noImmediateRedirect:L,useAlternativeResourceCall:P,trigger:A}=c,R=Object(b.c)(x.origin)&&!1;let B={get_user:!0,...e,app_type_from_client:x.appType||6,recaptchaV3Token:T};const I=Object(w.a)(j.h);I&&(B={...B,visited_pages_before_login:I});let F=R?Object(b.a)({referrer:x.referrer,facebook_id:x.facebookToken,...e,recaptchaV3Token:T}):i.a.create("UserSessionResource",B).callCreate();if(P&&e.username_or_email&&e.password){const t=new FormData;t.append("username",e.username_or_email),t.append("password",e.password);const n={method:"POST",body:t,credentials:"include",headers:{Accept:"application/json, text/javascript, */*","X-CSRFToken":Object(l.a)()||"","X-Requested-With":"XMLHttpRequest"}};F=fetch("/resource/UserSessionResource/create/",n).then(e=>{if(200!==e.status){const t=new Error(e.statusText);throw t.response=e,t}return e.json()}).catch(e=>Promise.reject(e))}try{const i=await F;p(y(i.resource_response.data.user,i.client_context.placed_experiences,i.client_context.active_experiments,i.client_context.triggerable_experiments)),Object(r.a)("authentication.login_success"),Object(_.e)({action:k?"autologin":"login",type:Object(u.d)(e),isCrossDomain:R,isMultipleAccounts:C,trigger:A});["enabled","employees"].includes(p(Object(s.a)("mweb_cctld_cookies_cleanup")))&&(o.c("fba"),o.c("logged_out")),Object(w.c)(j.e,1),"/"!==n&&Object(h.a)(!0),C?Object(O.j)().then(()=>{window.location.href="/"+i.resource_response.data.user.username}):k&&!S||Object(d.b)({forceFullPageNavigation:S,history:t,next:n,noLocationReplace:E,noImmediateRedirect:L}),Object(m.a)(v)&&Object(f.g)({id:a.f,eventCategory:"Logins",eventName:"Mobile"}),Object(m.f)(v)&&Object(f.k)({id:"flashtalking-m-login",eventCategory:"Logins",eventName:"Mobile"}),Object(m.c)(v)&&Object(f.h)({pixelId:"dpm_pixel_login_event",eventCategory:"Logins",eventName:"Mobile"}),Object(m.d)(v)&&Object(f.i)({pixelId:"dentsu_pixel_login_event",eventCategory:"Logins",eventName:"Mobile"})}catch(D){if(1201!==D.apiErrorCode||k)throw Object(_.f)({action:k?"autologin":"login",type:Object(u.d)(e),error:D.message,isCrossDomain:R,isMultipleAccounts:C,trigger:A}),C&&Object(r.a)("authentication.login_error"),D;e.google_open_id_token&&(e.gplus_id_token=e.google_open_id_token),t&&t.push({pathname:"/login/mfa/",state:{creds:e,next:n}})}},v=(e={redirectToSwitchAccountsPage:!1})=>async(t,n)=>{const{session:s}=n(),a=!s.isTablet&&!s.isMobile;await i.a.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete(),Object(r.a)("logout.logout_success"),Object(g.k)("logout",{tags:{app:"web_mobile",reason:"user_initiated"}}),o.b("fba","True",720),Object(h.a)(!1),Object(w.b)(p.a),Object(w.b)(j.l),Object(w.b)(O.a),Object(w.b)(void 0),await Object(O.j)();const{redirectToSwitchAccountsPage:c}=e;c?window.location.href="/switch_account/":a&&(window.location.href="/")},S=e=>t=>{t(y(e.resource_response.data.user,e.client_context.placed_experiences,e.client_context.active_experiments,e.client_context.triggerable_experiments))}},QCnb:function(e,t,n){e.exports=n("+wdc")},TOwV:function(e,t,n){e.exports=n("qT12")},Wm3C:function(e,t,n){function o(e=5){const t="abcdefghijklmnopqrstuvwxyz1234567890";return new Array(e).fill("").map(()=>t[Math.floor(Math.random()*t.length)]).join("")}n.d(t,"a",(function(){return o}))},YWST:function(e,t,n){n.d(t,"b",(function(){return r}));var o=n("q1tI");const i=Object(o.createContext)();function r(){return Object(o.useContext)(i)}t.a=i},bKKl:function(e,t,n){n.d(t,"a",(function(){return i}));var o=n("gxu6");const i=()=>!!o.a("logged_out")||!!o.a("fba")},fs0a:function(e,t,n){var o=n("q1tI"),i=n("/MKj"),r=n("Hgxh"),s=n("28DW"),a=n("QAzJ"),c=n("yweb"),l=n("2hay"),u=n("n6mq"),d=n("nKUr");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p={defaultButton:{display:"flex",alignItems:"center",backgroundColor:"#1877F2",border:"none",height:"40px",transition:"opacity .2s linear",width:"100%",minWidth:"240px",borderRadius:"20px",padding:"0px 0px 0px 8px"},roundedButton:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#FFF",border:"none",height:"48px",transition:"opacity .2s linear",width:"48px",marginBottom:"8px",borderRadius:"50%"},fbLogo:{__style:{borderRadius:"12px",paddingTop:"5px",paddingLeft:"3px",paddingRight:"2px",marginLeft:"4px",marginRight:"4.4px"}},placeholderButton:{pointerEvents:"none",position:"absolute",borderRadius:"20px",top:"0",right:"0",bottom:"0",left:"0"},buttonText:{fontFamily:"Helvetica, Arial, sans-serif",fontWeight:"bold",color:"#fff",fontSize:"16px",paddingRight:"8px",letterSpacing:"0.25px"}};class g extends o.Component{constructor(...e){super(...e),h(this,"state",{fbReady:!1,showSocialAuthDisabledModal:!1}),h(this,"connectCallback",({creds:e,data:t})=>{this.props.onFacebookConnectSuccess(e,t)}),h(this,"handleConnectClick",()=>{Object(s.a)("unauth_mweb.facebook_connect.button_click");const{onTouch:e,mwebFacebookDisabled:t}=this.props;e&&e(),t?this.setState({showSocialAuthDisabledModal:!0}):this.state.fbReady&&Object(l.h)().then(this.connectCallback,this.props.onFacebookConnectError)}),h(this,"renderRoundButton",()=>Object(d.jsxs)(u.f,{display:"flex",direction:"column",alignItems:"center",children:[Object(d.jsx)("button",{onClick:this.handleConnectClick,style:p.roundedButton,type:"button",children:Object(d.jsx)(u.w,{accessibilityLabel:this.props.i18n._("facebook","accessible label for facebook icon","accessible label for facebook icon"),color:"blue",icon:"facebook",inline:!0,size:20})}),Object(d.jsx)(u.bb,{color:"white",size:"md",children:this.props.i18n._("Facebook","Facebook company name","Facebook company name")})]}))}componentDidMount(){this.props.mwebFacebookDisabled||(Object(l.f)(this.props.locale).then(()=>{this.setState({fbReady:!0})}),window.addEventListener("message",this.handleMessageEvent,!1))}handleMessageEvent(e){Object(l.i)(e,e=>Object(s.a)("unauth_mweb."+e))}componentWillUnmount(){window.removeEventListener("message",this.handleMessageEvent)}renderPersonalizedButton(){const{isRerequest:e}=this.props,t=p.placeholderButton,n=(this.props.type||"continue")+"_with",o="rounded",i=this.props.fbUseContinueAs?"true":"false";return Object(d.jsxs)("div",{style:t,children:[e?Object(d.jsx)("div",{className:"fb-login-button","data-width":"100%","data-max-rows":"1","data-size":"large","data-button-type":n,"data-layout":o,"data-show-faces":"false","data-auth-type":"rerequest","data-scope":l.b.join(","),"data-auto-logout-link":"false","data-use-continue-as":i}):Object(d.jsx)("div",{className:"fb-login-button","data-width":"100%","data-max-rows":"1","data-size":"large","data-button-type":n,"data-layout":o,"data-show-faces":"false","data-scope":l.b.join(","),"data-auto-logout-link":"false","data-use-continue-as":i}),this.state.showSocialAuthDisabledModal&&Object(d.jsx)(r.a,{type:"facebook",onDismiss:()=>this.setState({showSocialAuthDisabledModal:!1})})]})}render(){const{isRounded:e}=this.props;if(e)return this.renderRoundButton();const t=p.defaultButton;return Object(d.jsxs)(u.f,{position:"relative","data-test-id":"FacebookConnectContainer",dangerouslySetInlineStyle:{__style:{display:"inline"}},children:[this.renderPersonalizedButton(),Object(d.jsxs)("button",{onClick:this.handleConnectClick,style:t,type:"button","data-test-id":"FacebookConnectButton",children:[Object(d.jsx)(u.f,{color:"white",dangerouslySetInlineStyle:p.fbLogo,children:Object(d.jsx)(u.w,{accessibilityLabel:this.props.i18n._("facebook","accessible label for facebook icon","accessible label for facebook icon"),color:"blue",icon:"facebook",inline:!0,size:19})}),Object(d.jsx)(u.f,{alignItems:"center",display:"flex",justifyContent:"center",flex:"grow",marginEnd:1,children:Object(d.jsx)("span",{style:p.buttonText,children:this.props.buttonText})})]}),this.state.showSocialAuthDisabledModal&&Object(d.jsx)(r.a,{type:"facebook",onDismiss:()=>this.setState({showSocialAuthDisabledModal:!1})})]})}}var b=Object(i.connect)(e=>({locale:e.session.locale}))((function(e){const t=Object(c.c)(),{anyEnabled:n}=Object(a.c)("mweb_facebook_disabled");return Object(d.jsx)(g,{...e,i18n:t,mwebFacebookDisabled:n})})),f=n("k1Bv"),m=n("yep/"),j=n("bcHz"),w=n("u0Kf"),_=n("Wm3C"),O=n("jv6g"),y=n.n(O),x=n("kmwA"),v=n("hZxF"),S=n("RNo4"),k=n("pLLR"),C=n("0G5S");const E={defaultButton:{display:"flex",alignItems:"center",backgroundColor:"#00C300",border:"none",height:"40px",transition:"opacity .2s linear",width:"100%",borderRadius:"20px",padding:"0px 0px 0px 8px"},lineLogo:{borderRadius:"12px",backgroundColor:"#00C300",width:"32px",height:"32px"},buttonText:{fontWeight:"bold",color:"#fff",fontSize:"16px",paddingRight:"33px"}};var T=({buttonText:e,onLineConnectSuccess:t,onLineConnectError:n,onTouch:o})=>{const i=Object(c.c)(),{anyEnabled:r}=Object(a.b)("mweb_line_oauth_jp")(),{anyEnabled:l}=Object(a.b)("mweb_line_oauth_jp_android")(),h=r||l,p=Object(_.a)(10),{locale:g}=Object(k.d)();let b;const f=e=>{const o=Object(S.k)(e);if(o.state&&o.code&&o.state===p){b&&!b.closed&&b.close();const e=window.location.origin+"/oauth/line/redirect";Object(w.b)({url:"/oauth/line/verify",type:"POST",data:{code:o.code,redirect_uri:e}}).then(({ok:e,responseText:o})=>{if(e&&o){const e=JSON.parse(o),{id_token:n,access_token:i}=e;n&&i&&t({line_id_token:n,line_access_token:i},{line_id_token:n,line_access_token:i})}else n()})}},m=e=>{e.isTrusted&&e.origin===window.location.origin&&e.data&&f(String(e.data))},j=e=>{if(e.isTrusted&&e.url.startsWith(window.location.origin)&&"lineOAuthOneTimeCode"===e.key){const e=Object(C.a)("lineOAuthOneTimeCode");e&&f(e)}};Object(v.a)(()=>()=>{window.removeEventListener("message",m),window.removeEventListener("storage",j),Object(C.b)("lineOAuthOneTimeCode"),b&&!b.closed&&b.close()});const O=E.defaultButton;return h?Object(d.jsx)(u.f,{position:"relative","data-test-id":"LineConnectContainer",children:Object(d.jsxs)("button",{onClick:()=>{Object(s.a)("unauth_mweb.line_connect.button_click"),o&&o();const e=window.location.origin+"/oauth/line/redirect";window.addEventListener("message",m,!1),window.addEventListener("storage",j),b=window.open("https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id="+x.a.settings.LINE_CLIENT_ID+"&redirect_uri="+encodeURIComponent(e)+"&state="+p+"&ui_locales="+g+"&scope=profile%20openid%20email","_blank")},style:O,type:"button","data-test-id":"LineConnectButton",children:[Object(d.jsx)("img",{style:E.lineLogo,src:y.a,alt:i._("line","accessible label for line icon","accessible label for line icon")}),Object(d.jsx)(u.u,{alignItems:"center",justifyContent:"center",flex:"grow",children:Object(d.jsx)("span",{style:E.buttonText,children:e})})]})}):null},L=n("B/oJ"),P=n("6adH"),A=n("QtD7"),R=n("ANjH"),B=n("TXO6"),I=n("Q5BC"),F=n("vKjI"),D=n("VL22"),U=n("ulr2"),N=n("YWST"),z=n("0HhX"),G=n("EC67"),M=n("PmFr"),$=n("J8m7"),W=n("IAo4"),q=n("AGnR");function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class K extends o.PureComponent{constructor(...e){super(...e),V(this,"state",{isLoading:!1,showRegisterLoading:!1,signupPlatform:"default"}),V(this,"onRegisterSuccess",e=>{const{isRedirectToNextParamAfterSignup:t,next:n}=this.props;this.trackSignupLoginEvent(7487,e),["facebook","google"].includes(e)&&(t&&n&&this.props.history.push(n),this.props.history.push("/")),this.setState({showRegisterLoading:!1})}),V(this,"onRegisterFailure",(e,t)=>{this.trackSignupLoginEvent(7488,t),this.props.showToast({text:e.message||this.props.i18n._("Sorry! Something went wrong on our end.","Error logging on","Error logging on")}),this.setState({isLoading:!1,showRegisterLoading:!1})}),V(this,"handlePostLoginRegistration",(e,t)=>{const{beforeRegister:n,isSignupConfirmationExpEnabled:o}=this.props;n&&o()?n(e,t):t()}),V(this,"onLoginError",(e,t,n,o)=>{this.setState({isLoading:!1}),!t||t.apiErrorCode!==$.x&&t.apiErrorCode!==$.l&&t.apiErrorCode!==$.r?t?(Object(s.j)("mweb_login_button_skip_register.api_error_code."+t.apiErrorCode),this.props.showToast({text:t.apiErrorCode&&t.message?t.message:this.props.i18n._("Sorry, we can't log you in.","Error message when user having trouble login in.","Error message when user having trouble login in.")})):(Object(s.j)("unauth_mweb.login.unexpected_error"),this.props.showToast({text:this.props.i18n._("Sorry, we can't log you in.","Error message when user having trouble login in.","Error message when user having trouble login in.")})):"line"===o||n.email||n.gplus_id_token?"line"===o?t.apiErrorCode===$.r?this.redirectToLineEmailCollect(n):this.registerAfterLoginError(e,t,n,o):this.handlePostLoginRegistration(n.email||"",()=>this.registerAfterLoginError(e,t,n,o)):Object(l.c)("email").then(({hasPerm:i})=>{this.handlePostLoginRegistration("",()=>this.redirectToEmailCollect(n,e,t,o)),Object(s.j)("unauth_mweb.reg_via_fb.has_email_perm."+String(!!i))}).catch(i=>{this.handlePostLoginRegistration("",()=>this.registerAfterLoginError(e,t,n,o))})}),V(this,"getAuxDataSignupLoginMethod",e=>{switch(e){case"facebook":return 2;case"google":return 3;case"line":return 8;default:return}}),V(this,"getViewParameterType",e=>{switch(e){case"facebook":return 3205;case"google":return 3204;case"line":return 3556;default:return}}),V(this,"trackSignupLoginEvent",(e,t)=>{const{isAuthenticated:n,isLimitedLoginUser:o}=this.props;Object(q.e)({event_type:e,view_type:10,view_parameter:this.getViewParameterType(t),aux_data:{...n?{login_state:o?2:1}:{},signup_login_method:this.getAuxDataSignupLoginMethod(t)}})}),V(this,"trackButtonTap",e=>{const{isAuthenticated:t,isLimitedLoginUser:n,viewParameter:o}=this.props;Object(q.h)({view_type:10,view_parameter:o,element:e,aux_data:{...t?{login_state:n?2:1}:{}}})}),V(this,"registerAfterLoginError",(e,t,n,o)=>{"line"!==o&&this.includeAgeStep(o,n)?this.props.history.push({pathname:"/signup/thirdpartyage/",state:{signupOptions:n,signupPlatform:o}}):("facebook"===o&&n.birthday&&(n.birthday=String(Object(W.a)(n.birthday||""))),this.setState({isLoading:!0,showRegisterLoading:!0,signupPlatform:o}),this.trackSignupLoginEvent(7537,o),this.props.register(n).then(e=>this.onRegisterSuccess(o),e=>this.onRegisterFailure(e,o)))}),V(this,"redirectToEmailCollect",(e,t,n,o)=>{const{country:i}=this.props;this.props.history.push({pathname:"/signup/fbemailcollect/",state:{signupOptions:e,isGDPREUCountry:Object(D.d)(i),country:i,includeAgeStep:this.includeAgeStep("facebook",e)}})}),V(this,"redirectToLineEmailCollect",e=>{this.props.history.push({pathname:"/signup/line-email-collect/",state:{signupOptions:e}})}),V(this,"includeAgeStep",(e,t)=>{const{country:n}=this.props,o="facebook"!==e||!t.birthday,i=Object(D.d)(n),r=M.b.includes(n),s=M.k.has(n);return!!(i||r||s)&&(!!o||!Object(W.b)(t.birthday||"",18))}),V(this,"handleFacebookError",()=>{const{fbConnectHandler:e}=this.props;e&&e("error"),this.props.showToast({text:this.props.i18n._("Unable to connect to Facebook","Error logging on with Facebook","Error logging on with Facebook")})}),V(this,"handleLineError",()=>{this.props.showToast({text:this.props.i18n._("Unable to connect to Line","Error logging on with Line","Error logging on with Line")})}),V(this,"handleSignupTouch",({event:e})=>{const{from:t,history:n,isBusiness:o,next:i,onSignupTouch:r,setLoginSignupFrom:a,location:c,isRedirectToNextParamAfterSignup:l}=this.props;e&&(e.stopPropagation(),e.preventDefault()),Object(s.h)("press_email_signup"),r&&r(),t&&a(t),this.trackButtonTap(31),n.push({pathname:o?"/business/signup/step1/":"/signup/step1/",search:c.search,state:{next:i,isRedirectToNextParamAfterSignup:l}})}),V(this,"handleLoginTouch",({event:e})=>{const{isBusiness:t,footerCTA:n,from:o,history:i,next:r,onLoginTouch:a,location:c,isRedirectToNextParamAfterSignup:l}=this.props;e.stopPropagation(),e.preventDefault(),a&&a(),o&&this.props.setLoginSignupFrom(o),this.trackButtonTap(30);const u=n||"button";Object(s.j)("unauth_mweb.login_buttons.footer."+u),Object(s.h)("press_login"),i.push({pathname:t?"/business/login/":"/login/",search:c.search,state:{next:r,isRedirectToNextParamAfterSignup:l}})}),V(this,"handleGoogleTouch",()=>{const{onGoogleTouch:e}=this.props;e&&e(),this.trackButtonTap(208)}),V(this,"handleFacebookTouch",()=>{const{onFacebookTouch:e}=this.props;e&&e(),this.trackButtonTap(68)}),V(this,"handleLineTouch",()=>{this.trackButtonTap(12277)}),V(this,"login",e=>(t,n)=>{const{fbConnectHandler:o,history:i,login:r,next:a,location:c,noImmediateLoginRedirect:l}=this.props,u="google"===e?"gsi_btn":"other",d=c.state&&c.state.switch_account?{switchAccount:!0,trigger:u}:{noImmediateRedirect:l,trigger:u};"facebook"===e&&o&&o("success"),Object(s.h)(e+"_login_success"),this.trackSignupLoginEvent(7534,e),r(t,i,a,d).then(()=>{this.trackSignupLoginEvent(7536,e)}).catch(o=>{this.trackSignupLoginEvent(7535,e),this.onLoginError(t,o,n,e)}),this.setState({isLoading:!0,showRegisterLoading:!1,signupPlatform:e})}),V(this,"renderRegularButtons",()=>{const{isBusiness:e,locale:t,googleText:n,facebookText:i,lineText:r,showEmailButton:s,fbButtonType:a,isRerequest:c,isAuthenticated:l,showSecondGoogleButton:h}=this.props;let p=this.props.i18n._("Continue with email","Sign up button","Sign up button"),g=2;return e&&(p=this.props.i18n._("Create account","Button text for creating a business account","Button text for creating a business account"),g=-2),Object(d.jsxs)(o.Fragment,{children:[s&&Object(d.jsx)(u.f,{"data-test-id":"signup-button",marginBottom:g,children:Object(d.jsx)(u.g,{fullWidth:!0,color:"red",text:p,onClick:this.handleSignupTouch})}),i&&Object(d.jsx)(u.f,{marginBottom:2,children:Object(d.jsx)(b,{buttonText:i,locale:t,onFacebookConnectError:this.handleFacebookError,onFacebookConnectSuccess:this.login("facebook"),type:a,fbUseContinueAs:this.props.fbUseContinueAs,onTouch:this.handleFacebookTouch,isRerequest:c})}),n&&Object(d.jsx)(u.f,{marginBottom:2,children:Object(d.jsx)(m.a,{buttonText:n,isAuthenticated:l,showSecondGoogleButton:h,onGoogleConnectSuccess:this.login("google"),onTouch:this.handleGoogleTouch})}),r&&Object(d.jsx)(u.f,{marginBottom:2,children:Object(d.jsx)(T,{buttonText:r,onLineConnectError:this.handleLineError,onLineConnectSuccess:this.login("line"),onTouch:this.handleLineTouch})})]})})}renderFooterCTA(){const{footerCTA:e,increasedSpaceBelow:t,isMobileHomepage:n}=this.props;return"member_link"===e?Object(d.jsx)(u.f,{marginTop:-4,"data-test-id":"login-member",children:Object(d.jsx)(j.a,{pressState:"none",onTouch:e=>this.handleLoginTouch({event:e}),children:Object(d.jsx)(u.f,{paddingY:4,marginBottom:t?-1:-2,children:Object(d.jsx)(u.bb,{align:"center",size:"md",weight:"bold",color:n?"white":"darkGray",children:this.props.i18n._("Already a member? Log in","Link on mobile web sign up modal to direct unauth users to the login page","Link on mobile web sign up modal to direct unauth users to the login page")})})})}):"not_you_link"===e?Object(d.jsx)(u.f,{marginTop:-3,"data-test-id":"LoginButtonsNotYoucontainer",children:Object(d.jsx)(j.a,{pressState:"none",onTouch:e=>this.handleLoginTouch({event:e}),children:Object(d.jsxs)(u.bb,{size:"md",inline:!0,color:"darkGray",children:[this.props.i18n._("Not you? ","Text for if the user is shown the wrong Facebook profile image for their account","Text for if the user is shown the wrong Facebook profile image for their account"),Object(d.jsx)(u.bb,{color:"darkGray",inline:!0,size:"md",weight:"bold",children:this.props.i18n._("Log in as a different user.","Clickable text that takes the user to the login page","Clickable text that takes the user to the login page")})]})})}):"no_account_link"===e?Object(d.jsx)(u.f,{marginTop:-4,children:Object(d.jsx)(j.a,{pressState:"none",onTouch:e=>this.handleSignupTouch({event:e}),children:Object(d.jsx)(u.f,{paddingY:4,marginBottom:t?-1:-2,children:Object(d.jsx)(u.bb,{align:"center",size:"md",weight:"bold",children:this.props.i18n._("No account? Sign up","loginButtonsFooter.link","Link on mobile web sign up modal to direct unauth users to the signup page")})})})}):Object(d.jsx)(u.f,{marginBottom:5,"data-test-id":"login-button",children:Object(d.jsx)(u.g,{fullWidth:!0,color:"transparent",onClick:this.handleLoginTouch,text:this.props.i18n._("Log in","Login page button","Login page button")})})}renderRoundedButtons(){const{locale:e,fbButtonType:t,isRerequest:n}=this.props;return Object(d.jsxs)(u.f,{display:"flex",direction:"column",alignItems:"center",children:[Object(d.jsx)(u.f,{marginBottom:4,children:Object(d.jsx)(u.bb,{align:"center",color:"white",size:"md",children:this.props.i18n._("Sign up to get started","Sign up CTA","Sign up CTA")})}),Object(d.jsxs)(u.f,{display:"flex",direction:"row",children:[Object(d.jsxs)(u.f,{"data-test-id":"signup-button",rounding:"circle",display:"flex",direction:"column",alignItems:"center",marginBottom:4,marginEnd:4,children:[Object(d.jsx)("button",{onClick:this.handleSignupTouch,style:{border:"none",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#FFF",height:"48px",width:"48px",marginBottom:"8px",borderRadius:"50%",cursor:"pointer"},type:"button",children:Object(d.jsx)(u.w,{accessibilityLabel:this.props.i18n._("Continue with email","Sign up with email button","Sign up with email button"),icon:"gmail",color:"darkGray",inline:!0,size:16})}),Object(d.jsx)(u.bb,{color:"white",size:"md",children:this.props.i18n._("Email","Icon text for continuing with email","Icon text for continuing with email")})]}),Object(d.jsx)(u.f,{marginEnd:4,children:Object(d.jsx)(b,{locale:e,onFacebookConnectError:this.handleFacebookError,onFacebookConnectSuccess:this.login("facebook"),type:t,fbUseContinueAs:this.props.fbUseContinueAs,onTouch:this.handleFacebookTouch,isRerequest:n,isRounded:!0})}),Object(d.jsx)(m.a,{onGoogleConnectSuccess:this.login("google"),onTouch:this.handleGoogleTouch,isRounded:!0})]})]})}render(){const{isBusiness:e,showTextDivider:t,inSocialBeforeEmailExp:n,roundButtons:o,showLoginButtons:i,secondaryAccountFlowEnabled:r}=this.props,{showRegisterLoading:s,isLoading:a,signupPlatform:c}=this.state,l=e?r?6:-5:0;return Object(d.jsxs)(u.f,{marginTop:l,maxWidth:400,marginStart:"auto",marginEnd:"auto","data-test-id":"LoginButtonsContainer",children:[t&&Object(d.jsx)(u.f,{marginBottom:3,marginTop:3,children:Object(d.jsx)(u.bb,{align:"center",size:"sm",weight:"bold",children:this.props.i18n._("OR","Separator for email login button and social login button","Separator for email login button and social login button")})}),Object(d.jsx)(u.f,{marginBottom:n?3:6,children:o?this.renderRoundedButtons():this.renderRegularButtons()}),i&&this.renderFooterCTA(),a&&(s?Object(d.jsx)(L.a,{platform:"line"===c?"default":c}):Object(d.jsx)(f.a,{}))]})}}V(K,"defaultProps",{next:"/",fbUseContinueAs:!0,footerCTA:"button"});t.a=Object(R.compose)(G.l,P.b,Object(i.connect)(({session:e,users:t={}},n)=>({country:e.country,locale:e.locale,isAuthenticated:e.isAuthenticated,isLimitedLoginUser:Object(B.b)(t[e.userId]),isTablet:e.isTablet}),e=>({setLoginSignupFrom:t=>e(Object(U.v)(t)),register:t=>e(Object(F.a)(t)),login:(t,n,o,i)=>e(Object(I.b)(t,n,o,i)),isSignupConfirmationExpEnabled:()=>["enabled","employees"].includes(e(Object(A.a)("mweb_unauth_signup_confirmation")))})))((function(e){var t;const n=Object(c.c)(),{locale:r,showEmailButton:s,showLoginButtons:a}=e,l=Object(N.b)();Object(o.useEffect)(()=>{l&&(a&&l.load(new URL("login.js","file://")),s&&l.load(new URL("signup.js","file://")))},[]),Object(z.a)({name:"LocalesResource",options:{}});const u=null===(t=Object(i.useSelector)(({settings:{localeOptions:e}})=>e||[]).find(e=>(null==e?void 0:e.value)===r))||void 0===t?void 0:t.label;return Object(d.jsx)(K,{...e,localeName:u,i18n:n})}))},hZxF:function(e,t,n){var o=n("q1tI");t.a=e=>{Object(o.useEffect)(e,[])}},jv6g:function(e,t){e.exports="https://s.pinimg.com/webapp/btn_base-3772d107.png"},k1Bv:function(e,t,n){var o=n("yweb"),i=n("n6mq"),r=n("nKUr");t.a=({isInModal:e})=>{const t=Object(o.c)();return Object(r.jsx)(i.f,{position:e?"absolute":"fixed",top:!0,left:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255,255,255, .5)",height:"100%",width:"100%",zIndex:1}},display:"flex",alignItems:"center",justifyContent:"center",children:Object(r.jsx)(i.U,{accessibilityLabel:t._("Loading","Full page loading state","Full page loading state"),show:!0})})}},"ki+g":function(e,t,n){n.d(t,"a",(function(){return l}));var o=n("/MKj"),i=n("bcHz"),r=n("yweb"),s=n("n6mq"),a=n("nKUr");const c="M11.969 17a4.983 4.983 0 0 1-2.047-.447l6.6-6.6c.281.626.447 1.316.447 2.047a5 5 0\n0 1-5 5m-5-5a5 5 0 0 1 5-5c.748 0 1.45.175 2.087.47l-6.617 6.617A4.944 4.944 0 0 1 6.969\n12m13.104-5.598l2.415-2.415a1.75 1.75 0 1 0-2.475-2.474l-3.014 3.013A12.646 12.646 0 0 0 12 3.5C6.455\n3.5 1.751 7.051 0 12a12.798 12.798 0 0 0 3.927 5.598l-2.414 2.415A1.748 1.748 0 0 0 2.75 23c.448 0 .896-.171\n1.238-.513l3.013-3.013A12.65 12.65 0 0 0 12 20.5c5.545 0 10.249-3.551 12-8.5a12.782 12.782 0 0 0-3.927-5.598\n";function l({color:e="gray",legoSettingsEnabled:t,paddingX:n=10,showPassword:l,togglePassword:u}){const d=Object(r.c)(),{isRTL:h}=Object(o.useSelector)(({session:e})=>e);return Object(a.jsx)(s.f,{left:h,right:!h,position:"absolute",paddingX:n,dangerouslySetInlineStyle:{__style:{right:t&&!h?4:void 0,top:t?"50%":12,transform:`translateY(${t?"-50%":"0"})`}},children:Object(a.jsx)(s.f,{display:"inlineBlock",children:t?Object(a.jsx)(s.x,{accessibilityLabel:l?d._("Show password","PasswordToggleEye.Label.Button.Toggle.Show.Password","Accessibility label for button that toggles showing the password"):d._("Hide password","PasswordToggleEye.Label.Button.Toggle.Hide.Password","Accessibility label for button that toggles hiding the password"),color:e,dangerouslySetSvgPath:l?{}:{__path:c},icon:l?"eye":void 0,inline:!0,size:"lg",onClick:u}):Object(a.jsx)(i.a,{onTouch:u,rounding:"circle",pressState:"none",children:l?Object(a.jsx)(s.w,{icon:"eye",color:"gray",inline:!0,accessibilityLabel:d._("Show password","Accessibility label for button that toggles showing the password","Accessibility label for button that toggles showing the password")}):Object(a.jsx)(s.w,{dangerouslySetSvgPath:{__path:c},color:"gray",inline:!0,accessibilityLabel:d._("Hide password","Accessibility label for button that toggles hiding the password","Accessibility label for button that toggles hiding the password")})})})})}},oAcf:function(e,t,n){var o=n("/MKj"),i=n("+zvl"),r=n("yweb"),s=n("T/RA"),a=n("EfoL"),c=n("EC67"),l=n("nKUr");t.a=function({pin:e}){const t=Object(r.c)(),n=Object(o.useSelector)(({session:e})=>e&&e.unauthSavePinId),u=Object(o.useSelector)(({pins:e})=>n&&e[n]),d=Object(o.useSelector)(({session:e})=>e.unauthSaveOption),h=Object(c.i)();if(!e&&!n)return null;const p=h.pathname.startsWith("/signup");if(!h.pathname.startsWith("/login")&&!p)return null;if(u){const e=h.pathname.startsWith("/signup"),n=d===s.a,o={image:{url:Object(a.d)(u),height:1,width:1},pinDescription:u.description||"",dominantColor:u.dominant_color||"",bannerCopy:e?t._("Finish signing up to save this idea","mweb.unauth.save.flow.signup.banner","Sign up banner shown in signup page after user attempting to save the pin"):n?t._("Log in to save to an existing board","mweb.unauth.save.flow.login.existingBoard.banner","Login banner shown in login page after user attempting to save the pin to an existing board"):t._("Finish logging in to save this idea","mweb.unauth.save.flow.login.banner","Login banner shown in login page after user attempting to save the pin")};return Object(l.jsx)(i.a,{pin:o,showPinImage:!n})}return e?Object(l.jsx)(i.a,{pin:e}):null}},peh1:function(e,t,n){function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){return e===t}function r(e){var t=arguments.length<=1||void 0===arguments[1]?i:arguments[1],n=null,o=null;return function(){for(var i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];return null!==n&&n.length===r.length&&r.every((function(e,o){return t(e,n[o])}))||(o=e.apply(void 0,r)),n=r,o}}function s(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var a=0,c=i.pop(),l=s(i),u=e.apply(void 0,[function(){return a++,c.apply(void 0,arguments)}].concat(n)),d=function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var s=l.map((function(n){return n.apply(void 0,[e,t].concat(i))}));return u.apply(void 0,o(s))};return d.resultFunc=c,d.recomputations=function(){return a},d.resetRecomputations=function(){return a=0},d}}t.__esModule=!0,t.defaultMemoize=r,t.createSelectorCreator=a,t.createStructuredSelector=function(e){var t=arguments.length<=1||void 0===arguments[1]?c:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.reduce((function(e,t,o){return e[n[o]]=t,e}),{})}))};var c=t.createSelector=a(r)},qEYz:function(e,t,n){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var o=n("7w6Q"),i=n("kmwA"),r=n("EC67");const s=["/resource/:name/:method/","/resource/commerce/:name/:method/","/:username/pins/follow/","/email/remove/","/about/trademark/form/:claim_type/","/about/copyright/dmca-pin/web-result/:id/","/about/copyright/dmca-pin/pin/:id/","/about/copyright/dmca-pin/","/suspension-appeal/submitted/","/website/confirm/","/oauth/","/settings/extension/uninstall/","/offsite/","/amp/(.*)"];var a=n("RNo4");const c=e=>e&&Object(a.h)(e)&&i.a.settings.PASSWORD_RESET_URL!==e?Object(a.j)(e).relative:"/",l=({forceFullPageNavigation:e,history:t,next:n,noLocationReplace:i,noImmediateRedirect:l=!1})=>{(e=>{const t=new URL(e,window.location.origin);return s.some(e=>!!Object(r.g)(t.pathname,{path:e,exact:!0}))})(n=Object(a.e)(n))||Object(a.g)(n)===a.a.TRUSTED_DIFFERENT_ORIGIN||!t||e?(e&&o.a.increment("webapp.duplo.navigateOnLogin.forceFullPageNavigation",1),window.location.assign(n)):l||(i?t.push(c(n)):t.replace(c(n)))}},qT12:function(e,t,n){var o="function"==typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,r=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,a=o?Symbol.for("react.strict_mode"):60108,c=o?Symbol.for("react.profiler"):60114,l=o?Symbol.for("react.provider"):60109,u=o?Symbol.for("react.context"):60110,d=o?Symbol.for("react.async_mode"):60111,h=o?Symbol.for("react.concurrent_mode"):60111,p=o?Symbol.for("react.forward_ref"):60112,g=o?Symbol.for("react.suspense"):60113,b=o?Symbol.for("react.suspense_list"):60120,f=o?Symbol.for("react.memo"):60115,m=o?Symbol.for("react.lazy"):60116,j=o?Symbol.for("react.block"):60121,w=o?Symbol.for("react.fundamental"):60117,_=o?Symbol.for("react.responder"):60118,O=o?Symbol.for("react.scope"):60119;function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case h:case s:case c:case a:case g:return e;default:switch(e=e&&e.$$typeof){case u:case p:case m:case f:case l:return e;default:return t}}case r:return t}}}function x(e){return y(e)===h}t.AsyncMode=d,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=l,t.Element=i,t.ForwardRef=p,t.Fragment=s,t.Lazy=m,t.Memo=f,t.Portal=r,t.Profiler=c,t.StrictMode=a,t.Suspense=g,t.isAsyncMode=function(e){return x(e)||y(e)===d},t.isConcurrentMode=x,t.isContextConsumer=function(e){return y(e)===u},t.isContextProvider=function(e){return y(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return y(e)===p},t.isFragment=function(e){return y(e)===s},t.isLazy=function(e){return y(e)===m},t.isMemo=function(e){return y(e)===f},t.isPortal=function(e){return y(e)===r},t.isProfiler=function(e){return y(e)===c},t.isStrictMode=function(e){return y(e)===a},t.isSuspense=function(e){return y(e)===g},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===h||e===c||e===a||e===g||e===b||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===f||e.$$typeof===l||e.$$typeof===u||e.$$typeof===p||e.$$typeof===w||e.$$typeof===_||e.$$typeof===O||e.$$typeof===j)},t.typeOf=y},r36Y:function(e,t,n){e.exports=n("Copi")},sv3x:function(e,t,n){n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return w})),n.d(t,"c",(function(){return _}));var o=n("gxu6"),i=n("GI6b"),r=n("Jr++"),s=n("Ncr9"),a=n("eOdZ"),c=n("QLqj"),l=n("kmwA"),u=n("28DW"),d=n("AXUD"),h=n("VL22"),p=n("J8m7"),g=n("nKUr");const b=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6}),f=[p.e,p.d,p.E,p.z,p.s,p.u,d.b],m=(p.o,p.p,p.y,p.n,p.z,[...f.filter(e=>e!==p.s&&e!==p.z),p.n,p.q]);class j{static defaultLoginRedirectUrl(){return window.location.pathname===l.a.settings.PASSWORD_RESET_URL||window.location.pathname===l.a.settings.LOGIN_URL||window.location.pathname.startsWith(l.a.settings.ADD_SECONDARY_ACCOUNT_PAGE)?"/":window.location.pathname+window.location.search}static defaultSocialLoginRedirectUrl(){return window.location.pathname.startsWith(l.a.settings.ADD_SECONDARY_ACCOUNT_PAGE)?"/":window.location.pathname}static isExceedRecaptchaLocalLimit(){const e=c.b.localStorage.getItem("urh");if(e&&e.indexOf("|")>-1){const t=e.split("|");return 3===t.length&&(new Date).getTime()/1e3-parseInt(t[0],10)<=3600}return!1}static updateRecaptchaTimeStamp(){const e=c.b.localStorage.getItem("urh");let t=[];e&&(t=e.split("|"),3===t.length&&t.shift());const n=((new Date).getTime()/1e3).toString();t.push(n);const o=t.join("|");c.b.localStorage.setItem("urh",o)}static isFullyLoggedIn(e,t){return e&&1===t}static handleRedirect(e){if(!e){e="/";const t=Object(r.a)();if(t){const n=t.next;n&&(e=n,delete t.next),e=Object(i.a)(e,t)}}Object(s.a)(e)}static handleRedirectWithFallbackWindowLocation(){this.handleRedirect(this.defaultLoginRedirectUrl())}static handleSignupRedirect(e,t){c.b.localStorage.setItem("signupTime",Date.now()),!t&&e&&"/"!==e?j.handleRedirect(e):j.handleRedirect("/")}static storeLoginCredentialsToBrowser(e){if(navigator.credentials&&e.username_or_email)try{const t=new window.PasswordCredential({id:e.username_or_email,password:e.password});navigator.credentials.store(t).then(()=>{Object(u.a)("navigatorCredentials.store.success")})}catch(t){Object(u.a)("navigatorCredentials.store.error")}}static retrieveLoginCredentialsFromBrowser(){const e=window.navigator.credentials;if(!e)return new Promise((e,t)=>{t()});return e.get({password:!0,mediation:"silent"})}static attemptLoginWithBrowserCredentials(e,t,n){if(!e)return new Promise((e,t)=>{t("No credentials")});let o,i;e.password?(i="include",o=new FormData,o.append("username",e.id),o.append("password",e.password)):i=e;return fetch("/resource/UserSessionResource/create/",{method:"POST",body:o,credentials:i,headers:{Accept:"application/json, text/javascript, */*","X-CSRFToken":t||"","X-Pinterest-AppState":n,"X-Requested-With":"XMLHttpRequest"}}).then(e=>{if(200!==e.status){const t=new Error(e.statusText);throw t.response=e,t}return Object(u.a)("navigatorCredentials.login.success"),e.json()}).catch(e=>(Object(u.a)("navigatorCredentials.login.failure"),Promise.reject(e)))}static fetchRecentlyLoggedOutUser(e){if(e)return Promise.reject();const t=a.a.create("UnauthUserDataResource");return new Promise((e,n)=>{t.callGet().then(t=>{const i=t.resource_response.data,r=!!o.a("logged_out");return i?(i.connected_to_facebook||i.connected_to_google||i.has_password||Object(u.a)("unauth.personalized_login.no_login_methods_found"),Object(u.a)("unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_"+(r?"true":"false")),e(i)):(Object(u.a)("unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_"+(r?"true":"false")),n({}))}).catch(e=>{if(e.message){const t=e.message.replace(/\s/g,"_").toLowerCase();Object(u.a)("unauth.personalized_login.fetch_user_info.error."+t)}else Object(u.a)("unauth.personalized_login.fetch_user_info.error.unknown");return n(e)})})}static handleLoginMfa(e,t,n){Object(u.a)("multi_step_login"),j.storeLoginCredentialsToBrowser(e),n?n(e,t):Object(u.a)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}static getLoginErrorState(e,t,n,o,i){let r=null;const s=e.http_status||e.httpStatus;let a,c=e.api_error_code||e.apiErrorCode;if(s===d.b&&(c=d.b),a=m.includes(c)?Object(g.jsx)(o,{api_error_code:c,errorMessage:e.message,handleTouch:()=>i(b.PASSWORD_RESET_SENT),source:t,userSearch:n}):e.message,a)switch(c){case p.n:case p.s:r={passwordValidationError:a};break;case p.o:r={facebookValidationError:a};break;case p.p:r={googleValidationError:a};break;case p.m:r={emailValidationError:a};break;case p.i:r={passwordValidationError:a};break;default:r={emailValidationError:a}}else Object(u.a)(`unauth.login.error.SERVER_ERROR.unknown.${c}.${t}`);return r}}function w(e){return e.facebook_id?h.a.FACEBOOK:e.google_open_id_token?h.a.GOOGLE_ONE_TAP:e.gplus_id_token?h.a.GOOGLE:e.line_id_token?h.a.LINE:e.username_or_email?h.a.EMAIL:h.a.OTHER}function _(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":w(e)}t.b=j},tCfZ:function(e,t,n){n.d(t,"a",(function(){return l}));var o=n("Lr1Z"),i=n("kmwA"),r=n("yweb"),s=n("qpbZ"),a=n("n6mq"),c=n("nKUr");function l({isMobileHomepage:e,isBusiness:t=!1,size:n="sm",alignText:l="center"}){const u=Object(r.c)(),d=i.a.settings.POLICY_PRIVACY_URL,h=t?i.a.settings.PARTNER_SITE_TOS_URL:i.a.settings.POLICY_TERMS_PLAIN_URL;return Object(c.jsx)(a.f,{alignItems:"left"===l?"start":"center",display:"flex",direction:"column",children:Object(c.jsx)(a.bb,{color:e?"white":"gray",align:"left"===l?"start":"center",size:"sm",overflow:"left"===l?"normal":"breakWord",children:Object(s.b)(u._("By continuing, you agree to Pinterest's {{ termsOfService }} and acknowledge you've read our {{ privacyPolicy }}"),{termsOfService:Object(c.jsx)("span",{"data-test-id":"business-tos",children:Object(c.jsx)(o.a,{to:h,inline:!0,pressState:"background",newTab:!0,children:Object(c.jsx)(a.bb,{color:e?"white":"gray",inline:!0,size:"sm",weight:"bold",children:t?u._("Business Terms of Service","Mobile web business terms of service link for partners","Mobile web business terms of service link for partners"):u._("Terms of Service","Mobile web terms of service link","Mobile web terms of service link")})})},"termsOfService"),privacyPolicy:Object(c.jsx)("span",{"data-test-id":"privacy",children:Object(c.jsx)(o.a,{to:d,inline:!0,pressState:"background",newTab:!0,children:Object(c.jsx)(a.bb,{color:e?"white":"gray",inline:!0,size:"sm",weight:"bold",children:u._("Privacy Policy","Mobile web privacy policy link","Mobile web privacy policy link")})})},"privacyPolicy")})})})}},u0Kf:function(e,t,n){n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c}));var o=n("jC6u"),i=n("RNo4"),r=n("GCVb");let s;const a=e=>s=e,c=e=>Object(o.a)(e,{csrf:{isRequired:r.b,errorIfMissing:!0,getToken:r.a},getAppVersion:()=>s.getState().session.appVersion,appendQuery:i.b,buildQuery:i.c});t.b=e=>c(e).promise},vH2r:function(e,t,n){n.d(t,"a",(function(){return b}));var o=n("/MKj");const i="gmail.com",r="yahoo.com",s="hotmail.com",a="icloud.com",c={AR:[i,s,"yahoo.com.ar"],AU:[i,s,"bigpond.com"],BR:[i,s,"yahoo.com.br"],CA:[i,s,r],DE:[i,"web.de","gmx.de"],ES:[i,s,"hotmail.es"],FR:[i,"hotmail.fr","orange.fr"],GB:[i,"hotmail.co.uk","hotmail.com"],IN:[i,r,"rediffmail.com"],IT:[i,"libero.it","hotmail.it"],JP:[i,"yahoo.co.jp","ezweb.ne.jp"],MX:[i,s,"outlook.com"],US:[i,s,r],KR:[i,"naver.com","hanmail.net","nate.com","daum.net"],ID:[i,r,"yahoo.co.id","ymail.com","rocketmail.com"],PH:[i,r,"yahoo.com.ph",a,"ymail.com"],TH:[i,s,"hotmail.co.th",r,a],VN:[i,r,"yahoo.com.vn",a,s],DEFAULT:[i,s,r]};function l(e){return e&&e.toUpperCase()in c?c[e.toUpperCase()]:c.DEFAULT}var u=n("bcHz"),d=n("QtD7"),h=n("n6mq"),p=n("nKUr");const g={border:"1px solid rgb(181, 181, 181)",zIndex:1};function b({direction:e,email:t,emailFieldElement:n,handleEmailSuggestionClick:i,showUsername:r}){const s=Object(o.useSelector)(({session:e})=>e.country),a=Object(o.useDispatch)();let c=l(s);["ID","KR","TH","PH","VN"].includes(s)&&(c=((e=>a(Object(d.a)("mweb_unauth_email_suggestion_"+e.toLowerCase())))(s)||"").startsWith("enabled")?l(s):l()),"top"===e&&(c=[...c].reverse());let b=window.innerWidth-32;const f=n;f&&(b=f.getBoundingClientRect().width);let m=g;if("top"===e){const e=f?f.offsetTop-105:200;m={...g,top:e}}else{const e=f?f.offsetTop+40:248;m={...g,top:e}}return Object(p.jsx)(h.f,{color:"white",dangerouslySetInlineStyle:{__style:m},direction:"column",display:"flex",position:"absolute",top:"top"===e,width:b,children:c.map(e=>{const n=r?t.concat(e):e;return Object(p.jsx)(h.f,{children:Object(p.jsx)("div",{role:"button",onMouseDown:()=>{i(t.concat(e))},tabIndex:0,children:Object(p.jsx)(u.a,{pressState:"none",children:Object(p.jsx)(h.f,{paddingX:3,paddingY:2,children:Object(p.jsx)(h.bb,{children:n})})})})},n)})})}},vKjI:function(e,t,n){n.d(t,"a",(function(){return y}));var o=n("gxu6"),i=n("0G5S"),r=n("PmFr");function s(){return function(e){const t={};return e.forEach(e=>{const n=JSON.parse(Object(i.a)(e));n&&(t[e]=n)}),JSON.stringify(t)}([r.l])}var a=n("eOdZ"),c=n("Ptwp"),l=n("lIBN"),u=n("28DW"),d=n("ARZW"),h=n("VL22"),p=n("jUT+"),g=n("vtuW"),b=n("B/oJ"),f=n("eNqV"),m=n("J8m7"),j=n("A+Hl"),w=n("AYc3"),_=n("2y2F"),O=n("2oSX");const y=(e,t)=>(t,n)=>{let y=0;const{session:x}=n(),{country:v}=x,S=Object(b.b)(v),k=new Promise((e,t)=>{S?setTimeout(()=>{e()},3e3):e()}),C=()=>{const n=x.isAuthenticated,b=Object(j.c)(x.origin)&&!1;return(b?Object(j.b)({invite_code:x.inviteCode,locale:x.locale,referrer:x.referrer,...e}):a.a.create("UserRegisterResource",{...e,get_user:!0,user_behavior_data:s(),visited_pages:Object(i.a)(r.g)}).callCreate()).then(o=>k.then(()=>{var s,a,m,j;Object(g.b)("d_pif_invite"),Object(i.b)(r.g),t((s=o.resource_response.data.user,a=o.client_context.placed_experiences,m=o.client_context.active_experiments,j=o.client_context.triggerable_experiments,{type:p.pb,payload:{user:s,experiences:a,active:m,triggerable:j}})),n&&Object(l.a)("registration.signup_success");const y=e.email||e.username||null,x=e.password||null;if(navigator.credentials&&y&&x)try{const e=new window.PasswordCredential({id:y,password:x});Object(u.a)("unauth_mweb.navigatorCredentials.store.attempt"),navigator.credentials&&"function"==typeof navigator.credentials.store&&navigator.credentials.store(e).then(()=>{Object(u.a)("unauth_mweb.navigatorCredentials.store.success")})}catch(S){Object(u.a)("unauth_mweb.navigatorCredentials.store.error")}return Object(O.e)({action:"signup",type:Object(h.b)(e),isCrossDomain:b,isMultipleAccounts:n}),Object(c.a)(),n&&Object(f.j)(),Object(_.a)(v)&&Object(w.g)({id:d.g,eventCategory:"NewUsers",eventName:"Mobile"}),Object(_.f)(v)&&Object(w.k)({id:"flashtalking-m-reg",eventCategory:"NewUsers",eventName:"Mobile"}),Object(_.c)(v)&&Object(w.h)({pixelId:"dpm_pixel_new_user_event",eventCategory:"NewUsers",eventName:"Mobile"}),Object(_.d)(v)&&Object(w.i)({pixelId:"dentsu_pixel_new_user_event",eventCategory:"NewUsers",eventName:"Mobile"}),o})).catch(t=>{const{apiErrorCode:i=null}=t;if(i&&i===m.c&&(Object(u.a)("multi_step_set_age_restrict_cookie"),o.b("r_r","1",4320)),!(y<3)||i&&![m.g,m.f].includes(i))throw Object(O.f)({action:"signup",type:Object(h.b)(e),error:t.message,isCrossDomain:b,isMultipleAccounts:n}),n&&Object(l.a)("registration.signup_error"),t;y+=1,C()})};return C()}},y6dK:function(e,t,n){var o=n("q1tI"),i=n("vH2r"),r=n("Lr1Z"),s=n("ki+g"),a=n("AGnR"),c=n("28DW"),l=n("yweb"),u=n("n6mq"),d=n("nKUr");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends o.PureComponent{constructor(...e){super(...e),h(this,"state",{emailFieldElement:null,shouldShowEmailSuggestion:!1,showPassword:!1}),h(this,"handleChangeEmail",({value:e})=>{const{handleChangeEmail:t}=this.props;if(this.state.shouldShowEmailSuggestion)this.setState({shouldShowEmailSuggestion:!1});else if(e.endsWith("@")){const e=this.emailInputRef;this.setState({shouldShowEmailSuggestion:!0,emailFieldElement:e})}t&&t({value:e})}),h(this,"handlePasswordFocus",()=>{Object(c.h)("focus_password")}),h(this,"handleEmailSuggestionClick",e=>{Object(c.a)("mweb_unauth_email_suggestions.login_page.tap"),this.setState({shouldShowEmailSuggestion:!1}),this.handleChangeEmail({value:e})}),h(this,"validateEmailOnBlur",()=>{const{validateEmailOnBlur:e}=this.props;!this.state.shouldShowEmailSuggestion&&e&&e()}),h(this,"passwordReset",e=>{Object(c.h)("click_forget_password"),this.props.handlePasswordReset&&this.props.handlePasswordReset(e)}),h(this,"handleLoginClick",()=>{Object(c.h)("press_login_continue"),this.props.onLoginClick&&this.props.onLoginClick()}),h(this,"togglePassword",()=>{const{showPassword:e}=this.state;Object(a.e)({event_type:e?107:106,view_type:9,element:129}),this.setState({showPassword:!e}),Object(c.h)("click_show_password")}),h(this,"handleSignupClick",()=>{const{onSignUpClick:e}=this.props;e&&e()})}render(){const{email:e,handleChangePassword:t,hideEmailField:n,hideLoginBtn:a,hidePasswordField:c,passwordValidationError:l,emailValidationError:h,validateEmailOnBlur:p,validatePasswordOnBlur:g,isSIWAError:b,isValid:f,onSubmit:m,password:j,shouldShowSignUpButton:w,showEmailAsText:_}=this.props,{emailFieldElement:O,shouldShowEmailSuggestion:y,showPassword:x}=this.state,v=b&&l;return Object(d.jsx)(u.f,{marginTop:3,marginBottom:3,children:Object(d.jsxs)("form",{onSubmit:m,autoCapitalize:"none",autoCorrect:"off",children:[!n&&_&&Object(d.jsx)(u.f,{marginBottom:5,children:Object(d.jsx)(u.bb,{align:"center",children:e})}),!n&&!_&&Object(d.jsxs)(o.Fragment,{children:[y?Object(d.jsx)(i.a,{direction:"down",email:e,emailFieldElement:O,handleEmailSuggestionClick:this.handleEmailSuggestionClick,showUsername:!0}):null,Object(d.jsx)(u.f,{marginTop:1,children:Object(d.jsx)(u.db,{errorMessage:h,id:"email",onBlur:p,onChange:this.handleChangeEmail,placeholder:this.props.i18n._("Email","Prompt for user to enter in email on the mobile web login page","Prompt for user to enter in email on the mobile web login page"),ref:e=>{this.emailInputRef=e},size:"lg",type:"email",value:e})})]}),c?null:Object(d.jsxs)(u.f,{children:[Object(d.jsxs)(u.f,{marginTop:2,position:"relative",children:[Object(d.jsx)(u.db,{autoComplete:"on",errorMessage:l,id:"password",onBlur:g,onChange:t,onFocus:this.handlePasswordFocus,placeholder:this.props.i18n._("Password","Prompt for user to enter in password on the mobile web login page","Prompt for user to enter in password on the mobile web login page"),size:"lg",type:x?"text":"password",value:j}),Object(d.jsx)(s.a,{togglePassword:this.togglePassword,showPassword:x})]}),Object(d.jsx)(u.f,{marginTop:2,"data-test-id":"reset-password",children:Object(d.jsx)(r.a,{to:"/password/reset",pressState:"background",onTouch:this.passwordReset,children:Object(d.jsx)(u.bb,{size:"sm",inline:!0,weight:"bold",children:v?this.props.i18n._("Reset your password","Heading displayed when email is entered on the password reset page","Heading displayed when email is entered on the password reset page"):this.props.i18n._("Forgot your password?","Link to the password reset page","Link to the password reset page")})})})]}),w&&Object(d.jsx)(u.f,{marginTop:3,children:Object(d.jsx)(u.g,{fullWidth:!0,color:"red",type:"submit",text:this.props.i18n._("Sign up with this email","Label for sign up button","Label for sign up button"),onClick:this.handleSignupClick})}),!a&&Object(d.jsx)(u.f,{marginTop:4,children:Object(d.jsx)(u.g,{fullWidth:!0,color:"red",type:"submit",text:this.props.i18n._("Log in","Label for log in button","Label for log in button"),disabled:!f||w,onClick:this.handleLoginClick},!f||w?"disabled":"enabled")})]})})}}t.a=function(e){const t=Object(l.c)();return Object(d.jsx)(p,{...e,i18n:t})}},"yep/":function(e,t,n){n.d(t,"a",(function(){return m}));var o=n("q1tI"),i=n("/MKj"),r=n("Hgxh"),s=n("yweb"),a=n("4NbJ"),c=n("n6mq"),l=n("nKUr");function u(){const e=Object(s.c)(),[t,n]=Object(o.useState)();return Object(l.jsxs)(c.f,{position:"relative",children:[Object(l.jsx)(c.ab,{onTap:()=>n(!0),children:Object(l.jsxs)(c.f,{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",height:40,rounding:"pill",color:"lightGray",children:[Object(l.jsx)(c.f,{height:24,width:24,marginTop:1,children:Object(l.jsx)(a.b,{size:20})}),Object(l.jsx)(c.f,{marginStart:2,children:Object(l.jsx)(c.bb,{weight:"bold",children:e._("Connect with Google","googleConnectButtonWithDisabledSDK.buttonText","Connect with Google button text")})})]})}),t&&Object(l.jsx)(r.a,{type:"google",onDismiss:()=>n(!1)})]})}var d=n("QtD7"),h=n("4NNh"),p=n("QAzJ"),g=n("28DW");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends o.Component{constructor(...e){super(...e),b(this,"gsiButtonRef",Object(o.createRef)()),b(this,"gsiSecondHomepageButtonRef",Object(o.createRef)()),b(this,"handleGoogleConnectSuccess",()=>{const{onTouch:e}=this.props;e&&e(),Object(g.h)("press_google_login")})}componentDidMount(){const{browserType:e,isAuthenticated:t,isGoogleOneTapDisabled:n,isGoogleOneTapInitialized:o,enabledSafariOneTapITPExp:i,enabledChromeOneTapITPExp:r,platform:s}=this.props;n||t||!o?(Object(a.e)(this.gsiButtonRef,this.logGSIButton.bind(this),this.handleCredentialResponse.bind(this),"ios"===s&&(2===e&&i()||1===e&&r())),t||o||Object(g.a)("mweb.gsi_button_fix.load_and_initialize_gsi_script")):Object(a.f)(this.gsiButtonRef,this.logGSIButton.bind(this))}componentDidUpdate(){const{browserType:e,isGoogleOneTapDisabled:t,isGoogleOneTapInitialized:n,showSecondGoogleButton:o,enabledSafariOneTapITPExp:i,enabledChromeOneTapITPExp:r,platform:s}=this.props;n?Object(a.f)(o?this.gsiSecondHomepageButtonRef:this.gsiButtonRef,this.logGSIButton.bind(this)):t&&Object(a.e)(o?this.gsiSecondHomepageButtonRef:this.gsiButtonRef,this.logGSIButton.bind(this),this.handleCredentialResponse.bind(this),"ios"===s&&(2===e&&i()||1===e&&r()))}shouldComponentUpdate(e){const{isGoogleOneTapDisabled:t,isGoogleOneTapInitialized:n,showSecondGoogleButton:o}=this.props;return!n&&!!e.isGoogleOneTapInitialized||!t&&!!e.isGoogleOneTapDisabled||!!o}handleCredentialResponse(e){const t=e.credential;this.logGSIButton("select_by."+e.select_by);const n={google_open_id_token:t,autologin:!1},o=Object(h.b)(t),i={google_open_id_token:t,first_name:o.given_name,last_name:o.family_name,image_url:o.picture};this.props.onGoogleConnectSuccess(n,i)}logGSIButton(e){Object(g.a)("unauth_mweb.gsi_button."+e)}render(){const{showSecondGoogleButton:e}=this.props;return Object(l.jsx)(c.f,{position:"relative",children:Object(l.jsx)(c.ab,{onTap:()=>Object(g.a)("gsi_personalized_button.tap"),children:Object(l.jsx)(c.f,{height:44,children:e?Object(l.jsx)(c.f,{ref:this.gsiSecondHomepageButtonRef,position:"absolute",width:"100%"}):Object(l.jsx)(c.f,{ref:this.gsiButtonRef,position:"absolute",width:"100%"})})})})}}function m(e){const{isGoogleOneTapInitialized:t,isGoogleOneTapDisabled:n,browserType:o,platform:r}=Object(i.useSelector)(({session:e})=>({isGoogleOneTapInitialized:e.isGoogleOneTapInitialized,isGoogleOneTapDisabled:e.isGoogleOneTapDisabled,browserType:e.browserType,platform:e.userAgentPlatform})),{anyEnabled:s}=Object(p.c)("mweb_google_disabled"),a=Object(i.useDispatch)();return s?Object(l.jsx)(u,{}):Object(l.jsx)(f,{...e,isGoogleOneTapInitialized:t,isGoogleOneTapDisabled:n,browserType:o,platform:r,enabledSafariOneTapITPExp:()=>a(Object(d.a)("mweb_unauth_safari_one_tap")).startsWith("enabled"),enabledChromeOneTapITPExp:()=>a(Object(d.a)("mweb_unauth_chrome_one_tap")).startsWith("enabled")})}},yeqU:function(e,t,n){var o=n("Lr1Z"),i=n("yweb"),r=n("28DW"),s=n("n6mq"),a=n("nKUr");t.a=({marginTop:e=4,marginBottom:t=0})=>{const n=Object(i.c)();return Object(a.jsxs)(s.f,{display:"flex",justifyContent:"center",alignItems:"baseline",marginTop:e,marginBottom:t,children:[Object(a.jsx)(s.f,{display:"flex",marginEnd:1,justifyContent:"center",children:Object(a.jsx)(s.bb,{align:"center",inline:!0,children:n._("Are you a business?","Prompt for business signup","Prompt for business signup")})}),Object(a.jsx)(s.f,{display:"flex",justifyContent:"center","data-test-id":"create-business",children:Object(a.jsx)(o.a,{inline:!0,newTab:!0,to:"/business/create",pressState:"background",onTouch:()=>Object(r.h)("click_business_signup"),children:Object(a.jsx)(s.bb,{align:"center",weight:"bold",children:n._("Get started here!","Prompt for signing up","Prompt for signing up")})})})]})}}},[["38yB","runtime","vendor-react",0,6,7,8,9,10,19,15,21,20,22,23,42,44]]]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/login-mobile-12e2df3505b38a937bb0.mjs.map