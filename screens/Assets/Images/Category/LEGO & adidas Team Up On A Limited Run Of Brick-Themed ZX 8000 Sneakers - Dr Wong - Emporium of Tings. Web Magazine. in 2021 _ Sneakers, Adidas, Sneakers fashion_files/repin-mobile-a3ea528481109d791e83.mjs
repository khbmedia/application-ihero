(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["www/pin/[id]/repin-mobile"],{"/brd":function(e,t,i){i.d(t,"a",(function(){return n})),i.d(t,"h",(function(){return r})),i.d(t,"e",(function(){return o})),i.d(t,"f",(function(){return s})),i.d(t,"g",(function(){return a})),i.d(t,"d",(function(){return c})),i.d(t,"b",(function(){return d})),i.d(t,"i",(function(){return l})),i.d(t,"c",(function(){return p}));const n=3,r=[500742,501040],o="Gender",s="InterestPicker",a="LoadingStep",c="CreatorStep",d="AppInstall",l={NUX_GENDER_STEP_NAME:o,NUX_INTEREST_PICKER_STEP_NAME:s,NUX_LOADING_STEP_NAME:a,NUX_CREATOR_STEP_NAME:c,NUX_APP_INSTALL_STEP_NAME:d},p="mweb_nux_creator_step"},"CRO+":function(e,t,i){i.r(t),i.d(t,"RepinPage",(function(){return Se})),i.d(t,"RepinPageContainer",(function(){return ve}));var n=i("q1tI"),r=i("/MKj"),o=i("PaNI"),s=i("yweb"),a=i("dKiF"),c=i("n6mq"),d=i("nKUr");const l="cubic-bezier(0.66, 0.025, 0.33, 0.975)",p=Object(a.d)((e,t,i,n,r)=>{let o=e,s=t,a=0,c=0,d="";const p=Math.floor(t/3);if("shrinkToPin"===i&&(a="24px",c=1,o=Math.floor(3*p/2),s=p),"pinToGrid"===i&&n&&r){const e=n.getBoundingClientRect(),t=r.getBoundingClientRect();d=`translate(${t.x+t.width/2-(e.x+e.width/2)}px, ${t.y+t.height/2-(e.y+e.height/2)}px)`,a="24px 0px 0px 24px",c=1,o=p,s=p}return{borderRadius:a,height:o,opacity:c,overflow:"hidden",width:s,WebkitTransformOrigin:"center center",transformOrigin:"center center",WebkitTransform:d,transform:d,WebkitTransition:"all .42s "+l,transition:"all .42s "+l}}),h=Object(a.d)(e=>({opacity:e?1:0,WebkitTransition:"opacity .42s "+l,transition:"opacity .42s "+l})),b=Object(a.d)(e=>({opacity:e?0:1,WebkitTransition:"all .25s "+l,transition:"all .25s "+l,zIndex:3}));function u({completeExperience:e,pinDominantColor:t,pinImageHeight:i,pinImageWidth:r,pinImageUrl:o}){const a=Object(s.c)(),[l,u]=Object(n.useState)("visible"),[m,g]=Object(n.useState)("none");let j,f,x,O;const _=window.innerWidth,y=_*(i/r),S=Math.floor(_/3),v=Math.floor(_/6);Object(n.useEffect)(()=>{o&&"none"===m&&(j=setTimeout(()=>{g("shrinkToPin")},85)),o&&"shrinkToPin"===m&&(f=setTimeout(()=>{g("pinToGrid")},2e3)),"pinToGrid"===m&&"visible"===l&&(x=setTimeout(()=>{u("hidden")},2e3)),"hidden"===l&&(O=setTimeout(()=>{u("none"),e()},300))}),Object(n.useEffect)(()=>()=>{clearTimeout(j),clearTimeout(f),clearTimeout(x),clearTimeout(O)},[]);const w=Object(n.useRef)(null),I=Object(n.useRef)(null);return Object(d.jsxs)(c.f,{color:"white",position:"fixed",top:!0,bottom:!0,right:!0,left:!0,display:"none"===l?"none":"flex",direction:"column",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:b("hidden"===l)},children:[Object(d.jsxs)(c.f,{height:_/2,width:"100%",marginBottom:8,display:"flex",justifyContent:"center",alignItems:"center",position:"relative",children:[Object(d.jsx)(c.f,{position:"absolute",dangerouslySetInlineStyle:{__style:h("pinToGrid"===m)},children:Object(d.jsx)(c.D,{rounding:6,width:S+v+1,height:S,children:Object(d.jsxs)(c.f,{display:"flex",justifyContent:"between",children:[Object(d.jsx)(c.f,{width:S,height:S,color:"transparent",ref:I}),Object(d.jsxs)(c.f,{display:"flex",direction:"column",justifyContent:"between",children:[Object(d.jsx)(c.f,{width:v,height:v,color:"lightGray"}),Object(d.jsx)(c.f,{width:v,height:v,color:"lightGray"})]})]})})}),Object(d.jsx)(c.f,{ref:w,position:"absolute",dangerouslySetInlineStyle:{__style:p(y,_,m,w.current,I.current)},children:Object(d.jsx)(c.y,{alt:a._("Pin image","Pin image on repin page","Pin image on repin page"),src:o,fit:"cover",naturalHeight:i,naturalWidth:r,color:t})})]}),Object(d.jsx)(c.f,{marginTop:8,marginBottom:8,paddingX:12,children:Object(d.jsx)(c.v,{align:"center",size:"md",children:a._("Keep your ideas organized by creating a board","boardPicker.edu.heading","board create education shown before user create their first board")})})]})}var m=i("7MwI"),g=i("mp1x"),j=i("Bb4+"),f=i("cr+I"),x=i.n(f),O=i("yv4w"),_=i("6adH"),y=i("ANjH"),S=i("DhV1"),v=i("QrFh"),w=i("58KG");function I(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class B extends n.PureComponent{constructor(...e){super(...e),I(this,"state",{name:""}),I(this,"onNextButtonTouch",()=>{const{name:e}=this.state,{createSectionAndRepin:t,i18n:i}=this.props;t(e,i)}),I(this,"onNameChange",e=>{this.setState({name:e.target.value})})}render(){const{pin:e,useRoundedCorners:t}=this.props,{name:i}=this.state;return Object(d.jsx)(O.a,{backButtonIcon:"arrow-back",name:i,onNameChange:this.onNameChange,onNextButtonTouch:this.onNextButtonTouch,selectedPinIds:[e.id],useRoundedCorners:t})}}var P=Object(y.compose)(_.b,Object(r.connect)(null,(e,{boardId:t,history:i,isEditingPin:n,onSuccess:r,pin:o,pinBoardId:s,pinSectionId:a,showToast:c,trackingParams:d})=>({createSectionAndRepin:(l,p)=>{const h=e=>c({text:e.message||p._("Sorry! Something went wrong on our end.","error creating board section","error creating board section"),isError:!0});e(Object(S.b)(t,[],l)).then(l=>{c({text:p._("Section added!")});const b=l.resource_response.data;e(Object(w.g)({i18n:p,pinId:o.id,boardId:t,onSuccess:n?void 0:r,onUndo:(t,i,n,r)=>Object(v.a)({dispatch:e,i18n:p,showToast:c,newPinId:i,sourcePinId:t,boardId:n,boardSectionId:r}),showToast:c,section:b,trackingParams:{clientTrackingParams:d,pinnedToBoardId:o.pinned_to_board?o.pinned_to_board.id:""}})).then(()=>{o&&s&&e(Object(w.c)(o.id,s,a)).then(()=>{var e;return o.pinned_to_board?i.replace(null!==(e=o.pinned_to_board.url)&&void 0!==e?e:""):void 0})}).catch(h)}).catch(h)}})))((function(e){const t=Object(s.c)();return Object(d.jsx)(B,{...e,i18n:t})})),T=i("yaGx"),C=i("0Blo"),E=i("HP5p"),k=i("9+B8");var F=Object(y.compose)(E.a,Object(r.connect)(null,(e,{history:t,pinDescription:i,pinBoardId:n,pin:r,pinSectionId:o,showRepinConfirmation:s,showToast:a,trackingParams:c,dismissFlyout:d})=>({repin:(i,n)=>(d(),e(Object(w.g)({i18n:n,pinId:r.id,boardId:i,onSuccess:t.goBack,onUndo:(t,i,o,s)=>Object(v.a)({dispatch:e,i18n:n,showToast:a,newPinId:i,sourcePinId:r.id,boardId:o,boardSectionId:s}),showRepinConfirmation:s,trackingParams:c}))),dispatchOneTapSave:t=>e(Object(k.b)({...t})),dispatchUnsavePin:()=>e(Object(w.c)(r.id,n||"",o))})))((function({boards:e,boardsShortlist:t,dispatchOneTapSave:i,dispatchUnsavePin:r,history:o,isEditingPin:a,isFromToast:l,onSelect:p,pin:h,repin:b,saveToProfileEnabled:u,showToast:m}){const g=Object(s.c)(),j=o.location.state&&o.location.state.isOneTapSave,f=async(e,t)=>{if(e&&t)p(t);else try{const e=await b(null==t?void 0:t.id,g);if(j&&e&&i({boardId:null==t?void 0:t.id,localPinId:e.id,pinId:h.id}),a)if(await r(),l)o.goBack();else if(h.pinned_to_board){var n;o.replace(null!==(n=h.pinned_to_board.url)&&void 0!==n?n:"")}}catch(s){m({isError:!0,text:s.message||g._("Sorry! Something went wrong on our end.","error during repin","error during repin")})}};let x=[];return x=t?e.filter(e=>t.some(t=>e.id===t.id)):e.slice(0,3),Object(d.jsxs)(n.Fragment,{children:[Object(d.jsxs)(c.f,{paddingY:4,children:[u&&Object(d.jsx)(C.a,{handleSelected:f}),x.map(e=>Object(d.jsx)(T.a,{boardId:e.id,onBoardSelected:t=>f(t,e),showSingleBoardRep:!0},e.id))]}),Object(d.jsxs)(c.f,{children:[Object(d.jsx)(c.f,{marginBottom:4,children:Object(d.jsx)(c.bb,{children:g._("All boards","RepinFlow.BoardPickerList.AllBoards","Board picker list all boards title")})}),e.map(e=>Object(d.jsx)(T.a,{boardId:e.id,onBoardSelected:t=>f(t,e),showSingleBoardRep:!0},e.id))]})]})})),R=i("kerF");var A=()=>Object(d.jsx)(R.a,{name:"mweb_repin_board_rep",children:({anyEnabled:e})=>Object(d.jsx)(c.f,{color:"lightGray",display:"inlineBlock",height:e?60:42,minWidth:e?60:42,overflow:"hidden",position:"relative",rounding:e?4:2,children:e?Object(d.jsxs)(n.Fragment,{children:[Object(d.jsx)(c.f,{color:"white",dangerouslySetInlineStyle:{__style:{left:"50%"}},height:"100%",position:"absolute",width:1}),Object(d.jsx)(c.f,{color:"white",dangerouslySetInlineStyle:{__style:{top:"50%"}},height:1,width:"50%",position:"absolute",right:!0})]}):null})}),N=i("bcHz"),D=i("go3G"),U=i("Gvmi"),W=i("fotn"),M=i("AGnR");var L=Object(y.compose)(E.a,Object(r.connect)(({pins:e,session:t,users:i},{pinId:n})=>({pin:e[n]}),(e,{pinId:t,trackingParams:{clientTrackingParams:i}})=>({createBoard:n=>e(Object(D.e)(n,"public",t,i))})))(({createBoard:e,isFirstBoard:t,history:i,onFirstBoardCreate:n,pin:r,pinId:o,pinViewParameter:a,showRepinConfirmation:l,titleSuggestions:p,trackingParams:{clientTrackingParams:h}})=>{const b=Object(s.c)(),u=(s,c,d)=>(({allSuggestions:e,handleCreateBoard:t,index:i,isFBC:n,pinViewParameter:r})=>{t(),Object(M.h)({aux_data:{board_title_list:JSON.stringify(e),is_fbc:n.toString(),selected_board_title_index:i},component:7,element:23,view_parameter:r,view_type:3})})({allSuggestions:d,handleCreateBoard:()=>{return t?n(c):void e(s=c).then(e=>(i.goBack(),e)).then(e=>{const{data:t}=e.resource_response,{url:i,id:n}=t,c=Object(U.getConfirmationToasts)(i,s,b);l(Object(W.a)({boardId:n,originalToasts:c})),Object(M.e)({event_type:5,view_type:3,component:7,view_parameter:a,object_id_str:o,clientTrackingParams:Object(m.a)(h,r),aux_data:{board_id:n,destination_board_id:n}})});var s},index:s,isFBC:t,pinViewParameter:a});return p?p.map((e,i,n)=>Object(d.jsx)(c.f,{children:Object(d.jsx)(R.a,{name:"mweb_repin_board_suggestions_with_buttons",children:({anyEnabled:r})=>r?Object(d.jsxs)(c.f,{alignItems:"center",display:"flex",paddingY:2,children:[!t&&Object(d.jsx)(A,{}),Object(d.jsx)(c.f,{flex:"grow",marginEnd:4,marginStart:t?0:4,children:Object(d.jsx)(c.v,{size:"sm",children:e})}),Object(d.jsx)(c.f,{display:"inlineBlock",flex:"none",children:Object(d.jsx)(c.g,{fullWidth:!0,onClick:()=>u(i,e,n),size:"lg",text:b._("Create","repin.boardSuggestions.createButton","Button to create the suggested board")})})]}):Object(d.jsx)(N.a,{onTouch:()=>u(i,e,n),pressState:"none",rounding:2,children:Object(d.jsxs)(c.f,{display:"flex",alignItems:"center",paddingY:2,rounding:2,children:[Object(d.jsx)(A,{}),Object(d.jsx)(c.f,{column:10,marginStart:3,children:Object(d.jsx)(c.v,{size:"sm",children:e})})]})},i)})},i)):null}),$=i("SBn3"),G=i("uevr"),H=i("0HhX");function z({allBoards:e,saveToProfileEnabled:t,boardsShortlist:i,dismissFlyout:r,history:o,isEditingPin:a,isFromToast:l,onSelect:p,pin:h,pinBoardId:b,pinDescription:u,pinSectionId:m,trackingParams:g}){const j=Object(s.c)();return Object(d.jsxs)(n.Fragment,{children:[Object(d.jsx)(c.f,{marginTop:2,children:Object(d.jsx)(c.bb,{children:j._("Top choices","boardPicker.header.topChoices","Header of a list of user's boards")})}),Object(d.jsx)(F,{boards:e,boardsShortlist:i,dismissFlyout:r,history:o,isEditingPin:a,isFromToast:l,onSelect:p,pin:h,pinBoardId:b,pinDescription:u,pinSectionId:m,saveToProfileEnabled:t,trackingParams:g})]})}function Y({allBoards:e,boardsShortlist:t,saveToProfileEnabled:i,dismissFlyout:n,history:r,isEditingPin:o,isFirstRepinExperience:a,isFromToast:l,onFirstBoardCreate:p,onSelect:h,pin:b,pinBoardId:u,pinDescription:m,pinSectionId:g,trackingParams:j,titleSuggestions:f}){const x=Object(s.c)(),O=a||0===e.length&&!i,_=()=>Object(d.jsx)(L,{history:r,isFirstBoard:O,onFirstBoardCreate:p,pinId:b.id,pinViewParameter:Object(G.a)(b),titleSuggestions:f,trackingParams:j});return O?Object(d.jsxs)(c.f,{paddingX:1,children:[Object(d.jsx)(c.f,{marginBottom:4,children:Object(d.jsx)(c.bb,{children:x._("Tap to create your first board","CTA for board title suggestions","Explain to user that tapping on suggestion creates a board")})}),_()]}):Object(d.jsxs)(c.f,{marginBottom:4,children:[Object(d.jsx)(c.f,{marginBottom:4,children:Object(d.jsx)(c.bb,{children:x._("Top choices","boardPicker.header.topChoices","Header of a list of user's boards")})}),Object(d.jsx)(F,{boards:e,boardsShortlist:t,saveToProfileEnabled:i,dismissFlyout:n,history:r,onSelect:h,pinDescription:m,pin:b,trackingParams:j,isEditingPin:o,isFromToast:l,pinBoardId:u,pinSectionId:g}),f?Object(d.jsxs)(c.f,{children:[Object(d.jsx)(c.f,{paddingY:1,children:Object(d.jsx)($.a,{children:Object(d.jsx)(c.q,{})})}),Object(d.jsx)(c.f,{paddingY:4,children:Object(d.jsx)(c.bb,{children:x._("Or tap to create a new board","boardPicker.suggestedBoardName.title","Title for repin page suggested board name section")})}),_()]}):Object(d.jsx)(c.f,{paddingY:6,children:Object(d.jsx)(c.U,{accessibilityLabel:x._("Loading repin page content"),show:!0})})]})}function q(e){const t=Object(s.c)(),{allBoards:i,boardsShortlist:n,saveToProfileEnabled:o,dismissFlyout:a,history:l,isEditingPin:p,isFetchingBoards:h,isFirstRepinExperience:b,isFromToast:u,onFirstBoardCreate:m,onSelect:g,location:j,pin:f,pinBoardId:x,pinDescription:O,pinSectionId:_}=e,y={clientTrackingParams:j.state?j.state.trackingParams:"",pinnedToBoardId:f.pinned_to_board?f.pinned_to_board.id:""},S=(v=f.id,Object(H.b)({name:"BoardTitleSuggestionsResource",options:{pin_id:v}}),Object(r.useSelector)(({pins:e})=>e[v]?e[v].boardTitleSuggestions:[]));var v;return i.length>0||!h?i.length>=10?Object(d.jsx)(z,{allBoards:i,boardsShortlist:n,dismissFlyout:a,history:l,isEditingPin:p,isFromToast:u,onSelect:g,pin:f,pinBoardId:x,pinDescription:O,pinSectionId:_,saveToProfileEnabled:o,trackingParams:y}):Object(d.jsx)(Y,{allBoards:i,boardsShortlist:n,dismissFlyout:a,history:l,isEditingPin:p,isFirstRepinExperience:b,isFromToast:u,onFirstBoardCreate:m,onSelect:g,pin:f,pinBoardId:x,pinDescription:O,pinSectionId:_,saveToProfileEnabled:o,titleSuggestions:S,trackingParams:y}):Object(d.jsx)(c.f,{paddingY:2,children:Object(d.jsx)(c.U,{accessibilityLabel:t._("Loading repin page content"),show:!0})})}var K=i("Lr1Z"),X=i("r8+8");function V({isEditingPin:e,isFirstBoardCreateActive:t,pin:i,pinBoardId:n,pinDescription:r,pinSectionId:o,trackingParams:a,onTouch:l,useIconWithBackground:p}){const h=Object(s.c)();return Object(d.jsx)(X.c,{height:p?void 0:70,hasTopShadow:p,children:Object(d.jsx)(K.a,{to:{pathname:`/board/create/${i.id}/`,state:{isFirstBoardCreateActive:t,pinnedToBoardId:i.pinned_to_board?i.pinned_to_board.id:"",pinDescription:r,trackingParams:a,isEditingPin:e,pinBoardId:n,pinSectionId:o}},onTouch:l,pressState:"background",children:Object(d.jsxs)(c.f,{"data-test-id":"repinCreateBoardButton",display:"flex",alignItems:"center",paddingY:p?0:1,paddingX:p?1:0,children:[p?Object(d.jsx)(c.f,{color:"lightGray",rounding:2,dangerouslySetInlineStyle:{__style:{padding:"14px"}},children:Object(d.jsx)(c.w,{icon:"add",color:"darkGray",size:20,accessibilityLabel:h._("Create board button")})}):Object(d.jsx)(c.w,{icon:"add-circle",color:"red",size:38,accessibilityLabel:h._("Create board button")}),Object(d.jsx)(c.f,{marginStart:p?2:3,children:Object(d.jsx)(c.bb,{weight:"bold",children:h._("Create board","Create new board to Pin to","Create new board to Pin to")})})]})})})}var Q=i("DLcE");var Z=Object(y.compose)(_.b,Object(r.connect)(null,(e,{boardId:t,onSuccess:i,pin:n,location:{search:r},showToast:o,trackingParams:s,dismissFlyout:a})=>({repin:(c,d)=>{a();const l=Object(m.a)(s,n),{isEditingPin:p}=x.a.parse(r);e(Object(w.g)({i18n:d,pinId:n.id,boardId:t,onSuccess:p?void 0:i,onUndo:(t,i,n,r)=>Object(v.a)({dispatch:e,i18n:d,showToast:o,newPinId:i,sourcePinId:t,boardId:n,boardSectionId:r}),showToast:o,section:c,trackingParams:{clientTrackingParams:l,pinnedToBoardId:n.pinned_to_board?n.pinned_to_board.id:""}})).then(()=>{var t;c&&e(Object(S.g)(null!==(t=c.id)&&void 0!==t?t:""))})},unsaveFromSection:()=>{const{pinBoardId:t,pinSectionId:i}=x.a.parse(r);return e(Object(w.c)(n.id,t,i))}})))((function({boardId:e,history:t,location:{search:i},repin:n,showSectionRep:r,unsaveFromSection:o,pin:a}){const c=Object(s.c)(),{isEditingPin:l}=x.a.parse(i);return Object(d.jsx)(Q.a,{boardId:e,repin:async(e,i)=>{var r;(await n(i,c),l)&&(await o(),null!==(r=a.pinned_to_board)&&void 0!==r&&r.url&&t.replace(a.pinned_to_board.url))},showSectionRep:r})})),J=i("HMf0"),ee=i("EQY6"),te=i("OadL"),ie=i("qpbZ");const ne=(e,t)=>!(!e||!e.placement_id||e.experience_id!==t);var re=i("44UH"),oe=i("QAzJ");function se(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const ae=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],ce=(e,t)=>Math.random()*((e||1)-(t||0))+(t||0),de=e=>e*(Math.PI/180);class le extends n.PureComponent{constructor(...e){super(...e),se(this,"animationTimer",null),se(this,"canvasRemovalTimer",null),se(this,"childrenContainerRef",Object(n.createRef)()),se(this,"containerRef",Object(n.createRef)()),se(this,"buildCanvas",()=>{if(!this.containerRef.current)return null;const e=window.innerWidth,{height:t,top:i}=this.containerRef.current.getBoundingClientRect(),n=document.createElement("canvas");return n.style.position="absolute",n.style.left="0px",n.style.top=i-(e-t)/2+"px",n.style.pointerEvents="none",n.style.width=e+"px",n.style.height=e+"px",n.width=e,n.height=e,n}),se(this,"explode",()=>{const e=this.buildCanvas();if(!e)return;const t=this.containerRef.current,i=this.childrenContainerRef.current,n=e.getContext("2d");null==t||t.insertBefore(e,i);const r=Array.from(Array(120)).map(()=>({x:e.width/2,y:e.height/2,radius:Math.round(ce(10,30)),color:ae[Math.floor(Math.random()*ae.length)],degree:Number(ce(0,360).toFixed(1)),speed:Math.round(ce(0,25)),friction:.9,opacity:Number(ce(0,.5).toFixed(1)),yVel:0,gravity:.04})),o=(e,t,i,n)=>{window.requestAnimationFrame(()=>o(e,t,i,n)),t.clearRect(0,0,i,n),e.forEach((e,i)=>{e.x+=e.speed*Math.cos(de(e.degree)),e.y+=e.speed*Math.sin(de(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(t.beginPath(),t.globalAlpha=e.opacity,t.fillStyle=e.color,t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.fill())})};o(r,n,e.width,e.height),this.canvasRemovalTimer=setTimeout(()=>{null==t||t.removeChild(e)},(this.props.delay||0)+1e3)})}componentDidUpdate(e){const{delay:t,startAnimation:i}=this.props,{startAnimation:n}=e;i&&n!==i&&(this.animationTimer=setTimeout(this.explode,t))}componentWillUnmount(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}render(){return Object(d.jsx)(c.f,{ref:this.containerRef,children:Object(d.jsx)(c.f,{ref:this.childrenContainerRef,children:this.props.children})})}}se(le,"defaultProps",{delay:0});var pe=le;function he(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const be=(e,t,i)=>{var n,r;const o=[],s=null===(n=t.current)||void 0===n?void 0:n.getBoundingClientRect(),a=null===(r=i.current)||void 0===r?void 0:r.getBoundingClientRect();if(s&&a){const e={x:a.left-s.left,y:a.top-s.top},t={x:a.width/s.width,y:a.height/s.height};o.push(`translate(${e.x}px, ${e.y}px)`),o.push(`scale(${t.x}, ${t.y})`)}return{WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?o.join(" "):"none",transform:e?o.join(" "):"none",WebkitTransition:"all .5s ease-in-out",transition:"all .5s ease-in-out",borderRadius:e?"8px 0px 0px 0px":"8px",overflow:"hidden",marginBottom:24}},ue=e=>({pointerEvents:"none",opacity:e?1:0,WebkitTransition:"opacity .4s ease-in-out",transition:"opacity .4s ease-in-out",zIndex:2}),me=e=>({opacity:e?1:0,WebkitTransform:e?"translateY(0)":"translateY(20%)",transform:e?"translateY(0)":"translateY(20%)",WebkitTransition:"all .25s ease-in-out .5s",transition:"all .25s ease-in-out .5s",textAlign:"center",marginTop:"50px"});class ge extends n.PureComponent{constructor(...e){super(...e),he(this,"state",{startAnimation:!1}),he(this,"dismissTimer",null),he(this,"pinRef",Object(n.createRef)()),he(this,"pinDestinationRef",Object(n.createRef)()),he(this,"handleAnimationAndCompletion",()=>{const{onComplete:e,savePin:t,selectedBoardName:i}=this.props;if(!i)return;const n=this.startAnimation(),r=t(i);Promise.all([n,r]).then(t=>{const[,n]=t;e(n,i)}).catch(e=>{n.then(()=>{e&&e.onError&&e.onError()})})}),he(this,"startAnimation",()=>new Promise(e=>{this.setState({startAnimation:!0},()=>{this.dismissTimer=setTimeout(()=>{e()},2600)})}))}componentWillUnmount(){this.dismissTimer&&clearTimeout(this.dismissTimer)}componentDidUpdate(){const{selectedBoardName:e}=this.props,{startAnimation:t}=this.state;e&&!t&&this.handleAnimationAndCompletion()}render(){const{pinDominantColor:e,pinImageUrl:t,selectedBoardName:i}=this.props,{startAnimation:r}=this.state;return Object(d.jsxs)(n.Fragment,{children:[Object(d.jsx)(c.V,{top:X.a,zIndex:new c.t(3),children:Object(d.jsx)(c.f,{display:"flex",color:r?"transparent":"white",justifyContent:"center",alignItems:"center",children:Object(d.jsx)(c.f,{ref:this.pinRef,height:84,width:84,position:"relative",dangerouslySetInlineStyle:{__style:be(r,this.pinRef,this.pinDestinationRef)},children:Object(d.jsx)(c.y,{alt:this.props.i18n._("Pin image","Pin image on repin page","Pin image on repin page"),src:t,fit:"cover",naturalHeight:84,naturalWidth:84,color:e})})})}),Object(d.jsx)(c.f,{color:"white",position:"fixed",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:ue(r)},children:Object(d.jsxs)(c.f,{display:"flex",justifyContent:"center",alignItems:"center",direction:"column",height:"100%",children:[Object(d.jsx)(pe,{delay:1200,startAnimation:r,children:Object(d.jsx)(c.D,{rounding:2,width:148,children:Object(d.jsx)(c.f,{display:"flex",wrap:!0,children:Array.from(Array(4)).map((e,t)=>{const i=t<=1,n=t%2,r=0===t?this.pinDestinationRef:null;return Object(d.jsx)(c.f,{ref:r,color:0===t?"transparent":"lightGray",marginBottom:i?1:0,marginEnd:n?0:1,width:72,height:72},t)})})})}),Object(d.jsx)(c.f,{paddingX:4,dangerouslySetInlineStyle:{__style:me(r)},children:Object(d.jsx)(c.v,{children:Object(ie.b)(this.props.i18n._("You saved your first Pin to {{ selectedBoardName }}!","First repin confirmation message","First repin confirmation message"),{selectedBoardName:i})})})]})})]})}}var je=function(e){const t=Object(s.c)();return Object(d.jsx)(ge,{...e,i18n:t})},fe=i("4kAQ"),xe=i("BGsa"),Oe=i("EC67");function _e(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const ye=Object(r.connect)(({session:e})=>({paddingBottom:72+(Object(xe.d)(e.userAgentPlatform)?xe.a:0)}))(({children:e,paddingBottom:t})=>Object(d.jsx)(c.f,{dangerouslySetInlineStyle:{__style:{paddingBottom:t}},children:e}));class Se extends n.PureComponent{constructor(...e){super(...e),_e(this,"state",{dupeWarningDismissed:!1,pinDescription:(this.props.pin.description||"").trim(),saved:!1,suggestedBoardName:void 0,trackingParams:(this.props.location.state||{}).trackingParams||"",warningAnchor:void 0}),_e(this,"saved",()=>this.setState({saved:!0})),_e(this,"handleBackButtonTouch",()=>{const{match:{params:{boardId:e}}}=this.props,t=e?34:75;Object(M.h)({view_type:21,view_parameter:87,component:7,element:t})}),_e(this,"handleDismissWarningFlyout",()=>this.setState({dupeWarningDismissed:!0})),_e(this,"handleFirstBoardCreateOnSuccess",(e,t)=>{const{closeupExperience:i,completeExperience:n,history:r,i18n:o,repinExperience:s,showRepinConfirmation:a}=this.props,{boardId:c,boardUrl:d}=e,l=Object(U.getConfirmationToasts)(d,t,o);r.goBack(),a(Object(W.a)({boardId:c,isFBC:!0,originalToasts:l})),i&&i.placement_id&&500742===i.experience_id&&n(i.placement_id,i.experience_id),s&&ne(s,501032)&&n(s.placement_id,s.experience_id)}),_e(this,"handleSetSelectedBoard",e=>{const{history:t,pin:i}=this.props,{trackingParams:n}=this.state;this.isFirstBoardCreateActive()||t.push(`/board/create/${i.id}/${e}/`,{trackingParams:n}),this.setState({suggestedBoardName:e})}),_e(this,"handleFirstBoardCreate",e=>{const{createBoard:t,history:i,pin:n,showToast:r}=this.props,{trackingParams:o}=this.state;return t(e).then(e=>{const t=e.resource_response.data.id;Object(M.e)({event_type:5,view_type:3,component:7,view_parameter:Object(G.a)(n),object_id_str:n.id,clientTrackingParams:Object(m.a)(o,n),aux_data:{board_id:t,destination_board_id:t}});const{data:i}=e.resource_response,{url:r}=i;return{boardId:t,boardUrl:r}},e=>{throw{onError:()=>{i.goBack(),r({text:e.message||this.props.i18n._("Sorry! Something went wrong on our end.","error creating board","error creating board"),isError:!0})}}})}),_e(this,"handleSelectBoard",e=>{const{history:t,pin:i,location:{search:n}}=this.props,{isEditingPin:r,pinBoardId:o,pinSectionId:s}=x.a.parse(n);r?t.push(`/pin/${i.id}/repin/${e.id}/?isEditingPin=true&pinBoardId=${o}&pinSectionId=${s}`):t.push({pathname:`/pin/${i.id}/repin/${e.id}/`})}),_e(this,"handleClickAddSectionButton",()=>{const{pin:e,history:t,match:{params:{boardId:i}},location:{search:n}}=this.props;if(!i)return;const{isEditingPin:r,pinBoardId:o,pinSectionId:s}=x.a.parse(n);r?t.push(`/pin/${e.id}/repin/${i}/add/?isEditingPin=true&pinBoardId=${o}&pinSectionId=${s}`):t.push({pathname:`/pin/${e.id}/repin/${i}/add/`})}),_e(this,"handleRepinToExistingSectionSuccess",()=>this.props.history.go(-2)),_e(this,"handleRepinToNewSectionSuccess",()=>this.props.history.go(-3)),_e(this,"handleRepinCreateBoardButtonTouch",()=>{Object(M.h)({view_type:21,view_parameter:87,component:7,element:249})}),_e(this,"renderCreateScreen",()=>{const{pin:e,history:t,location:{search:i},match:{params:{boardId:n}}}=this.props,{pinDescription:r,trackingParams:o}=this.state,{isEditingPin:s,pinBoardId:a,pinSectionId:c}=x.a.parse(i);return!!n&&Object(d.jsx)(P,{boardId:n,history:t,isEditingPin:s,pinBoardId:a,pinSectionId:c,onSuccess:this.handleRepinToNewSectionSuccess,pin:e,pinDescription:r.trim(),trackingParams:o,useRoundedCorners:!0})}),_e(this,"isFirstBoardCreateActive",()=>{const{allBoards:e,isFetchingBoards:t,saveToProfileEnabled:i,repinExperience:n}=this.props;return!!ne(n,501032)||!t&&0===e.length&&!i}),_e(this,"isBoardCreateEduActive",()=>{const{repinExperience:e}=this.props;return ne(e,501021)}),_e(this,"completeBoardCreateEduExperience",()=>{const{completeExperience:e,repinExperience:t}=this.props;t&&this.isBoardCreateEduActive()&&e(t.placement_id,t.experience_id)}),_e(this,"renderPicker",()=>{var e,t;const{allBoards:i,saveToProfileEnabled:n,boardsShortlist:r,history:s,isFetchingBoards:a,location:l,pin:p,match:{params:{boardId:h}},location:{search:b}}=this.props,{pinDescription:m,dupeWarningDismissed:g,saved:f,suggestedBoardName:O,trackingParams:_,warningAnchor:y}=this.state,S=m.trim(),v=p.pinned_to_board,w=v?Object(ie.b)(this.props.i18n._("Psst! You already saved this Pin to {{ board_name }}","Toast for already having repinned pin","Toast for already having repinned pin"),{board_name:v.name}).join(" "):null,{dominant_color:I}=p,B=p.images?p.images["236x"]:null,P=B?B.url:"",{isEditingPin:T,isFromToast:C,pinBoardId:E,pinSectionId:k}=x.a.parse(b),F=this.props.i18n._("Save Pin to","RepinPage.Section.Header.Title","title for section selection in repin flow"),R=new c.t(2),A=this.props.i18n._("Create board","Title for first board create",'Title for first board create. NOTE: we are testing using "collections" in place of "boards" for new users'),N=this.props.i18n._("Save to board","boardPicker.header","Title for repin page"),D=h?F:0!==i.length||a||n?N:A;return Object(d.jsxs)(j.b,{hasFixedHeader:!0,children:[Object(d.jsx)(X.d,{useRoundedCorners:!0,zIndex:R,children:Object(d.jsxs)(c.f,{display:"flex",alignItems:"center",height:40,children:[Object(d.jsx)(c.f,{column:2,children:Object(d.jsx)(o.a,{color:"darkGray",icon:h?"arrow-back":"cancel",onTouch:this.handleBackButtonTouch,alignIconLeft:!0,size:"sm"})}),Object(d.jsx)(c.f,{column:8,children:Object(d.jsx)(c.bb,{align:"center",weight:"bold",children:D})}),Object(d.jsx)(c.f,{column:2})]})}),p.images&&(this.isFirstBoardCreateActive()?Object(d.jsx)(je,{onComplete:this.handleFirstBoardCreateOnSuccess,pinDominantColor:null!=I?I:"",pinImageUrl:null!=P?P:"",savePin:this.handleFirstBoardCreate,selectedBoardName:O}):null),Object(d.jsx)(ye,{children:h?Object(d.jsx)(Z,{boardId:h,onSuccess:this.handleRepinToExistingSectionSuccess,pin:p,pinDescription:S,trackingParams:_,dismissFlyout:this.saved,showSectionRep:!0,history:s,location:l}):Object(d.jsx)(q,{allBoards:i,boardsShortlist:r,saveToProfileEnabled:n,history:s,isFetchingBoards:a,isFirstRepinExperience:this.isFirstBoardCreateActive(),isFromToast:C,location:l,onFirstBoardCreate:this.handleSetSelectedBoard,onSelect:this.handleSelectBoard,pin:p,pinDescription:S,dismissFlyout:this.saved,isEditingPin:T,pinBoardId:E,pinSectionId:k})}),h?Object(d.jsx)(ee.a,{onAddNewSection:this.handleClickAddSectionButton,useIconWithBackground:!0}):Object(d.jsx)(V,{history:s,isFirstBoardCreateActive:this.isFirstBoardCreateActive(),pin:p,pinDescription:S,trackingParams:_,onTouch:this.handleRepinCreateBoardButtonTouch,useIconWithBackground:!0,isEditingPin:T,pinBoardId:E,pinSectionId:k}),B&&this.isBoardCreateEduActive()&&Object(d.jsx)(u,{completeExperience:this.completeBoardCreateEduExperience,pinDominantColor:null!=I?I:"",pinImageHeight:null!==(e=B.height)&&void 0!==e?e:1,pinImageWidth:null!==(t=B.width)&&void 0!==t?t:1,pinImageUrl:null!=P?P:""}),y&&!f&&p.pinned_to_board&&!g&&w&&Object(d.jsx)(c.L,{anchor:y,color:"red",idealDirection:"down",onDismiss:this.handleDismissWarningFlyout,shouldFocus:!1,children:Object(d.jsx)(c.f,{padding:3,children:Object(d.jsx)(c.bb,{color:"white",weight:"bold",children:Object(d.jsx)("span",{children:w})})})})]})})}componentDidMount(){const{repinExperience:e,triggerExperimentsForPlacement:t,viewExperience:i}=this.props;t(1000153),e&&i(1000153,e.experience_id)}render(){return Object(d.jsx)(g.a,{isOpen:!0,type:"repinPage",hasCustomHeight:!0,isLegoModal:!0,childPaddingX:2,childPaddingY:0,children:Object(d.jsxs)(Oe.e,{children:[Object(d.jsx)(Oe.c,{exact:!0,path:"/pin/:id/repin/",render:this.renderPicker}),Object(d.jsx)(Oe.c,{exact:!0,path:"/pin/:id/repin/:boardId/",render:this.renderPicker}),Object(d.jsx)(Oe.c,{exact:!0,path:"/pin/:id/repin/:boardId/add/",render:this.renderCreateScreen})]})})}}function ve(e){const{match:{params:{id:t}}}=e,i=Object(s.c)(),n=Object(r.useSelector)(e=>e.session.userId),o=Object(r.useSelector)(e=>e.users[n]),a=Object(oe.b)("mweb_boardless_pins"),c=o.has_quicksave_board&&a().anyEnabled,l=Object(oe.b)(re.a),p=o.has_quicksave_board&&l().anyEnabled,h=Object(J.a)(`/pin/${t}/`),b=(u=t,Object(H.b)({name:"PinResource",options:{id:u,field_set_key:"repin"}}),Object(r.useSelector)(({pins:e})=>e[u]));var u;const{fetching:m,allBoards:g,boardsShortlist:j}=(e=>{const t=Object(r.useSelector)(e=>e.session.userId),{fetching:i}=Object(H.b)({name:"BoardPickerBoardsResource",options:{pin_id:e,field_set_key:"profile_grid_item",shortlist_suggestions:3,user_id:t}});return{fetching:i,allBoards:Object(r.useSelector)(e=>Object(te.q)(e)||[]),boardsShortlist:Object(r.useSelector)(({pins:t})=>t[e]&&t[e].boards_shortlist||[])}})(t);return Object(H.a)({name:"UserResource",options:{user_id:n,field_set_key:"quicksave"}}),h||!!b&&Object(d.jsx)(Se,{...e,i18n:i,pin:b,allBoards:g,saveToProfileEnabled:c||p,boardsShortlist:j,isFetchingBoards:m})}t.default=Object(y.compose)(Oe.l,E.a,Object(r.connect)(({experiences:e,pins:t,session:i,users:n},{match:r})=>({closeupExperience:e[1000112],repinExperience:e[1000153]}),(e,{location:t,match:i})=>{const n=i.params.id,r=Object(m.a)((t.state||{}).trackingParams);return{completeExperience:(t,i)=>e(Object(fe.a)(t,i)),triggerExperimentsForPlacement:t=>e(Object(fe.l)(t)),viewExperience:(t,i)=>e(Object(fe.n)(t,i)),createBoard:t=>e(Object(D.e)(t,"public",n,r))}}))(ve)},Gvmi:function(e,t,i){i.r(t),i.d(t,"getConfirmationToasts",(function(){return P})),i.d(t,"CreateBoardPage",(function(){return C}));var n=i("q1tI"),r=i("/MKj"),o=i("PaNI"),s=i("8ifP"),a=i("7MwI"),c=i("Bb4+"),d=i("HMf0"),l=i("HP5p"),p=i("ANjH"),h=i("go3G"),b=i("r8+8"),u=i("qpbZ"),m=i("eyT9"),g=i("/brd"),j=i("AGnR"),f=i("QrFh"),x=i("fotn"),O=i("1xPy"),_=i("yweb"),y=i("58KG"),S=i("n6mq"),v=i("4kAQ"),w=i("EC67"),I=i("nKUr");function B(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const P=(e,t,i)=>{const n=i._("Saved to new board","Board saved message if the new board's name is not found","Board saved message if the new board's name is not found");return[{text:t?Object(u.b)(i._("Saved to {{ board }}","Board saved message","Board saved message"),{board:t}).join(" "):n,href:e}]},T=e=>({color:e?"#fff":"#333",fontSize:21,fontWeight:"bold",background:"none",outline:"none",border:"none",marginTop:"4px",width:"100%"});class C extends n.PureComponent{constructor(...e){var t;super(...e),t=this,B(this,"state",{boardName:this.props.match.params.boardName||"",canSubmit:!!this.props.match.params.boardName,errorBoardNames:[],secret:!1,submitting:!1}),B(this,"handleRepinSuccess",()=>this.props.history.go(-2)),B(this,"onSwitchToggle",()=>{this.setState({secret:!this.state.secret})}),B(this,"onInputChange",e=>{const t=e.target.value,i=t.trim().length,n=i>0&&i<=100&&!this.state.errorBoardNames.includes(t);this.setState({boardName:t,canSubmit:n})}),B(this,"onCreateClick",()=>{const{boardName:e,secret:i,submitting:r}=this.state,{createPin:o,createBoard:c,dispatchUnsavePin:d,history:l,i18n:p,location:h,match:b,pin:u,repinToBoard:m,showRepinConfirmation:g,showToast:f,undoSaveAction:O}=this.props;if(r)return;const _=i?"secret":"public",y=b.params.pinId,v=h.state?h.state.pinnedToBoardId:"",w=this.props.i18n._("Created Board!","Text in toast after creating a new board","Text in toast after creating a new board");if(y){const i=Object(a.a)((h.state||{}).trackingParams,u);this.setState({submitting:!0}),c({name:e,pin:u,privacy:_}).then((async function(n){const r=n.resource_response.data.url;t.setState({submitting:!1}),Object(j.e)({event_type:20,view_type:3,object_id_str:y});const o=n.resource_response.data.id,s=h.state&&h.state.pinDescription?h.state.pinDescription:"",a=P(r,e,p),{isFirstBoardCreateActive:c,isEditingPin:b,pinBoardId:_,pinSectionId:S}=h.state||{},w=()=>g(Object(x.a)({boardId:o,isFBC:c,originalToasts:a}));var I;(s?m({i18n:t.props.i18n,pinId:y,boardId:o,onSuccess:()=>{t.completeFirstExperiences()},onUndo:O,showRepinConfirmation:e=>f(e[0]),trackingParams:{clientTrackingParams:i,pinnedToBoardId:v}}).catch(e=>{f({isError:!0,text:e.message||t.props.i18n._("Sorry! Something went wrong on our end.","error completing repin","error completing repin")})}):(t.completeFirstExperiences(w),Object(j.e)({event_type:5,view_type:3,component:7,object_id_str:y,clientTrackingParams:i,aux_data:{board_id:v,destination_board_id:o}})),b&&u)&&(await d(u.id,_,S),null!==(I=u.pinned_to_board)&&void 0!==I&&I.url&&l.replace(u.pinned_to_board.url))}),t=>{f({text:t.message||this.props.i18n._("Sorry! Something went wrong on our end.","error creating board","error creating board"),isError:!0}),this.setState({errorBoardNames:this.state.errorBoardNames.concat(e),canSubmit:!1,submitting:!1})})}else this.setState({submitting:!0}),c({name:e,pin:u,privacy:_}).then(e=>{const t=e.resource_response.data,i=this.props.location.state;if(!i){this.setState({submitting:!1});const e={text:w};return f(Object(x.a)({boardId:t.id,originalToasts:[e]})[0]),void l.replace(t.url)}const{description:r,guid:a,method:c,url:d}=i,p=[];if("scraped"===i.method)i.imgData.forEach(e=>p.push(o({link:d,image_url:e,description:r,board_id:t.id,method:c,guid:a})));else{const{base64Image:e,imageUrl:n}=i;p.push(o({link:d,image_url:n,image_base64:e,description:r,board_id:t.id,method:c,guid:a}))}Promise.all(p).then(e=>{f({text:w}),f({text:Object(I.jsxs)(n.Fragment,{children:[Object(I.jsx)(S.bb,{children:this.props.i18n._("Saved to","Saved to {{ boardName }}","Saved to {{ boardName }}")}),Object(I.jsx)(S.bb,{weight:"bold",children:t.name})]}),thumbnail:Object(I.jsx)(S.f,{width:54,height:54,children:Object(I.jsx)(s.a,{boardId:t.id,type:"thumbnail"})})}),Object(j.e)({event_type:1,view_type:92,component:7,object_id_str:e[0].resource_response.data.id}),this.setState({submitting:!1}),l.replace(t.url)},()=>{f({text:this.props.i18n._("Sorry! Something went wrong on our end.","error during pin creation","error during pin creation")}),this.setState({submitting:!1})})},e=>{this.setState({submitting:!1}),f({text:e.message_detail||e.message||this.props.i18n._("Sorry! Something went wrong on our end.","error creating board","error creating board"),isError:!0})})}),B(this,"completeFirstExperiences",e=>{const{closeupExperience:t,repinExperience:i,completeExperience:n}=this.props;if(t||i){const r=[];t&&t.placement_id&&g.h.includes(t.experience_id)&&r.push(n(t.placement_id,t.experience_id)),i&&i.placement_id&&501032===i.experience_id&&r.push(n(i.placement_id,i.experience_id)),r.length>0&&Promise.all(r).then(()=>{this.handleRepinSuccess(),e&&e()})}else this.handleRepinSuccess(),e&&e()})}componentDidMount(){const{repinExperience:e,viewExperience:t}=this.props;e&&t(e.placement_id,e.experience_id)}render(){const{i18n:e}=this.props;return Object(I.jsxs)(c.b,{hasFixedHeader:!0,children:[Object(I.jsx)(b.d,{children:Object(I.jsxs)(S.f,{display:"flex",alignItems:"center",children:[Object(I.jsx)(S.f,{flex:"none",marginStart:-2,children:Object(I.jsx)(o.a,{})}),Object(I.jsx)(S.f,{display:"flex",flex:"grow",justifyContent:"center",children:Object(I.jsx)(S.bb,{align:"center",weight:"bold",children:this.props.i18n._("Create board","Label during board creation","Label during board creation")})}),Object(I.jsx)(S.f,{display:"flex",flex:"none",justifyContent:"end",children:Object(I.jsx)(S.f,{"data-test-id":"createBoardButton",children:Object(I.jsx)(S.g,{fullWidth:!0,onClick:this.onCreateClick,color:"red",size:"sm",text:this.props.i18n._("Create","Create board button","Create board button"),disabled:!this.state.canSubmit||this.state.submitting})})})]})}),Object(I.jsx)(S.q,{}),Object(I.jsxs)(S.f,{paddingY:3,paddingX:4,children:[Object(I.jsx)(S.z,{htmlFor:"boardNameInput",children:Object(I.jsx)(S.bb,{size:"md",children:this.props.i18n._("Board name","Label during board creation","Label during board creation")})}),Object(I.jsx)("input",{id:"boardNameInput",placeholder:e._("Add"),value:this.state.boardName,style:T(Object(m.e)()),onChange:this.onInputChange})]}),Object(I.jsx)(S.q,{}),Object(I.jsxs)(S.f,{display:"flex",justifyContent:"between",paddingY:3,paddingX:4,children:[Object(I.jsx)(S.bb,{children:this.props.i18n._("Keep board secret","Toggle during board creation","Toggle during board creation")}),Object(I.jsx)(S.W,{id:"secretToggle",switched:this.state.secret,onChange:this.onSwitchToggle})]})]})}}t.default=Object(p.compose)(l.a,w.l,Object(r.connect)(({experiences:e,pins:t,session:i,users:n},{match:r})=>({closeupExperience:e[1000112],pin:r.params.pinId?t[r.params.pinId]:void 0,repinExperience:e[1000153]}),(e,{location:t,match:i,showToast:n})=>({completeExperience:(t,i)=>e(Object(v.a)(t,i)),viewExperience:(t,i)=>e(Object(v.n)(t,i)),createPin:t=>e(Object(y.b)(t)),createBoard:({name:n,pin:r,privacy:o})=>{const s=i.params.pinId,c=t.state&&t.state.pinDescription?t.state.pinDescription:"";if(s&&!c){const i=Object(a.a)((t.state||{}).trackingParams,r);return e(Object(h.e)(n,o,s,i))}return e(Object(h.e)(n,o))},undoSaveAction:(t,i,r,o,s)=>Object(f.a)({dispatch:e,i18n:s,showToast:n,newPinId:i,sourcePinId:t,boardId:r,boardSectionId:o}),repinToBoard:({i18n:t,pinId:i,boardId:n,onSuccess:r,onUndo:o,showRepinConfirmation:s,showToast:a,section:c,trackingParams:d})=>e(Object(y.g)({i18n:t,pinId:i,boardId:n,onSuccess:r,onUndo:o,showRepinConfirmation:s,showToast:a,section:c,trackingParams:d})),dispatchUnsavePin:(t,i,n)=>e(Object(y.c)(t,i||"",n))})))((function(e){const t=Object(O.b)(),i=Object(_.c)(),n=Object(d.a)("/");return e.match.params.pinId&&t?Object(I.jsx)(w.b,{to:"/"}):n||Object(I.jsx)(C,{...e,i18n:i})}))},QrFh:function(e,t,i){i.d(t,"a",(function(){return r}));var n=i("58KG");const r=({dispatch:e,i18n:t,showToast:i,newPinId:r,sourcePinId:o,boardId:s,boardSectionId:a,onSuccess:c})=>e(Object(n.c)(r,s,a)).then(()=>{e(Object(n.j)(o,s,a)),i({text:t._("Pin deleted!","Utils.Unsave.Success","User deleted their pin")}),c&&c()}).catch(()=>{i({isError:!0,text:t._("Sorry! There was an error deleting your Pin.","Utils.Unsave.Error","Error when user tried to delete pin")})})},ZFOp:function(e,t,i){e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},"cr+I":function(e,t,i){var n=i("ZFOp"),r=i("MgzW");function o(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function s(e){return Array.isArray(e)?e.sort():"object"==typeof e?s(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var i=function(e){var t;switch(e.arrayFormat){case"index":return function(e,i,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=i):n[e]=i};case"bracket":return function(e,i,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],i):n[e]=[i]:n[e]=i};default:return function(e,t,i){void 0!==i[e]?i[e]=[].concat(i[e],t):i[e]=t}}}(t=r({arrayFormat:"none"},t)),n=Object.create(null);return"string"!=typeof e?n:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),r=t.shift(),o=t.length>0?t.join("="):void 0;o=void 0===o?null:decodeURIComponent(o),i(decodeURIComponent(r),o,n)})),Object.keys(n).sort().reduce((function(e,t){var i=n[t];return Boolean(i)&&"object"==typeof i&&!Array.isArray(i)?e[t]=s(i):e[t]=i,e}),Object.create(null))):n},t.stringify=function(e,t){var i=function(e){switch(e.arrayFormat){case"index":return function(t,i,n){return null===i?[o(t,e),"[",n,"]"].join(""):[o(t,e),"[",o(n,e),"]=",o(i,e)].join("")};case"bracket":return function(t,i){return null===i?o(t,e):[o(t,e),"[]=",o(i,e)].join("")};default:return function(t,i){return null===i?o(t,e):[o(t,e),"=",o(i,e)].join("")}}}(t=r({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map((function(n){var r=e[n];if(void 0===r)return"";if(null===r)return o(n,t);if(Array.isArray(r)){var s=[];return r.slice().forEach((function(e){void 0!==e&&s.push(i(n,e,s.length))})),s.join("&")}return o(n,t)+"="+o(r,t)})).filter((function(e){return e.length>0})).join("&"):""}},dKiF:function(e,t,i){i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o})),i.d(t,"d",(function(){return s})),i.d(t,"c",(function(){return a}));const n=(e,t)=>e.length===t.length&&e.every((e,i)=>function(e,t){if("object"==typeof e&&"object"==typeof t){const i=Object.keys(e),n=Object.keys(t);return i.length===n.length&&i.every(i=>e[i]===t[i])}return e===t}(e,t[i])),r=(e,t)=>e.length===t.length&&e.every((e,i)=>e===t[i]),o=(e,t=r)=>i=>{const n=[];return function(...r){const o=this,s=n.find(e=>e.context===o&&t(e.args,r));if(s)return s.result;const a={context:o,args:r,result:i.apply(this,r)};return n.push(a),e&&n.length>e&&n.shift(),a.result}},s=o(1),a=o()}},[["CRO+","runtime","vendor-react",0,6,7,8,9,10,19,15,21,20,22,23,54,66]]]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/repin-mobile-a3ea528481109d791e83.mjs.map