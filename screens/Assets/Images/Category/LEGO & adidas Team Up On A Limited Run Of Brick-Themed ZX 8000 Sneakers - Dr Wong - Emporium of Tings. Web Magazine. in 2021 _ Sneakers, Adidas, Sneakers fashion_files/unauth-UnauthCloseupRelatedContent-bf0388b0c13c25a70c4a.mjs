(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["unauth-UnauthCloseupRelatedContent"],{Pw4u:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("+ZRO"),a=n("yweb"),s=n("n6mq"),o=n("nKUr");function r({interests:e,titleSize:t}){const n=Object(a.c)();return Object(o.jsxs)(s.f,{display:"flex",direction:"column",padding:1,marginTop:4,marginBottom:4,children:[Object(o.jsx)(s.f,{marginBottom:2,children:Object(o.jsx)(s.bb,{size:t,weight:"bold",align:"center",children:n._("Similar ideas popular now","Title of suggesting related topics module in the pin feeds.","unauth.relatedPins.suggested_ideas")})}),e.map((e,t)=>Object(o.jsx)(i.a,{interest:e,shouldWrapText:!0},t))]})}},PyyJ:function(e,t,n){n.r(t),n.d(t,"getUnauthCloseupFeedResourceOptions",(function(){return b}));var i=n("q1tI"),a=n("7w6Q"),s=n("uJ3H"),o=n("g6r8"),r=n("yweb"),l=n("QAzJ"),d=n("EC67"),c=n("n6mq"),u=n("nKUr");var p=()=>{(()=>{const e=Object(o.a)();Object(i.useEffect)(()=>{a.a.increment("unauth_end_of_related_pins_upsell.rendered",.1,{deviceType:e})},[e])})();const e=Object(r.c)(),t=(()=>{const e=Object(d.h)(),t=Object(o.a)();return()=>{e.push("/login"),a.a.increment("unauth_end_of_related_pins_upsell.login.tap",.1,{deviceType:t})}})(),n=(()=>{const e=Object(d.h)(),t=Object(o.a)();return()=>{e.push("/signup"),a.a.increment("unauth_end_of_related_pins_upsell.signup.tap",.1,{deviceType:t})}})(),{group:s,anyEnabled:p}=Object(l.b)("mweb_unauth_end_of_related_pins_upsell")();if(!p)return null;const h=s.startsWith("enabled_login_only"),_=s.startsWith("enabled_signup_only"),b=h?e._("Explore unlimited ideas with your Pinterest account","unauth.closeup.end_of_related_pins_upsell.heading","Heading shown after user has scrolled through all related Pins and is shown a Login button"):e._("Explore unlimited ideas with a free account","unauth.closeup.end_of_related_pins_upsell.heading","Heading shown after user has scrolled through all related Pins and is shown Signup and Login buttons"),j=h?Object(u.jsx)(c.f,{minWidth:130,children:Object(u.jsx)(c.g,{fullWidth:!0,color:"red",size:"lg",text:e._("Log in","unauth.closeup.end_of_related_pins_upsell.cta","Button for the user to log in"),onClick:t})}):_?Object(u.jsx)(c.f,{minWidth:130,children:Object(u.jsx)(c.g,{fullWidth:!0,color:"red",size:"lg",text:e._("Sign up","unauth.closeup.end_of_related_pins_upsell.cta","Button for the user to sign up"),onClick:n})}):Object(u.jsxs)(c.h,{children:[Object(u.jsx)(c.g,{size:"lg",text:e._("Log in","unauth.closeup.end_of_related_pins_upsell.cta","Button for the user to log in"),onClick:t}),Object(u.jsx)(c.g,{size:"lg",color:"red",text:e._("Sign up","unauth.closeup.end_of_related_pins_upsell.cta","Button for the user to sign up"),onClick:n})]});return Object(u.jsxs)(c.f,{display:"flex",direction:"column",alignItems:"center",paddingY:8,children:[Object(u.jsx)(c.f,{maxWidth:270,marginBottom:4,children:Object(u.jsx)(c.v,{size:"sm",align:"center",children:b})}),j]})},h=n("pLLR"),_=n("0HhX");const b=({isBot:e,isDesktop:t,showSeoMetadata:n,trafficSource:i,topLevelTrafficSource:a,topLevelTrafficSourceDepth:s,pinId:o})=>({field_set_key:t?"grid_item_duplo_unauth_desktop":"unauth_react",page_size:e?25:12,pin:o,prepend:!1,add_vase:!0,search_query:void 0,show_seo_canonical_pins:n||void 0,source:i,top_level_source:a,top_level_source_depth:s});t.default=e=>{const{hideMainPin:t,mainPinImageIsExpanded:n,onRelatedPinsTitleEnter:r,onRelatedPinsTitleExit:l,pin:d,relatedPinsTitleRef:c,setShouldExpandCollapsablePin:j,showSeoMetadata:f,topLevelTrafficSource:g,topLevelTrafficSourceDepth:O,trafficSource:x}=e,{isBot:m}=Object(h.d)(),P=Object(o.b)(),v=Object(_.a)({name:"RelatedPinFeedResource",options:b({isBot:m,isDesktop:P,showSeoMetadata:f,trafficSource:x,topLevelTrafficSource:g,topLevelTrafficSourceDepth:O,pinId:d.id})}),{isAtEnd:S}=v;return(e=>{const t=Object(i.useRef)(!1),n=Object(o.a)();Object(i.useEffect)(()=>{!t.current&&e&&(a.a.incrementNow("unauth_closeup_related_pins.resource_reached_end",1,{deviceType:n}),t.current=!0)},[e,n])})(S),Object(u.jsxs)("div",{children:[Object(u.jsx)(s.a,{hideMainPin:t,mainPinImageIsExpanded:n,onRelatedPinsTitleEnter:r,onRelatedPinsTitleExit:l,pin:d,relatedPinsTitleRef:c,setShouldExpandCollapsablePin:j,showSeoMetadata:f,resourceFetchState:v}),S&&Object(u.jsx)(p,{})]})}},uJ3H:function(e,t,n){n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return v}));var i=n("q1tI"),a=n("Pw4u"),s=(n("juJw"),n("yweb")),o=n("n6mq"),r=n("nKUr");var l=n("qcoM"),d=n("/A17"),c=n("g6r8");var u=({header:e,feed:t,mainPinImageIsExpanded:n,onRelatedPinsTitleEnter:a,onRelatedPinsTitleExit:s,relatedPinsTitleRef:u,setShouldExpandCollapsablePin:p})=>{const[h,_]=Object(i.useState)(!1),b=Object(i.useRef)(null),j=Object(i.useCallback)(()=>{var e;return(null===(e=b.current)||void 0===e?void 0:e.offsetTop)||0},[]),f=Object(c.b)(),g=f?2:void 0;return Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)(o.f,{height:f?32:0,ref:b}),h||n?Object(r.jsxs)(o.f,{paddingX:g,"data-layout-shift-boundary-id":"UnauthRelatedPinsWithoutDrawer",children:[Object(r.jsx)(o.f,{ref:u,children:Object(r.jsx)(d.a,{onEnter:a,onExit:s,children:e})}),t]}):Object(r.jsx)(l.b,{hideDrawer:()=>{_(!0),p(!0)},getDrawerOffsetTop:j,children:Object(r.jsxs)(o.f,{paddingX:g,children:[e,t]})})]})},p=n("hFTz"),h=n("SvRC"),_=n("EfoL"),b=n("zRck"),j=n("HhTz"),f=n("UIBZ"),g=n("pTLB");const O={id:"interestLinks",type:"interestLinks"},x=(e,t)=>({item:O,content:Object(r.jsx)(a.a,{interests:e,titleSize:t?"md":"sm"}),position:10}),m=({pin:e,showSeoMetadata:t,resourceFetchState:n})=>{var a,s;const o=Object(c.b)(),[l,d]=Object(i.useState)(0),u=Object(g.b)(),p=null==u?void 0:u.showSignupModal,j=(null===(a=e.pin_join)||void 0===a||null===(s=a.seo_related_interests)||void 0===s?void 0:s.slice(0,5))||[],O=Object(f.c)();return Object(r.jsx)(h.a,{breakIn:j?x(j,o):void 0,feedKey:"related-pins:"+e.id,trafficSource:"pin",resourceFetchState:n,feedItemProps:{componentType:13007,objectIdStr:e.id,viewData:{pin_id:e.id},viewParameter:Object(_.g)(e),viewType:3,showSeoMetadata:t,onFeedItemClick:()=>{null==O||O({type:"UNAUTH_CLOSEUP_RELATED_PIN_CLICK"})},onPinLinkClick:p?e=>{l>2?(e&&e.preventDefault(),p("signup",{source:"saveButton",container:b.e}),d(1)):d(l+1)}:void 0},serverRender:!0})},P=({hideMainPin:e})=>{const t=Object(s.c)();return e?t._("More ideas","mobilePinPage.relatedPins.title","On mobile web pin page, title for related pins"):t._("More like this","mobilePinPage.relatedPins.title","On mobile web pin page, title for related pins beneath pin closeup")};function v({hideMainPin:e,mainPinImageIsExpanded:t,onRelatedPinsTitleEnter:n,onRelatedPinsTitleExit:i,pin:a,relatedPinsTitleRef:s,setShouldExpandCollapsablePin:l,showSeoMetadata:d,resourceFetchState:c}){const{clientTrackingParams:h,viewParameter:_}=Object(j.b)();return Object(r.jsx)(u,{header:Object(r.jsx)(o.f,{justifyContent:"center",display:"flex",paddingY:4,id:"relatedPins",children:Object(r.jsx)(o.v,{size:"sm",accessibilityLevel:2,children:Object(r.jsx)(P,{hideMainPin:e})})}),feed:Object(r.jsx)(p.a,{viewParameter:_,component:86,clientTrackingParams:h,children:Object(r.jsx)(o.f,{"data-test-id":"relatedPins",children:Object(r.jsx)(m,{pin:a,showSeoMetadata:d,resourceFetchState:c})})}),mainPinImageIsExpanded:t,onRelatedPinsTitleEnter:n,onRelatedPinsTitleExit:i,relatedPinsTitleRef:s,setShouldExpandCollapsablePin:l})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/unauth-UnauthCloseupRelatedContent-bf0388b0c13c25a70c4a.mjs.map